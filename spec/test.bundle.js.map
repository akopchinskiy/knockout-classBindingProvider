{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///webpack://knockout-classBindingProvider/webpack/universalModuleDefinition","webpack:///webpack://knockout-classBindingProvider/webpack/bootstrap","webpack:///webpack://knockout-classBindingProvider/node_modules/knockout/build/output/knockout-latest.debug.js","webpack:///webpack://knockout-classBindingProvider/src/knockout-classBindingProvider.js","webpack:///webpack://knockout-classBindingProvider/(webpack)/buildin/module.js","webpack:///./node_modules/knockout/build/output/knockout-latest.debug.js","webpack:///(webpack)/buildin/module.js","webpack:///./spec/knockout-classBindingProvider.spec.js"],"names":["module","define","window","i","l","exports","modules","__webpack_require__","Object","enumerable","value","bind","DEBUG","undefined","factory","this","eval","document","navigator","jQuery","JSON","koExports","ko","exportSymbol","koPath","object","tokens","split","target","length","exportProperty","owner","publicName","version","utils","objectForEach","obj","action","prop","hasOwnProperty","knownEvents","knownEventTypesByEventName","test","userAgent","eventType","knownEventsForType","j","eventsThatMustBeRegisteredUsingAttachEvent","propertychange","ieVersion","div","createElement","iElems","getElementsByTagName","innerHTML","isClickOnCheckableElement","element","tagNameLower","type","toLowerCase","inputType","fieldsIncludedWithJsonPost","arrayForEach","array","arrayIndexOf","item","Array","prototype","indexOf","call","arrayFirst","predicate","predicateOwner","arrayRemoveItem","itemToRemove","index","splice","arrayGetDistinctValues","result","push","arrayMap","mapping","arrayFilter","arrayPushAll","valuesToPush","apply","addOrRemoveItem","included","existingEntryIndex","peekObservable","extend","source","objectMap","emptyDomNode","domNode","firstChild","removeNode","moveCleanedNodesToContainerElement","nodes","nodesArray","makeArray","container","appendChild","cleanNode","cloneNodes","shouldCleanNodes","newNodesArray","clonedNode","cloneNode","setDomNodeChildren","childNodes","replaceDomNodes","nodeToReplaceOrNodeArray","nodesToReplaceArray","nodeType","insertionPoint","parent","parentNode","insertBefore","fixUpContinuousNodeArray","continuousNodeArray","current","last","nextSibling","setOptionNodeSelectionState","optionNode","isSelected","setAttribute","selected","stringTrim","string","trim","toString","replace","stringTokenize","delimiter","trimmed","stringStartsWith","startsWith","substring","domNodeIsContainedBy","node","containedByNode","contains","compareDocumentPosition","domNodeIsAttachedToDocument","ownerDocument","documentElement","anyDomNodeIsAttachedToDocument","tagName","registerEventHandler","handler","mustUseAttachEvent","addEventListener","attachEvent","Error","attachEventHandler","event","attachEventName","domNodeDisposal","addDisposeCallback","detachEvent","originalHandler","eventData","jQuerySuppliedCheckedState","checked","checkedStateBeforeEvent","triggerEvent","createEvent","dispatchEvent","eventCategory","initEvent","fireEvent","unwrapObservable","isObservable","peek","toggleDomNodeCssClass","classNames","shouldHaveClass","cssClassNameRegex","currentClassNames","className","match","join","setTextContent","textContent","innerTextNode","virtualElements","createTextNode","data","forceRefresh","setElementName","name","mergeAttributes","e","elem","style","zoom","ensureSelectElementIsRenderedCorrectly","selectElement","originalWidth","width","range","min","max","arrayLikeObject","isIe6","isIe7","getFormFields","form","fieldName","fields","concat","isMatchingField","field","matches","parseJson","jsonString","parse","Function","stringifyJson","replacer","space","stringify","postJson","urlOrForm","options","params","includeFields","url","_typeof","originalForm","key","display","method","input","body","submit","setTimeout","removeChild","originalFunction","args","slice","arguments","shift","domData","uniqueId","dataStoreKeyExpandoPropertyName","Date","getTime","dataStore","getAll","createIfNotFound","dataStoreKey","get","allDataForNode","set","clear","nextKey","domDataKey","cleanableNodeTypes","1","8","9","cleanableNodeTypesWithDescendants","getDisposeCallbacksCollection","allDisposeCallbacks","cleanSingleNode","callbacks","nodeWithChildren","child","nextChild","cleanImmediateCommentTypeChildren","callback","removeDisposeCallback","callbacksCollection","destroyCallbacksCollection","descendants","parseHtmlFragment","html","elems","jQueryHtmlParse","tags","wrap","markup","lastChild","simpleHtmlParse","setHtml","parsedNodes","memoization","memos","randomMax8HexChars","Math","random","memoize","memoId","unmemoize","callbackParams","unmemoizeDomNodeAndDescendants","extraCallbackParamsArray","findMemoNodes","rootNode","appendToArray","parseMemoText","nodeValue","combinedParams","memoText","extenders","throttle","timeout","writeTimeoutInstance","dependentObservable","read","write","clearTimeout","notify","notifyWhen","valuesArePrimitiveAndEqual","primitiveTypes","boolean","number","a","b","subscription","disposeCallback","dispose","isDisposed","subscribable","_subscriptions","subscribe","getSubscriptionsCount","_frames","defaultEvent","callbackTarget","boundCallback","notifySubscribers","valueToNotify","hasSubscriptionsForEvent","dependencyDetection","begin","end","total","eventName","subscriptions","requestedExtenders","extenderHandler","isSubscribable","instance","distinctDependencies","pop","registerDependency","topFrame","ignore","callbackArgs","observable","initialValue","_latestValue","valueWillMutate","valueHasMutated","equalityComparer","protoProperty","hasPrototype","isWriteableObservable","hasWriteFunction","observableArray","initialValues","trackArrayChanges","remove","valueOrPredicate","underlyingArray","removedValues","removeAll","arrayOfValues","allValues","destroy","destroyAll","oldItem","newItem","methodName","cacheDiffForKnownOperation","methodCallResult","arrayChangeEventName","trackingChanges","cachedDiff","pendingNotifications","underlyingSubscribeFunction","underlyingNotifySubscribersFunction","previousContents","currentContents","changes","compareArrays","sparse","getChanges","trackChanges","rawArray","operationName","diff","arrayLength","argsLength","offset","pushDiff","startIndex","endDeleteIndex","endAddIndex","endIndex","argsIndex","status","evaluatorFunctionOrOptions","evaluatorFunctionTarget","_hasBeenEvaluated","_isBeingEvaluated","_suppressDisposalUntilDisposeWhenReturnsFalse","readFunction","disposeAllSubscriptionsToDependencies","_subscriptionsToDependencies","evaluatePossiblyAsync","throttleEvaluationTimeout","evaluationTimeoutInstance","evaluateImmediate","disposeWhen","disposalCandidates","inOld","addSubscriptionToDependency","newValue","writeFunction","isActive","disposeWhenNodeIsRemoved","disposeWhenOption","getDependenciesCount","isComputed","protoProp","objectLookup","keys","values","toJS","rootObject","mapJsObjectGraph","mapInputCallback","visitedObjects","canHaveProperties","String","Number","Boolean","outputProperties","save","visitorCallback","propertyName","visitPropertiesOrArrayEntries","indexer","propertyValue","previouslyMappedValue","valueToMap","toJSON","plainJavaScriptObject","constructor","existingIndex","selectExtensions","readValue","bindingHandlers","optionValueDomDataKey","getAttributeNode","specified","text","selectedIndex","writeValue","size","expressionRewriting","javaScriptReservedWords","javaScriptAssignmentTarget","bindingToken","RegExp","stringDouble","divisionLookBehind","keywordRegexLookBehind","in","return","typeof","parseObjectLiteral","objectLiteralString","str","charCodeAt","toks","depth","tok","c","unknown","substr","twoWayBindings","bindingRewriteValidators","preProcessBindings","bindingsStringOrKeyValueArray","bindingOptions","processKeyValue","val","writableVal","expression","getWriteableValue","propertyAccessorResultStrings","makeValueAccessors","resultStrings","keyValueArray","keyValue","keyValueArrayContainsKey","writeValueToProperty","property","allBindings","checkIfDifferent","propWriters","commentNodesHaveTextProperty","createComment","startCommentRegex","endCommentRegex","htmlTagsWithOptionallyClosingChildren","ul","ol","isStartComment","isEndComment","getVirtualChildren","startComment","allowUnbalanced","currentNode","children","getMatchingEndComment","allVirtualChildren","getUnbalancedChildTags","childNode","captureRemaining","matchingEndComment","allowedBindings","emptyNode","virtualChildren","endCommentNode","prepend","containerNode","nodeToPrepend","insertAfter","nodeToInsert","insertAfterNode","hasBindingValue","virtualNodeBindingValue","regexMatch","normaliseVirtualElementDomStructure","elementVerified","unbalancedTags","nodeToInsertBefore","bindingProvider","bindingCache","nodeHasBindings","getAttribute","getBindings","bindingContext","bindingsString","getBindingAccessors","valueAccessors","getBindingsString","parseBindingsString","cache","cacheKey","rewrittenBindings","createBindingsStringEvaluator","createBindingsStringEvaluatorViaCache","ex","message","bindingDoesNotRecurseIntoElementTypes","script","makeValueAccessor","evaluateValueAccessor","valueAccessor","makeAccessorsFromFunction","getBindingsAndMakeAccessors","context","applyBindingsToDescendantsInternal","elementOrVirtualElement","bindingContextsMayDifferFromDomParentElement","currentChild","nextInQueue","provider","preprocessNode","applyBindingsToNodeAndDescendantsInternal","nodeVerified","bindingContextMayDifferFromDomParentElement","shouldBindDescendants","isElement","applyBindingsToNodeInternal","bindingKey","dataItemOrAccessor","parentContext","dataItemAlias","extendCallback","self","isFunc","dataItem","_subscribable","_addNode","unshift","properties","boundElementDomDataKey","sourceBindings","bindings","bindingHandlerThatControlsDescendantBindings","alreadyBound","storedBindingContextForNode","bindingsUpdater","getValueAccessor","orderedBindings","bindingsConsidered","cyclicDependencyStack","pushBinding","binding","bindingDependencyKey","topologicalSortBindings","bindingKeyAndHandler","handlerInitFn","handlerUpdateFn","bindingName","validateThatBindingIsAllowedForVirtualElements","initResult","storedBindingContextDomDataKey","getBindingContext","viewModelOrBindingContext","applyBindingAccessorsToNode","applyBindingsToNode","makeBindingAccessors","applyBindingsToDescendants","applyBindings","contextFor","dataFor","attrHtmlToJavascriptMap","class","for","update","attrName","attrValue","toRemove","removeAttribute","after","init","checkedValue","updateModel","isChecked","elemValue","useCheckedValue","shouldSet","isRadio","modelValue","isValueArray","oldElemValue","isCheckbox","disabled","viewModel","eventsToHandle","handlerReturnValue","handlerFunction","argsForHandler","preventDefault","returnValue","cancelBubble","stopPropagation","makeTemplateValueAccessor","unwrappedValue","foreach","as","includeDestroyed","afterAdd","beforeRemove","afterRender","beforeMove","afterMove","templateEngine","nativeTemplateEngine","handleElementFocusChange","isFocused","ownerDoc","active","activeElement","handleElementFocusIn","handleElementFocusOut","focus","blur","controlsDescendantBindings","withIfDomDataKey","makeWithIfBinding","isWith","isNot","makeContextCallback","withIfData","dataValue","shouldDisplay","isFirstRender","savedNodes","didDisplayOnLastUpdate","selectedOptions","captionValue","previousSelectedValues","previousScrollTop","multiple","scrollTop","unwrappedArray","captionPlaceholder","filteredArray","applyToObject","defaultValue","predicateType","itemUpdate","setSelectionCallback","arrayEntry","newOptions","setDomNodeChildrenFromArrayMapping","oldOptions","option","optionValue","optionText","abs","valueToWrite","styleName","styleValue","currentIndex","eventsToCatch","requestedEventsToCatch","propertyChangedFired","valueUpdateHandler","elementValue","autocomplete","valueIsSelectOption","applyValueAction","isCurrentlyVisible","templateSource","template","templateDocument","getElementById","templateSources","domElement","anonymousTemplate","rewriterCallback","rewritten","templateRewriting","memoizeDataBindingAttributeSyntaxRegex","memoizeVirtualContainerBindingSyntaxRegex","constructMemoizedTagReplacement","dataBindAttributeValue","tagToRetain","nodeName","dataBindKeyValueArray","allValidators","validator","possibleErrorMessage","validateDataBindValuesForRewriting","applyBindingsToNextSiblingScript","ensureTemplateIsRewritten","htmlString","memoizeBindingAttributeSyntax","applyMemoizedBindingsToNextSibling","nodeToBind","elemContentsProperty","dataDomDataPrefix","anonymousTemplatesDomDataKey","templateData","textData","containerData","_templateEngine","invokeForEachNodeInContinuousRange","firstNode","lastNode","firstOutOfRangeNode","activateBindingsOnContinuousNodeArray","nextNodeInRange","nodePreviousSibling","previousSibling","newNodes","getFirstNodeFromPossibleArray","nodeOrNodeArray","executeTemplate","targetNodeOrNodeArray","renderMode","firstTargetNode","templateEngineToUse","renderedNodesArray","haveAddedNodesToParent","setTemplateEngine","renderTemplate","dataOrBindingContext","activelyDisposeWhenNodeIsRemoved","templateName","renderTemplateForEach","arrayOrObservableArray","targetNode","parentBindingContext","arrayItemContext","executeTemplateForArrayItem","arrayValue","activateBindingsCallback","addedNodesArray","templateComputedDomDataKey","bindingValue","templateNodes","templateComputed","dataArray","innerBindingContext","newComputed","oldComputed","disposeOldComputedAndStoreNewOne","parsedBindingValue","statusNotInOld","statusNotInNew","compareSmallArrayToBigArray","smlArray","bigArray","statusNotInSml","statusNotInBig","smlIndex","bigIndex","thisRow","lastRow","bigIndexMaxForRow","myMin","myMax","editDistanceMatrix","smlIndexMax","bigIndexMax","compareRange","maxDistance","northDistance","westDistance","meMinusOne","editScript","notInSml","notInBig","failedCompares","d","notInSmlItem","notInBigItem","limitFailedCompares","reverse","oldArray","newArray","dontLimitMoves","mapNodeAndRefreshWhenChanged","callbackAfterAddingNodes","mappedNodes","newMappedNodes","lastMappingResultDomDataKey","mapData","isFirstExecution","lastMappingResult","lastArray","x","newMappingResult","lastMappingResultIndex","newMappingResultIndex","nodesToDelete","itemsToProcess","itemsForBeforeRemoveCallbacks","itemsForMoveCallbacks","itemsForAfterAddCallbacks","itemMovedOrRetained","editScriptIndex","oldPosition","indexObservable","callCallback","items","n","editScriptItem","movedIndex","nextNode","initialized","templateText","jqueryTmplTemplateEngine","jQueryTmplVersion","ensureHasReferencedJQueryTemplates","precompiled","resultNodes","compiledTemplate","jQueryTemplateOptions","koBindingContext","templateMarkup","open","close","jqueryTmplTemplateEngineInstance","__WEBPACK_AMD_DEFINE_RESULT__","dummyDiv","isMinified","subscribableName","dummySubscribable","KnockoutClassBindingProvider","_classCallCheck","existingProvider","attribute","virtualAttribute","fallback","bindingRouter","classPath","bindingObject","registerBindings","newBindings","getBindingsFunction","getAccessors","bindingAccessor","classes","$data","webpackPolyfill","deprecate","paths","defineProperty","keyEventTypeName","hasExistingDataStore","leadingCommentRegex","generateRandomId","oldValueIsPrimitive","applyExtenders","maxNestedObservableDepth","hasDomDataExpandoProperty","stringSingle","stringRegexp","specials","everyThingElse","oneNotSpace","callPreprocessHook","defaultBindingAttributeName","bindingFunction","functionBody","updateContext","shouldApplyBindings","updateView","classesWrittenByBindingKey","makeEventHandlerShortcut","newValueAccessor","bubble","hasfocusUpdatingProperty","hasfocusLastValue","needsRefresh","selectWasPreviouslyEmpty","optionForArrayItem","selectionChanged","ieAutoCompleteHackNeeded","valueHasChanged","rewrittenDataBindAttributeValue","whenToDispose","bigIndexMinForRow","useNodesIfAvailable","templateNodesFunc","classBindingProvider","describe","beforeEach","it","expect","toBeDefined","one","toEqual","toBeFalsy","toBeTruthy","comment","visible","valueOfThis","bindingSpy","jasmine","createSpy","toHaveBeenCalled","mostRecentCall","two","valueOfThisOne","valueOfThisTwo","bindingSpyOne","bindingSpyTwo","toBeUndefined","three","enabled","four","css","sub","attr","title","innerText","testing","commentStart","commentEnd","with","childFallback","router","spyOn","toHaveBeenCalledWith"],"mappings":"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","file":"test.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./spec/knockout-classBindingProvider.spec.js\");\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"knockout-classBindingProvider\"] = factory();\n\telse\n\t\troot[\"knockout-classBindingProvider\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","// Knockout JavaScript library v3.0.0\n// (c) Steven Sanderson - http://knockoutjs.com/\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\n\n(function(){\nvar DEBUG=true;\n(function(undefined){\n    // (0, eval)('this') is a robust way of getting a reference to the global object\n    // For details, see http://stackoverflow.com/questions/14119988/return-this-0-evalthis/14120023#14120023\n    var window = this || (0, eval)('this'),\n        document = window['document'],\n        navigator = window['navigator'],\n        jQuery = window[\"jQuery\"],\n        JSON = window[\"JSON\"];\n(function(factory) {\n    // Support three module loading scenarios\n    if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {\n        // [1] CommonJS/Node.js\n        var target = module['exports'] || exports; // module.exports is for Node.js\n        factory(target);\n    } else if (typeof define === 'function' && define['amd']) {\n        // [2] AMD anonymous module\n        define(['exports'], factory);\n    } else {\n        // [3] No module loader (plain <script> tag) - put directly in global namespace\n        factory(window['ko'] = {});\n    }\n}(function(koExports){\n// Internally, all KO objects are attached to koExports (even the non-exported ones whose names will be minified by the closure compiler).\n// In the future, the following \"ko\" variable may be made distinct from \"koExports\" so that private objects are not externally reachable.\nvar ko = typeof koExports !== 'undefined' ? koExports : {};\n// Google Closure Compiler helpers (used only to make the minified file smaller)\nko.exportSymbol = function(koPath, object) {\n\tvar tokens = koPath.split(\".\");\n\n\t// In the future, \"ko\" may become distinct from \"koExports\" (so that non-exported objects are not reachable)\n\t// At that point, \"target\" would be set to: (typeof koExports !== \"undefined\" ? koExports : ko)\n\tvar target = ko;\n\n\tfor (var i = 0; i < tokens.length - 1; i++)\n\t\ttarget = target[tokens[i]];\n\ttarget[tokens[tokens.length - 1]] = object;\n};\nko.exportProperty = function(owner, publicName, object) {\n  owner[publicName] = object;\n};\nko.version = \"3.0.0\";\n\nko.exportSymbol('version', ko.version);\nko.utils = (function () {\n    var objectForEach = function(obj, action) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                action(prop, obj[prop]);\n            }\n        }\n    };\n\n    // Represent the known event types in a compact way, then at runtime transform it into a hash with event name as key (for fast lookup)\n    var knownEvents = {}, knownEventTypesByEventName = {};\n    var keyEventTypeName = (navigator && /Firefox\\/2/i.test(navigator.userAgent)) ? 'KeyboardEvent' : 'UIEvents';\n    knownEvents[keyEventTypeName] = ['keyup', 'keydown', 'keypress'];\n    knownEvents['MouseEvents'] = ['click', 'dblclick', 'mousedown', 'mouseup', 'mousemove', 'mouseover', 'mouseout', 'mouseenter', 'mouseleave'];\n    objectForEach(knownEvents, function(eventType, knownEventsForType) {\n        if (knownEventsForType.length) {\n            for (var i = 0, j = knownEventsForType.length; i < j; i++)\n                knownEventTypesByEventName[knownEventsForType[i]] = eventType;\n        }\n    });\n    var eventsThatMustBeRegisteredUsingAttachEvent = { 'propertychange': true }; // Workaround for an IE9 issue - https://github.com/SteveSanderson/knockout/issues/406\n\n    // Detect IE versions for bug workarounds (uses IE conditionals, not UA string, for robustness)\n    // Note that, since IE 10 does not support conditional comments, the following logic only detects IE < 10.\n    // Currently this is by design, since IE 10+ behaves correctly when treated as a standard browser.\n    // If there is a future need to detect specific versions of IE10+, we will amend this.\n    var ieVersion = document && (function() {\n        var version = 3, div = document.createElement('div'), iElems = div.getElementsByTagName('i');\n\n        // Keep constructing conditional HTML blocks until we hit one that resolves to an empty fragment\n        while (\n            div.innerHTML = '<!--[if gt IE ' + (++version) + ']><i></i><![endif]-->',\n            iElems[0]\n        ) {}\n        return version > 4 ? version : undefined;\n    }());\n    var isIe6 = ieVersion === 6,\n        isIe7 = ieVersion === 7;\n\n    function isClickOnCheckableElement(element, eventType) {\n        if ((ko.utils.tagNameLower(element) !== \"input\") || !element.type) return false;\n        if (eventType.toLowerCase() != \"click\") return false;\n        var inputType = element.type;\n        return (inputType == \"checkbox\") || (inputType == \"radio\");\n    }\n\n    return {\n        fieldsIncludedWithJsonPost: ['authenticity_token', /^__RequestVerificationToken(_.*)?$/],\n\n        arrayForEach: function (array, action) {\n            for (var i = 0, j = array.length; i < j; i++)\n                action(array[i]);\n        },\n\n        arrayIndexOf: function (array, item) {\n            if (typeof Array.prototype.indexOf == \"function\")\n                return Array.prototype.indexOf.call(array, item);\n            for (var i = 0, j = array.length; i < j; i++)\n                if (array[i] === item)\n                    return i;\n            return -1;\n        },\n\n        arrayFirst: function (array, predicate, predicateOwner) {\n            for (var i = 0, j = array.length; i < j; i++)\n                if (predicate.call(predicateOwner, array[i]))\n                    return array[i];\n            return null;\n        },\n\n        arrayRemoveItem: function (array, itemToRemove) {\n            var index = ko.utils.arrayIndexOf(array, itemToRemove);\n            if (index >= 0)\n                array.splice(index, 1);\n        },\n\n        arrayGetDistinctValues: function (array) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++) {\n                if (ko.utils.arrayIndexOf(result, array[i]) < 0)\n                    result.push(array[i]);\n            }\n            return result;\n        },\n\n        arrayMap: function (array, mapping) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++)\n                result.push(mapping(array[i]));\n            return result;\n        },\n\n        arrayFilter: function (array, predicate) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++)\n                if (predicate(array[i]))\n                    result.push(array[i]);\n            return result;\n        },\n\n        arrayPushAll: function (array, valuesToPush) {\n            if (valuesToPush instanceof Array)\n                array.push.apply(array, valuesToPush);\n            else\n                for (var i = 0, j = valuesToPush.length; i < j; i++)\n                    array.push(valuesToPush[i]);\n            return array;\n        },\n\n        addOrRemoveItem: function(array, value, included) {\n            var existingEntryIndex = ko.utils.arrayIndexOf(ko.utils.peekObservable(array), value);\n            if (existingEntryIndex < 0) {\n                if (included)\n                    array.push(value);\n            } else {\n                if (!included)\n                    array.splice(existingEntryIndex, 1);\n            }\n        },\n\n        extend: function (target, source) {\n            if (source) {\n                for(var prop in source) {\n                    if(source.hasOwnProperty(prop)) {\n                        target[prop] = source[prop];\n                    }\n                }\n            }\n            return target;\n        },\n\n        objectForEach: objectForEach,\n\n        objectMap: function(source, mapping) {\n            if (!source)\n                return source;\n            var target = {};\n            for (var prop in source) {\n                if (source.hasOwnProperty(prop)) {\n                    target[prop] = mapping(source[prop], prop, source);\n                }\n            }\n            return target;\n        },\n\n        emptyDomNode: function (domNode) {\n            while (domNode.firstChild) {\n                ko.removeNode(domNode.firstChild);\n            }\n        },\n\n        moveCleanedNodesToContainerElement: function(nodes) {\n            // Ensure it's a real array, as we're about to reparent the nodes and\n            // we don't want the underlying collection to change while we're doing that.\n            var nodesArray = ko.utils.makeArray(nodes);\n\n            var container = document.createElement('div');\n            for (var i = 0, j = nodesArray.length; i < j; i++) {\n                container.appendChild(ko.cleanNode(nodesArray[i]));\n            }\n            return container;\n        },\n\n        cloneNodes: function (nodesArray, shouldCleanNodes) {\n            for (var i = 0, j = nodesArray.length, newNodesArray = []; i < j; i++) {\n                var clonedNode = nodesArray[i].cloneNode(true);\n                newNodesArray.push(shouldCleanNodes ? ko.cleanNode(clonedNode) : clonedNode);\n            }\n            return newNodesArray;\n        },\n\n        setDomNodeChildren: function (domNode, childNodes) {\n            ko.utils.emptyDomNode(domNode);\n            if (childNodes) {\n                for (var i = 0, j = childNodes.length; i < j; i++)\n                    domNode.appendChild(childNodes[i]);\n            }\n        },\n\n        replaceDomNodes: function (nodeToReplaceOrNodeArray, newNodesArray) {\n            var nodesToReplaceArray = nodeToReplaceOrNodeArray.nodeType ? [nodeToReplaceOrNodeArray] : nodeToReplaceOrNodeArray;\n            if (nodesToReplaceArray.length > 0) {\n                var insertionPoint = nodesToReplaceArray[0];\n                var parent = insertionPoint.parentNode;\n                for (var i = 0, j = newNodesArray.length; i < j; i++)\n                    parent.insertBefore(newNodesArray[i], insertionPoint);\n                for (var i = 0, j = nodesToReplaceArray.length; i < j; i++) {\n                    ko.removeNode(nodesToReplaceArray[i]);\n                }\n            }\n        },\n\n        fixUpContinuousNodeArray: function(continuousNodeArray, parentNode) {\n            // Before acting on a set of nodes that were previously outputted by a template function, we have to reconcile\n            // them against what is in the DOM right now. It may be that some of the nodes have already been removed, or that\n            // new nodes might have been inserted in the middle, for example by a binding. Also, there may previously have been\n            // leading comment nodes (created by rewritten string-based templates) that have since been removed during binding.\n            // So, this function translates the old \"map\" output array into its best guess of the set of current DOM nodes.\n            //\n            // Rules:\n            //   [A] Any leading nodes that have been removed should be ignored\n            //       These most likely correspond to memoization nodes that were already removed during binding\n            //       See https://github.com/SteveSanderson/knockout/pull/440\n            //   [B] We want to output a continuous series of nodes. So, ignore any nodes that have already been removed,\n            //       and include any nodes that have been inserted among the previous collection\n\n            if (continuousNodeArray.length) {\n                // The parent node can be a virtual element; so get the real parent node\n                parentNode = (parentNode.nodeType === 8 && parentNode.parentNode) || parentNode;\n\n                // Rule [A]\n                while (continuousNodeArray.length && continuousNodeArray[0].parentNode !== parentNode)\n                    continuousNodeArray.splice(0, 1);\n\n                // Rule [B]\n                if (continuousNodeArray.length > 1) {\n                    var current = continuousNodeArray[0], last = continuousNodeArray[continuousNodeArray.length - 1];\n                    // Replace with the actual new continuous node set\n                    continuousNodeArray.length = 0;\n                    while (current !== last) {\n                        continuousNodeArray.push(current);\n                        current = current.nextSibling;\n                        if (!current) // Won't happen, except if the developer has manually removed some DOM elements (then we're in an undefined scenario)\n                            return;\n                    }\n                    continuousNodeArray.push(last);\n                }\n            }\n            return continuousNodeArray;\n        },\n\n        setOptionNodeSelectionState: function (optionNode, isSelected) {\n            // IE6 sometimes throws \"unknown error\" if you try to write to .selected directly, whereas Firefox struggles with setAttribute. Pick one based on browser.\n            if (ieVersion < 7)\n                optionNode.setAttribute(\"selected\", isSelected);\n            else\n                optionNode.selected = isSelected;\n        },\n\n        stringTrim: function (string) {\n            return string === null || string === undefined ? '' :\n                string.trim ?\n                    string.trim() :\n                    string.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, '');\n        },\n\n        stringTokenize: function (string, delimiter) {\n            var result = [];\n            var tokens = (string || \"\").split(delimiter);\n            for (var i = 0, j = tokens.length; i < j; i++) {\n                var trimmed = ko.utils.stringTrim(tokens[i]);\n                if (trimmed !== \"\")\n                    result.push(trimmed);\n            }\n            return result;\n        },\n\n        stringStartsWith: function (string, startsWith) {\n            string = string || \"\";\n            if (startsWith.length > string.length)\n                return false;\n            return string.substring(0, startsWith.length) === startsWith;\n        },\n\n        domNodeIsContainedBy: function (node, containedByNode) {\n            if (node === containedByNode)\n                return true;\n            if (node.nodeType === 11)\n                return false; // Fixes issue #1162 - can't use node.contains for document fragments on IE8\n            if (containedByNode.contains)\n                return containedByNode.contains(node.nodeType === 3 ? node.parentNode : node);\n            if (containedByNode.compareDocumentPosition)\n                return (containedByNode.compareDocumentPosition(node) & 16) == 16;\n            while (node && node != containedByNode) {\n                node = node.parentNode;\n            }\n            return !!node;\n        },\n\n        domNodeIsAttachedToDocument: function (node) {\n            return ko.utils.domNodeIsContainedBy(node, node.ownerDocument.documentElement);\n        },\n\n        anyDomNodeIsAttachedToDocument: function(nodes) {\n            return !!ko.utils.arrayFirst(nodes, ko.utils.domNodeIsAttachedToDocument);\n        },\n\n        tagNameLower: function(element) {\n            // For HTML elements, tagName will always be upper case; for XHTML elements, it'll be lower case.\n            // Possible future optimization: If we know it's an element from an XHTML document (not HTML),\n            // we don't need to do the .toLowerCase() as it will always be lower case anyway.\n            return element && element.tagName && element.tagName.toLowerCase();\n        },\n\n        registerEventHandler: function (element, eventType, handler) {\n            var mustUseAttachEvent = ieVersion && eventsThatMustBeRegisteredUsingAttachEvent[eventType];\n            if (!mustUseAttachEvent && typeof jQuery != \"undefined\") {\n                if (isClickOnCheckableElement(element, eventType)) {\n                    // For click events on checkboxes, jQuery interferes with the event handling in an awkward way:\n                    // it toggles the element checked state *after* the click event handlers run, whereas native\n                    // click events toggle the checked state *before* the event handler.\n                    // Fix this by intecepting the handler and applying the correct checkedness before it runs.\n                    var originalHandler = handler;\n                    handler = function(event, eventData) {\n                        var jQuerySuppliedCheckedState = this.checked;\n                        if (eventData)\n                            this.checked = eventData.checkedStateBeforeEvent !== true;\n                        originalHandler.call(this, event);\n                        this.checked = jQuerySuppliedCheckedState; // Restore the state jQuery applied\n                    };\n                }\n                jQuery(element)['bind'](eventType, handler);\n            } else if (!mustUseAttachEvent && typeof element.addEventListener == \"function\")\n                element.addEventListener(eventType, handler, false);\n            else if (typeof element.attachEvent != \"undefined\") {\n                var attachEventHandler = function (event) { handler.call(element, event); },\n                    attachEventName = \"on\" + eventType;\n                element.attachEvent(attachEventName, attachEventHandler);\n\n                // IE does not dispose attachEvent handlers automatically (unlike with addEventListener)\n                // so to avoid leaks, we have to remove them manually. See bug #856\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n                    element.detachEvent(attachEventName, attachEventHandler);\n                });\n            } else\n                throw new Error(\"Browser doesn't support addEventListener or attachEvent\");\n        },\n\n        triggerEvent: function (element, eventType) {\n            if (!(element && element.nodeType))\n                throw new Error(\"element must be a DOM node when calling triggerEvent\");\n\n            if (typeof jQuery != \"undefined\") {\n                var eventData = [];\n                if (isClickOnCheckableElement(element, eventType)) {\n                    // Work around the jQuery \"click events on checkboxes\" issue described above by storing the original checked state before triggering the handler\n                    eventData.push({ checkedStateBeforeEvent: element.checked });\n                }\n                jQuery(element)['trigger'](eventType, eventData);\n            } else if (typeof document.createEvent == \"function\") {\n                if (typeof element.dispatchEvent == \"function\") {\n                    var eventCategory = knownEventTypesByEventName[eventType] || \"HTMLEvents\";\n                    var event = document.createEvent(eventCategory);\n                    event.initEvent(eventType, true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, element);\n                    element.dispatchEvent(event);\n                }\n                else\n                    throw new Error(\"The supplied element doesn't support dispatchEvent\");\n            } else if (typeof element.fireEvent != \"undefined\") {\n                // Unlike other browsers, IE doesn't change the checked state of checkboxes/radiobuttons when you trigger their \"click\" event\n                // so to make it consistent, we'll do it manually here\n                if (isClickOnCheckableElement(element, eventType))\n                    element.checked = element.checked !== true;\n                element.fireEvent(\"on\" + eventType);\n            }\n            else\n                throw new Error(\"Browser doesn't support triggering events\");\n        },\n\n        unwrapObservable: function (value) {\n            return ko.isObservable(value) ? value() : value;\n        },\n\n        peekObservable: function (value) {\n            return ko.isObservable(value) ? value.peek() : value;\n        },\n\n        toggleDomNodeCssClass: function (node, classNames, shouldHaveClass) {\n            if (classNames) {\n                var cssClassNameRegex = /\\S+/g,\n                    currentClassNames = node.className.match(cssClassNameRegex) || [];\n                ko.utils.arrayForEach(classNames.match(cssClassNameRegex), function(className) {\n                    ko.utils.addOrRemoveItem(currentClassNames, className, shouldHaveClass);\n                });\n                node.className = currentClassNames.join(\" \");\n            }\n        },\n\n        setTextContent: function(element, textContent) {\n            var value = ko.utils.unwrapObservable(textContent);\n            if ((value === null) || (value === undefined))\n                value = \"\";\n\n            // We need there to be exactly one child: a text node.\n            // If there are no children, more than one, or if it's not a text node,\n            // we'll clear everything and create a single text node.\n            var innerTextNode = ko.virtualElements.firstChild(element);\n            if (!innerTextNode || innerTextNode.nodeType != 3 || ko.virtualElements.nextSibling(innerTextNode)) {\n                ko.virtualElements.setDomNodeChildren(element, [document.createTextNode(value)]);\n            } else {\n                innerTextNode.data = value;\n            }\n\n            ko.utils.forceRefresh(element);\n        },\n\n        setElementName: function(element, name) {\n            element.name = name;\n\n            // Workaround IE 6/7 issue\n            // - https://github.com/SteveSanderson/knockout/issues/197\n            // - http://www.matts411.com/post/setting_the_name_attribute_in_ie_dom/\n            if (ieVersion <= 7) {\n                try {\n                    element.mergeAttributes(document.createElement(\"<input name='\" + element.name + \"'/>\"), false);\n                }\n                catch(e) {} // For IE9 with doc mode \"IE9 Standards\" and browser mode \"IE9 Compatibility View\"\n            }\n        },\n\n        forceRefresh: function(node) {\n            // Workaround for an IE9 rendering bug - https://github.com/SteveSanderson/knockout/issues/209\n            if (ieVersion >= 9) {\n                // For text nodes and comment nodes (most likely virtual elements), we will have to refresh the container\n                var elem = node.nodeType == 1 ? node : node.parentNode;\n                if (elem.style)\n                    elem.style.zoom = elem.style.zoom;\n            }\n        },\n\n        ensureSelectElementIsRenderedCorrectly: function(selectElement) {\n            // Workaround for IE9 rendering bug - it doesn't reliably display all the text in dynamically-added select boxes unless you force it to re-render by updating the width.\n            // (See https://github.com/SteveSanderson/knockout/issues/312, http://stackoverflow.com/questions/5908494/select-only-shows-first-char-of-selected-option)\n            // Also fixes IE7 and IE8 bug that causes selects to be zero width if enclosed by 'if' or 'with'. (See issue #839)\n            if (ieVersion) {\n                var originalWidth = selectElement.style.width;\n                selectElement.style.width = 0;\n                selectElement.style.width = originalWidth;\n            }\n        },\n\n        range: function (min, max) {\n            min = ko.utils.unwrapObservable(min);\n            max = ko.utils.unwrapObservable(max);\n            var result = [];\n            for (var i = min; i <= max; i++)\n                result.push(i);\n            return result;\n        },\n\n        makeArray: function(arrayLikeObject) {\n            var result = [];\n            for (var i = 0, j = arrayLikeObject.length; i < j; i++) {\n                result.push(arrayLikeObject[i]);\n            };\n            return result;\n        },\n\n        isIe6 : isIe6,\n        isIe7 : isIe7,\n        ieVersion : ieVersion,\n\n        getFormFields: function(form, fieldName) {\n            var fields = ko.utils.makeArray(form.getElementsByTagName(\"input\")).concat(ko.utils.makeArray(form.getElementsByTagName(\"textarea\")));\n            var isMatchingField = (typeof fieldName == 'string')\n                ? function(field) { return field.name === fieldName }\n                : function(field) { return fieldName.test(field.name) }; // Treat fieldName as regex or object containing predicate\n            var matches = [];\n            for (var i = fields.length - 1; i >= 0; i--) {\n                if (isMatchingField(fields[i]))\n                    matches.push(fields[i]);\n            };\n            return matches;\n        },\n\n        parseJson: function (jsonString) {\n            if (typeof jsonString == \"string\") {\n                jsonString = ko.utils.stringTrim(jsonString);\n                if (jsonString) {\n                    if (JSON && JSON.parse) // Use native parsing where available\n                        return JSON.parse(jsonString);\n                    return (new Function(\"return \" + jsonString))(); // Fallback on less safe parsing for older browsers\n                }\n            }\n            return null;\n        },\n\n        stringifyJson: function (data, replacer, space) {   // replacer and space are optional\n            if (!JSON || !JSON.stringify)\n                throw new Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");\n            return JSON.stringify(ko.utils.unwrapObservable(data), replacer, space);\n        },\n\n        postJson: function (urlOrForm, data, options) {\n            options = options || {};\n            var params = options['params'] || {};\n            var includeFields = options['includeFields'] || this.fieldsIncludedWithJsonPost;\n            var url = urlOrForm;\n\n            // If we were given a form, use its 'action' URL and pick out any requested field values\n            if((typeof urlOrForm == 'object') && (ko.utils.tagNameLower(urlOrForm) === \"form\")) {\n                var originalForm = urlOrForm;\n                url = originalForm.action;\n                for (var i = includeFields.length - 1; i >= 0; i--) {\n                    var fields = ko.utils.getFormFields(originalForm, includeFields[i]);\n                    for (var j = fields.length - 1; j >= 0; j--)\n                        params[fields[j].name] = fields[j].value;\n                }\n            }\n\n            data = ko.utils.unwrapObservable(data);\n            var form = document.createElement(\"form\");\n            form.style.display = \"none\";\n            form.action = url;\n            form.method = \"post\";\n            for (var key in data) {\n                // Since 'data' this is a model object, we include all properties including those inherited from its prototype\n                var input = document.createElement(\"input\");\n                input.name = key;\n                input.value = ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key]));\n                form.appendChild(input);\n            }\n            objectForEach(params, function(key, value) {\n                var input = document.createElement(\"input\");\n                input.name = key;\n                input.value = value;\n                form.appendChild(input);\n            });\n            document.body.appendChild(form);\n            options['submitter'] ? options['submitter'](form) : form.submit();\n            setTimeout(function () { form.parentNode.removeChild(form); }, 0);\n        }\n    }\n}());\n\nko.exportSymbol('utils', ko.utils);\nko.exportSymbol('utils.arrayForEach', ko.utils.arrayForEach);\nko.exportSymbol('utils.arrayFirst', ko.utils.arrayFirst);\nko.exportSymbol('utils.arrayFilter', ko.utils.arrayFilter);\nko.exportSymbol('utils.arrayGetDistinctValues', ko.utils.arrayGetDistinctValues);\nko.exportSymbol('utils.arrayIndexOf', ko.utils.arrayIndexOf);\nko.exportSymbol('utils.arrayMap', ko.utils.arrayMap);\nko.exportSymbol('utils.arrayPushAll', ko.utils.arrayPushAll);\nko.exportSymbol('utils.arrayRemoveItem', ko.utils.arrayRemoveItem);\nko.exportSymbol('utils.extend', ko.utils.extend);\nko.exportSymbol('utils.fieldsIncludedWithJsonPost', ko.utils.fieldsIncludedWithJsonPost);\nko.exportSymbol('utils.getFormFields', ko.utils.getFormFields);\nko.exportSymbol('utils.peekObservable', ko.utils.peekObservable);\nko.exportSymbol('utils.postJson', ko.utils.postJson);\nko.exportSymbol('utils.parseJson', ko.utils.parseJson);\nko.exportSymbol('utils.registerEventHandler', ko.utils.registerEventHandler);\nko.exportSymbol('utils.stringifyJson', ko.utils.stringifyJson);\nko.exportSymbol('utils.range', ko.utils.range);\nko.exportSymbol('utils.toggleDomNodeCssClass', ko.utils.toggleDomNodeCssClass);\nko.exportSymbol('utils.triggerEvent', ko.utils.triggerEvent);\nko.exportSymbol('utils.unwrapObservable', ko.utils.unwrapObservable);\nko.exportSymbol('utils.objectForEach', ko.utils.objectForEach);\nko.exportSymbol('utils.addOrRemoveItem', ko.utils.addOrRemoveItem);\nko.exportSymbol('unwrap', ko.utils.unwrapObservable); // Convenient shorthand, because this is used so commonly\n\nif (!Function.prototype['bind']) {\n    // Function.prototype.bind is a standard part of ECMAScript 5th Edition (December 2009, http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf)\n    // In case the browser doesn't implement it natively, provide a JavaScript implementation. This implementation is based on the one in prototype.js\n    Function.prototype['bind'] = function (object) {\n        var originalFunction = this, args = Array.prototype.slice.call(arguments), object = args.shift();\n        return function () {\n            return originalFunction.apply(object, args.concat(Array.prototype.slice.call(arguments)));\n        };\n    };\n}\n\nko.utils.domData = new (function () {\n    var uniqueId = 0;\n    var dataStoreKeyExpandoPropertyName = \"__ko__\" + (new Date).getTime();\n    var dataStore = {};\n\n    function getAll(node, createIfNotFound) {\n        var dataStoreKey = node[dataStoreKeyExpandoPropertyName];\n        var hasExistingDataStore = dataStoreKey && (dataStoreKey !== \"null\") && dataStore[dataStoreKey];\n        if (!hasExistingDataStore) {\n            if (!createIfNotFound)\n                return undefined;\n            dataStoreKey = node[dataStoreKeyExpandoPropertyName] = \"ko\" + uniqueId++;\n            dataStore[dataStoreKey] = {};\n        }\n        return dataStore[dataStoreKey];\n    }\n\n    return {\n        get: function (node, key) {\n            var allDataForNode = getAll(node, false);\n            return allDataForNode === undefined ? undefined : allDataForNode[key];\n        },\n        set: function (node, key, value) {\n            if (value === undefined) {\n                // Make sure we don't actually create a new domData key if we are actually deleting a value\n                if (getAll(node, false) === undefined)\n                    return;\n            }\n            var allDataForNode = getAll(node, true);\n            allDataForNode[key] = value;\n        },\n        clear: function (node) {\n            var dataStoreKey = node[dataStoreKeyExpandoPropertyName];\n            if (dataStoreKey) {\n                delete dataStore[dataStoreKey];\n                node[dataStoreKeyExpandoPropertyName] = null;\n                return true; // Exposing \"did clean\" flag purely so specs can infer whether things have been cleaned up as intended\n            }\n            return false;\n        },\n\n        nextKey: function () {\n            return (uniqueId++) + dataStoreKeyExpandoPropertyName;\n        }\n    };\n})();\n\nko.exportSymbol('utils.domData', ko.utils.domData);\nko.exportSymbol('utils.domData.clear', ko.utils.domData.clear); // Exporting only so specs can clear up after themselves fully\n\nko.utils.domNodeDisposal = new (function () {\n    var domDataKey = ko.utils.domData.nextKey();\n    var cleanableNodeTypes = { 1: true, 8: true, 9: true };       // Element, Comment, Document\n    var cleanableNodeTypesWithDescendants = { 1: true, 9: true }; // Element, Document\n\n    function getDisposeCallbacksCollection(node, createIfNotFound) {\n        var allDisposeCallbacks = ko.utils.domData.get(node, domDataKey);\n        if ((allDisposeCallbacks === undefined) && createIfNotFound) {\n            allDisposeCallbacks = [];\n            ko.utils.domData.set(node, domDataKey, allDisposeCallbacks);\n        }\n        return allDisposeCallbacks;\n    }\n    function destroyCallbacksCollection(node) {\n        ko.utils.domData.set(node, domDataKey, undefined);\n    }\n\n    function cleanSingleNode(node) {\n        // Run all the dispose callbacks\n        var callbacks = getDisposeCallbacksCollection(node, false);\n        if (callbacks) {\n            callbacks = callbacks.slice(0); // Clone, as the array may be modified during iteration (typically, callbacks will remove themselves)\n            for (var i = 0; i < callbacks.length; i++)\n                callbacks[i](node);\n        }\n\n        // Also erase the DOM data\n        ko.utils.domData.clear(node);\n\n        // Special support for jQuery here because it's so commonly used.\n        // Many jQuery plugins (including jquery.tmpl) store data using jQuery's equivalent of domData\n        // so notify it to tear down any resources associated with the node & descendants here.\n        if ((typeof jQuery == \"function\") && (typeof jQuery['cleanData'] == \"function\"))\n            jQuery['cleanData']([node]);\n\n        // Also clear any immediate-child comment nodes, as these wouldn't have been found by\n        // node.getElementsByTagName(\"*\") in cleanNode() (comment nodes aren't elements)\n        if (cleanableNodeTypesWithDescendants[node.nodeType])\n            cleanImmediateCommentTypeChildren(node);\n    }\n\n    function cleanImmediateCommentTypeChildren(nodeWithChildren) {\n        var child, nextChild = nodeWithChildren.firstChild;\n        while (child = nextChild) {\n            nextChild = child.nextSibling;\n            if (child.nodeType === 8)\n                cleanSingleNode(child);\n        }\n    }\n\n    return {\n        addDisposeCallback : function(node, callback) {\n            if (typeof callback != \"function\")\n                throw new Error(\"Callback must be a function\");\n            getDisposeCallbacksCollection(node, true).push(callback);\n        },\n\n        removeDisposeCallback : function(node, callback) {\n            var callbacksCollection = getDisposeCallbacksCollection(node, false);\n            if (callbacksCollection) {\n                ko.utils.arrayRemoveItem(callbacksCollection, callback);\n                if (callbacksCollection.length == 0)\n                    destroyCallbacksCollection(node);\n            }\n        },\n\n        cleanNode : function(node) {\n            // First clean this node, where applicable\n            if (cleanableNodeTypes[node.nodeType]) {\n                cleanSingleNode(node);\n\n                // ... then its descendants, where applicable\n                if (cleanableNodeTypesWithDescendants[node.nodeType]) {\n                    // Clone the descendants list in case it changes during iteration\n                    var descendants = [];\n                    ko.utils.arrayPushAll(descendants, node.getElementsByTagName(\"*\"));\n                    for (var i = 0, j = descendants.length; i < j; i++)\n                        cleanSingleNode(descendants[i]);\n                }\n            }\n            return node;\n        },\n\n        removeNode : function(node) {\n            ko.cleanNode(node);\n            if (node.parentNode)\n                node.parentNode.removeChild(node);\n        }\n    }\n})();\nko.cleanNode = ko.utils.domNodeDisposal.cleanNode; // Shorthand name for convenience\nko.removeNode = ko.utils.domNodeDisposal.removeNode; // Shorthand name for convenience\nko.exportSymbol('cleanNode', ko.cleanNode);\nko.exportSymbol('removeNode', ko.removeNode);\nko.exportSymbol('utils.domNodeDisposal', ko.utils.domNodeDisposal);\nko.exportSymbol('utils.domNodeDisposal.addDisposeCallback', ko.utils.domNodeDisposal.addDisposeCallback);\nko.exportSymbol('utils.domNodeDisposal.removeDisposeCallback', ko.utils.domNodeDisposal.removeDisposeCallback);\n(function () {\n    var leadingCommentRegex = /^(\\s*)<!--(.*?)-->/;\n\n    function simpleHtmlParse(html) {\n        // Based on jQuery's \"clean\" function, but only accounting for table-related elements.\n        // If you have referenced jQuery, this won't be used anyway - KO will use jQuery's \"clean\" function directly\n\n        // Note that there's still an issue in IE < 9 whereby it will discard comment nodes that are the first child of\n        // a descendant node. For example: \"<div><!-- mycomment -->abc</div>\" will get parsed as \"<div>abc</div>\"\n        // This won't affect anyone who has referenced jQuery, and there's always the workaround of inserting a dummy node\n        // (possibly a text node) in front of the comment. So, KO does not attempt to workaround this IE issue automatically at present.\n\n        // Trim whitespace, otherwise indexOf won't work as expected\n        var tags = ko.utils.stringTrim(html).toLowerCase(), div = document.createElement(\"div\");\n\n        // Finds the first match from the left column, and returns the corresponding \"wrap\" data from the right column\n        var wrap = tags.match(/^<(thead|tbody|tfoot)/)              && [1, \"<table>\", \"</table>\"] ||\n                   !tags.indexOf(\"<tr\")                             && [2, \"<table><tbody>\", \"</tbody></table>\"] ||\n                   (!tags.indexOf(\"<td\") || !tags.indexOf(\"<th\"))   && [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"] ||\n                   /* anything else */                                 [0, \"\", \"\"];\n\n        // Go to html and back, then peel off extra wrappers\n        // Note that we always prefix with some dummy text, because otherwise, IE<9 will strip out leading comment nodes in descendants. Total madness.\n        var markup = \"ignored<div>\" + wrap[1] + html + wrap[2] + \"</div>\";\n        if (typeof window['innerShiv'] == \"function\") {\n            div.appendChild(window['innerShiv'](markup));\n        } else {\n            div.innerHTML = markup;\n        }\n\n        // Move to the right depth\n        while (wrap[0]--)\n            div = div.lastChild;\n\n        return ko.utils.makeArray(div.lastChild.childNodes);\n    }\n\n    function jQueryHtmlParse(html) {\n        // jQuery's \"parseHTML\" function was introduced in jQuery 1.8.0 and is a documented public API.\n        if (jQuery['parseHTML']) {\n            return jQuery['parseHTML'](html) || []; // Ensure we always return an array and never null\n        } else {\n            // For jQuery < 1.8.0, we fall back on the undocumented internal \"clean\" function.\n            var elems = jQuery['clean']([html]);\n\n            // As of jQuery 1.7.1, jQuery parses the HTML by appending it to some dummy parent nodes held in an in-memory document fragment.\n            // Unfortunately, it never clears the dummy parent nodes from the document fragment, so it leaks memory over time.\n            // Fix this by finding the top-most dummy parent element, and detaching it from its owner fragment.\n            if (elems && elems[0]) {\n                // Find the top-most parent element that's a direct child of a document fragment\n                var elem = elems[0];\n                while (elem.parentNode && elem.parentNode.nodeType !== 11 /* i.e., DocumentFragment */)\n                    elem = elem.parentNode;\n                // ... then detach it\n                if (elem.parentNode)\n                    elem.parentNode.removeChild(elem);\n            }\n\n            return elems;\n        }\n    }\n\n    ko.utils.parseHtmlFragment = function(html) {\n        return typeof jQuery != 'undefined' ? jQueryHtmlParse(html)   // As below, benefit from jQuery's optimisations where possible\n                                            : simpleHtmlParse(html);  // ... otherwise, this simple logic will do in most common cases.\n    };\n\n    ko.utils.setHtml = function(node, html) {\n        ko.utils.emptyDomNode(node);\n\n        // There's no legitimate reason to display a stringified observable without unwrapping it, so we'll unwrap it\n        html = ko.utils.unwrapObservable(html);\n\n        if ((html !== null) && (html !== undefined)) {\n            if (typeof html != 'string')\n                html = html.toString();\n\n            // jQuery contains a lot of sophisticated code to parse arbitrary HTML fragments,\n            // for example <tr> elements which are not normally allowed to exist on their own.\n            // If you've referenced jQuery we'll use that rather than duplicating its code.\n            if (typeof jQuery != 'undefined') {\n                jQuery(node)['html'](html);\n            } else {\n                // ... otherwise, use KO's own parsing logic.\n                var parsedNodes = ko.utils.parseHtmlFragment(html);\n                for (var i = 0; i < parsedNodes.length; i++)\n                    node.appendChild(parsedNodes[i]);\n            }\n        }\n    };\n})();\n\nko.exportSymbol('utils.parseHtmlFragment', ko.utils.parseHtmlFragment);\nko.exportSymbol('utils.setHtml', ko.utils.setHtml);\n\nko.memoization = (function () {\n    var memos = {};\n\n    function randomMax8HexChars() {\n        return (((1 + Math.random()) * 0x100000000) | 0).toString(16).substring(1);\n    }\n    function generateRandomId() {\n        return randomMax8HexChars() + randomMax8HexChars();\n    }\n    function findMemoNodes(rootNode, appendToArray) {\n        if (!rootNode)\n            return;\n        if (rootNode.nodeType == 8) {\n            var memoId = ko.memoization.parseMemoText(rootNode.nodeValue);\n            if (memoId != null)\n                appendToArray.push({ domNode: rootNode, memoId: memoId });\n        } else if (rootNode.nodeType == 1) {\n            for (var i = 0, childNodes = rootNode.childNodes, j = childNodes.length; i < j; i++)\n                findMemoNodes(childNodes[i], appendToArray);\n        }\n    }\n\n    return {\n        memoize: function (callback) {\n            if (typeof callback != \"function\")\n                throw new Error(\"You can only pass a function to ko.memoization.memoize()\");\n            var memoId = generateRandomId();\n            memos[memoId] = callback;\n            return \"<!--[ko_memo:\" + memoId + \"]-->\";\n        },\n\n        unmemoize: function (memoId, callbackParams) {\n            var callback = memos[memoId];\n            if (callback === undefined)\n                throw new Error(\"Couldn't find any memo with ID \" + memoId + \". Perhaps it's already been unmemoized.\");\n            try {\n                callback.apply(null, callbackParams || []);\n                return true;\n            }\n            finally { delete memos[memoId]; }\n        },\n\n        unmemoizeDomNodeAndDescendants: function (domNode, extraCallbackParamsArray) {\n            var memos = [];\n            findMemoNodes(domNode, memos);\n            for (var i = 0, j = memos.length; i < j; i++) {\n                var node = memos[i].domNode;\n                var combinedParams = [node];\n                if (extraCallbackParamsArray)\n                    ko.utils.arrayPushAll(combinedParams, extraCallbackParamsArray);\n                ko.memoization.unmemoize(memos[i].memoId, combinedParams);\n                node.nodeValue = \"\"; // Neuter this node so we don't try to unmemoize it again\n                if (node.parentNode)\n                    node.parentNode.removeChild(node); // If possible, erase it totally (not always possible - someone else might just hold a reference to it then call unmemoizeDomNodeAndDescendants again)\n            }\n        },\n\n        parseMemoText: function (memoText) {\n            var match = memoText.match(/^\\[ko_memo\\:(.*?)\\]$/);\n            return match ? match[1] : null;\n        }\n    };\n})();\n\nko.exportSymbol('memoization', ko.memoization);\nko.exportSymbol('memoization.memoize', ko.memoization.memoize);\nko.exportSymbol('memoization.unmemoize', ko.memoization.unmemoize);\nko.exportSymbol('memoization.parseMemoText', ko.memoization.parseMemoText);\nko.exportSymbol('memoization.unmemoizeDomNodeAndDescendants', ko.memoization.unmemoizeDomNodeAndDescendants);\nko.extenders = {\n    'throttle': function(target, timeout) {\n        // Throttling means two things:\n\n        // (1) For dependent observables, we throttle *evaluations* so that, no matter how fast its dependencies\n        //     notify updates, the target doesn't re-evaluate (and hence doesn't notify) faster than a certain rate\n        target['throttleEvaluation'] = timeout;\n\n        // (2) For writable targets (observables, or writable dependent observables), we throttle *writes*\n        //     so the target cannot change value synchronously or faster than a certain rate\n        var writeTimeoutInstance = null;\n        return ko.dependentObservable({\n            'read': target,\n            'write': function(value) {\n                clearTimeout(writeTimeoutInstance);\n                writeTimeoutInstance = setTimeout(function() {\n                    target(value);\n                }, timeout);\n            }\n        });\n    },\n\n    'notify': function(target, notifyWhen) {\n        target[\"equalityComparer\"] = notifyWhen == \"always\" ?\n            null :  // null equalityComparer means to always notify\n            valuesArePrimitiveAndEqual;\n    }\n};\n\nvar primitiveTypes = { 'undefined':1, 'boolean':1, 'number':1, 'string':1 };\nfunction valuesArePrimitiveAndEqual(a, b) {\n    var oldValueIsPrimitive = (a === null) || (typeof(a) in primitiveTypes);\n    return oldValueIsPrimitive ? (a === b) : false;\n}\n\nfunction applyExtenders(requestedExtenders) {\n    var target = this;\n    if (requestedExtenders) {\n        ko.utils.objectForEach(requestedExtenders, function(key, value) {\n            var extenderHandler = ko.extenders[key];\n            if (typeof extenderHandler == 'function') {\n                target = extenderHandler(target, value) || target;\n            }\n        });\n    }\n    return target;\n}\n\nko.exportSymbol('extenders', ko.extenders);\n\nko.subscription = function (target, callback, disposeCallback) {\n    this.target = target;\n    this.callback = callback;\n    this.disposeCallback = disposeCallback;\n    ko.exportProperty(this, 'dispose', this.dispose);\n};\nko.subscription.prototype.dispose = function () {\n    this.isDisposed = true;\n    this.disposeCallback();\n};\n\nko.subscribable = function () {\n    this._subscriptions = {};\n\n    ko.utils.extend(this, ko.subscribable['fn']);\n    ko.exportProperty(this, 'subscribe', this.subscribe);\n    ko.exportProperty(this, 'extend', this.extend);\n    ko.exportProperty(this, 'getSubscriptionsCount', this.getSubscriptionsCount);\n}\n\nvar defaultEvent = \"change\";\n\nko.subscribable['fn'] = {\n    subscribe: function (callback, callbackTarget, event) {\n        event = event || defaultEvent;\n        var boundCallback = callbackTarget ? callback.bind(callbackTarget) : callback;\n\n        var subscription = new ko.subscription(this, boundCallback, function () {\n            ko.utils.arrayRemoveItem(this._subscriptions[event], subscription);\n        }.bind(this));\n\n        if (!this._subscriptions[event])\n            this._subscriptions[event] = [];\n        this._subscriptions[event].push(subscription);\n        return subscription;\n    },\n\n    \"notifySubscribers\": function (valueToNotify, event) {\n        event = event || defaultEvent;\n        if (this.hasSubscriptionsForEvent(event)) {\n            try {\n                ko.dependencyDetection.begin();\n                for (var a = this._subscriptions[event].slice(0), i = 0, subscription; subscription = a[i]; ++i) {\n                    // In case a subscription was disposed during the arrayForEach cycle, check\n                    // for isDisposed on each subscription before invoking its callback\n                    if (subscription && (subscription.isDisposed !== true))\n                        subscription.callback(valueToNotify);\n                }\n            } finally {\n                ko.dependencyDetection.end();\n            }\n        }\n    },\n\n    hasSubscriptionsForEvent: function(event) {\n        return this._subscriptions[event] && this._subscriptions[event].length;\n    },\n\n    getSubscriptionsCount: function () {\n        var total = 0;\n        ko.utils.objectForEach(this._subscriptions, function(eventName, subscriptions) {\n            total += subscriptions.length;\n        });\n        return total;\n    },\n\n    extend: applyExtenders\n};\n\n\nko.isSubscribable = function (instance) {\n    return instance != null && typeof instance.subscribe == \"function\" && typeof instance[\"notifySubscribers\"] == \"function\";\n};\n\nko.exportSymbol('subscribable', ko.subscribable);\nko.exportSymbol('isSubscribable', ko.isSubscribable);\n\nko.dependencyDetection = (function () {\n    var _frames = [];\n\n    return {\n        begin: function (callback) {\n            _frames.push(callback && { callback: callback, distinctDependencies:[] });\n        },\n\n        end: function () {\n            _frames.pop();\n        },\n\n        registerDependency: function (subscribable) {\n            if (!ko.isSubscribable(subscribable))\n                throw new Error(\"Only subscribable things can act as dependencies\");\n            if (_frames.length > 0) {\n                var topFrame = _frames[_frames.length - 1];\n                if (!topFrame || ko.utils.arrayIndexOf(topFrame.distinctDependencies, subscribable) >= 0)\n                    return;\n                topFrame.distinctDependencies.push(subscribable);\n                topFrame.callback(subscribable);\n            }\n        },\n\n        ignore: function(callback, callbackTarget, callbackArgs) {\n            try {\n                _frames.push(null);\n                return callback.apply(callbackTarget, callbackArgs || []);\n            } finally {\n                _frames.pop();\n            }\n        }\n    };\n})();\nko.observable = function (initialValue) {\n    var _latestValue = initialValue;\n\n    function observable() {\n        if (arguments.length > 0) {\n            // Write\n\n            // Ignore writes if the value hasn't changed\n            if (!observable['equalityComparer'] || !observable['equalityComparer'](_latestValue, arguments[0])) {\n                observable.valueWillMutate();\n                _latestValue = arguments[0];\n                if (DEBUG) observable._latestValue = _latestValue;\n                observable.valueHasMutated();\n            }\n            return this; // Permits chained assignments\n        }\n        else {\n            // Read\n            ko.dependencyDetection.registerDependency(observable); // The caller only needs to be notified of changes if they did a \"read\" operation\n            return _latestValue;\n        }\n    }\n    if (DEBUG) observable._latestValue = _latestValue;\n    ko.subscribable.call(observable);\n    observable.peek = function() { return _latestValue };\n    observable.valueHasMutated = function () { observable[\"notifySubscribers\"](_latestValue); }\n    observable.valueWillMutate = function () { observable[\"notifySubscribers\"](_latestValue, \"beforeChange\"); }\n    ko.utils.extend(observable, ko.observable['fn']);\n\n    ko.exportProperty(observable, 'peek', observable.peek);\n    ko.exportProperty(observable, \"valueHasMutated\", observable.valueHasMutated);\n    ko.exportProperty(observable, \"valueWillMutate\", observable.valueWillMutate);\n\n    return observable;\n}\n\nko.observable['fn'] = {\n    \"equalityComparer\": valuesArePrimitiveAndEqual\n};\n\nvar protoProperty = ko.observable.protoProperty = \"__ko_proto__\";\nko.observable['fn'][protoProperty] = ko.observable;\n\nko.hasPrototype = function(instance, prototype) {\n    if ((instance === null) || (instance === undefined) || (instance[protoProperty] === undefined)) return false;\n    if (instance[protoProperty] === prototype) return true;\n    return ko.hasPrototype(instance[protoProperty], prototype); // Walk the prototype chain\n};\n\nko.isObservable = function (instance) {\n    return ko.hasPrototype(instance, ko.observable);\n}\nko.isWriteableObservable = function (instance) {\n    // Observable\n    if ((typeof instance == \"function\") && instance[protoProperty] === ko.observable)\n        return true;\n    // Writeable dependent observable\n    if ((typeof instance == \"function\") && (instance[protoProperty] === ko.dependentObservable) && (instance.hasWriteFunction))\n        return true;\n    // Anything else\n    return false;\n}\n\n\nko.exportSymbol('observable', ko.observable);\nko.exportSymbol('isObservable', ko.isObservable);\nko.exportSymbol('isWriteableObservable', ko.isWriteableObservable);\nko.observableArray = function (initialValues) {\n    initialValues = initialValues || [];\n\n    if (typeof initialValues != 'object' || !('length' in initialValues))\n        throw new Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");\n\n    var result = ko.observable(initialValues);\n    ko.utils.extend(result, ko.observableArray['fn']);\n    return result.extend({'trackArrayChanges':true});\n};\n\nko.observableArray['fn'] = {\n    'remove': function (valueOrPredicate) {\n        var underlyingArray = this.peek();\n        var removedValues = [];\n        var predicate = typeof valueOrPredicate == \"function\" && !ko.isObservable(valueOrPredicate) ? valueOrPredicate : function (value) { return value === valueOrPredicate; };\n        for (var i = 0; i < underlyingArray.length; i++) {\n            var value = underlyingArray[i];\n            if (predicate(value)) {\n                if (removedValues.length === 0) {\n                    this.valueWillMutate();\n                }\n                removedValues.push(value);\n                underlyingArray.splice(i, 1);\n                i--;\n            }\n        }\n        if (removedValues.length) {\n            this.valueHasMutated();\n        }\n        return removedValues;\n    },\n\n    'removeAll': function (arrayOfValues) {\n        // If you passed zero args, we remove everything\n        if (arrayOfValues === undefined) {\n            var underlyingArray = this.peek();\n            var allValues = underlyingArray.slice(0);\n            this.valueWillMutate();\n            underlyingArray.splice(0, underlyingArray.length);\n            this.valueHasMutated();\n            return allValues;\n        }\n        // If you passed an arg, we interpret it as an array of entries to remove\n        if (!arrayOfValues)\n            return [];\n        return this['remove'](function (value) {\n            return ko.utils.arrayIndexOf(arrayOfValues, value) >= 0;\n        });\n    },\n\n    'destroy': function (valueOrPredicate) {\n        var underlyingArray = this.peek();\n        var predicate = typeof valueOrPredicate == \"function\" && !ko.isObservable(valueOrPredicate) ? valueOrPredicate : function (value) { return value === valueOrPredicate; };\n        this.valueWillMutate();\n        for (var i = underlyingArray.length - 1; i >= 0; i--) {\n            var value = underlyingArray[i];\n            if (predicate(value))\n                underlyingArray[i][\"_destroy\"] = true;\n        }\n        this.valueHasMutated();\n    },\n\n    'destroyAll': function (arrayOfValues) {\n        // If you passed zero args, we destroy everything\n        if (arrayOfValues === undefined)\n            return this['destroy'](function() { return true });\n\n        // If you passed an arg, we interpret it as an array of entries to destroy\n        if (!arrayOfValues)\n            return [];\n        return this['destroy'](function (value) {\n            return ko.utils.arrayIndexOf(arrayOfValues, value) >= 0;\n        });\n    },\n\n    'indexOf': function (item) {\n        var underlyingArray = this();\n        return ko.utils.arrayIndexOf(underlyingArray, item);\n    },\n\n    'replace': function(oldItem, newItem) {\n        var index = this['indexOf'](oldItem);\n        if (index >= 0) {\n            this.valueWillMutate();\n            this.peek()[index] = newItem;\n            this.valueHasMutated();\n        }\n    }\n};\n\n// Populate ko.observableArray.fn with read/write functions from native arrays\n// Important: Do not add any additional functions here that may reasonably be used to *read* data from the array\n// because we'll eval them without causing subscriptions, so ko.computed output could end up getting stale\nko.utils.arrayForEach([\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"], function (methodName) {\n    ko.observableArray['fn'][methodName] = function () {\n        // Use \"peek\" to avoid creating a subscription in any computed that we're executing in the context of\n        // (for consistency with mutating regular observables)\n        var underlyingArray = this.peek();\n        this.valueWillMutate();\n        this.cacheDiffForKnownOperation(underlyingArray, methodName, arguments);\n        var methodCallResult = underlyingArray[methodName].apply(underlyingArray, arguments);\n        this.valueHasMutated();\n        return methodCallResult;\n    };\n});\n\n// Populate ko.observableArray.fn with read-only functions from native arrays\nko.utils.arrayForEach([\"slice\"], function (methodName) {\n    ko.observableArray['fn'][methodName] = function () {\n        var underlyingArray = this();\n        return underlyingArray[methodName].apply(underlyingArray, arguments);\n    };\n});\n\nko.exportSymbol('observableArray', ko.observableArray);\nvar arrayChangeEventName = 'arrayChange';\nko.extenders['trackArrayChanges'] = function(target) {\n    // Only modify the target observable once\n    if (target.cacheDiffForKnownOperation) {\n        return;\n    }\n    var trackingChanges = false,\n        cachedDiff = null,\n        pendingNotifications = 0,\n        underlyingSubscribeFunction = target.subscribe;\n\n    // Intercept \"subscribe\" calls, and for array change events, ensure change tracking is enabled\n    target.subscribe = target['subscribe'] = function(callback, callbackTarget, event) {\n        if (event === arrayChangeEventName) {\n            trackChanges();\n        }\n        return underlyingSubscribeFunction.apply(this, arguments);\n    };\n\n    function trackChanges() {\n        // Calling 'trackChanges' multiple times is the same as calling it once\n        if (trackingChanges) {\n            return;\n        }\n\n        trackingChanges = true;\n\n        // Intercept \"notifySubscribers\" to track how many times it was called.\n        var underlyingNotifySubscribersFunction = target['notifySubscribers'];\n        target['notifySubscribers'] = function(valueToNotify, event) {\n            if (!event || event === defaultEvent) {\n                ++pendingNotifications;\n            }\n            return underlyingNotifySubscribersFunction.apply(this, arguments);\n        };\n\n        // Each time the array changes value, capture a clone so that on the next\n        // change it's possible to produce a diff\n        var previousContents = [].concat(target.peek() || []);\n        cachedDiff = null;\n        target.subscribe(function(currentContents) {\n            // Make a copy of the current contents and ensure it's an array\n            currentContents = [].concat(currentContents || []);\n\n            // Compute the diff and issue notifications, but only if someone is listening\n            if (target.hasSubscriptionsForEvent(arrayChangeEventName)) {\n                var changes = getChanges(previousContents, currentContents);\n                if (changes.length) {\n                    target['notifySubscribers'](changes, arrayChangeEventName);\n                }\n            }\n\n            // Eliminate references to the old, removed items, so they can be GCed\n            previousContents = currentContents;\n            cachedDiff = null;\n            pendingNotifications = 0;\n        });\n    }\n\n    function getChanges(previousContents, currentContents) {\n        // We try to re-use cached diffs.\n        // The only scenario where pendingNotifications > 1 is when using the KO 'deferred updates' plugin,\n        // which without this check would not be compatible with arrayChange notifications. Without that\n        // plugin, notifications are always issued immediately so we wouldn't be queueing up more than one.\n        if (!cachedDiff || pendingNotifications > 1) {\n            cachedDiff = ko.utils.compareArrays(previousContents, currentContents, { 'sparse': true });\n        }\n\n        return cachedDiff;\n    }\n\n    target.cacheDiffForKnownOperation = function(rawArray, operationName, args) {\n        // Only run if we're currently tracking changes for this observable array\n        // and there aren't any pending deferred notifications.\n        if (!trackingChanges || pendingNotifications) {\n            return;\n        }\n        var diff = [],\n            arrayLength = rawArray.length,\n            argsLength = args.length,\n            offset = 0;\n\n        function pushDiff(status, value, index) {\n            diff.push({ 'status': status, 'value': value, 'index': index });\n        }\n        switch (operationName) {\n            case 'push':\n                offset = arrayLength;\n            case 'unshift':\n                for (var index = 0; index < argsLength; index++) {\n                    pushDiff('added', args[index], offset + index);\n                }\n                break;\n\n            case 'pop':\n                offset = arrayLength - 1;\n            case 'shift':\n                if (arrayLength) {\n                    pushDiff('deleted', rawArray[offset], offset);\n                }\n                break;\n\n            case 'splice':\n                // Negative start index means 'from end of array'. After that we clamp to [0...arrayLength].\n                // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n                var startIndex = Math.min(Math.max(0, args[0] < 0 ? arrayLength + args[0] : args[0]), arrayLength),\n                    endDeleteIndex = argsLength === 1 ? arrayLength : Math.min(startIndex + (args[1] || 0), arrayLength),\n                    endAddIndex = startIndex + argsLength - 2,\n                    endIndex = Math.max(endDeleteIndex, endAddIndex);\n                for (var index = startIndex, argsIndex = 2; index < endIndex; ++index, ++argsIndex) {\n                    if (index < endDeleteIndex)\n                        pushDiff('deleted', rawArray[index], index);\n                    if (index < endAddIndex)\n                        pushDiff('added', args[argsIndex], index);\n                }\n                break;\n\n            default:\n                return;\n        }\n        cachedDiff = diff;\n    };\n};\nko.dependentObservable = function (evaluatorFunctionOrOptions, evaluatorFunctionTarget, options) {\n    var _latestValue,\n        _hasBeenEvaluated = false,\n        _isBeingEvaluated = false,\n        _suppressDisposalUntilDisposeWhenReturnsFalse = false,\n        readFunction = evaluatorFunctionOrOptions;\n\n    if (readFunction && typeof readFunction == \"object\") {\n        // Single-parameter syntax - everything is on this \"options\" param\n        options = readFunction;\n        readFunction = options[\"read\"];\n    } else {\n        // Multi-parameter syntax - construct the options according to the params passed\n        options = options || {};\n        if (!readFunction)\n            readFunction = options[\"read\"];\n    }\n    if (typeof readFunction != \"function\")\n        throw new Error(\"Pass a function that returns the value of the ko.computed\");\n\n    function addSubscriptionToDependency(subscribable) {\n        _subscriptionsToDependencies.push(subscribable.subscribe(evaluatePossiblyAsync));\n    }\n\n    function disposeAllSubscriptionsToDependencies() {\n        ko.utils.arrayForEach(_subscriptionsToDependencies, function (subscription) {\n            subscription.dispose();\n        });\n        _subscriptionsToDependencies = [];\n    }\n\n    function evaluatePossiblyAsync() {\n        var throttleEvaluationTimeout = dependentObservable['throttleEvaluation'];\n        if (throttleEvaluationTimeout && throttleEvaluationTimeout >= 0) {\n            clearTimeout(evaluationTimeoutInstance);\n            evaluationTimeoutInstance = setTimeout(evaluateImmediate, throttleEvaluationTimeout);\n        } else\n            evaluateImmediate();\n    }\n\n    function evaluateImmediate() {\n        if (_isBeingEvaluated) {\n            // If the evaluation of a ko.computed causes side effects, it's possible that it will trigger its own re-evaluation.\n            // This is not desirable (it's hard for a developer to realise a chain of dependencies might cause this, and they almost\n            // certainly didn't intend infinite re-evaluations). So, for predictability, we simply prevent ko.computeds from causing\n            // their own re-evaluation. Further discussion at https://github.com/SteveSanderson/knockout/pull/387\n            return;\n        }\n\n        if (disposeWhen && disposeWhen()) {\n            // See comment below about _suppressDisposalUntilDisposeWhenReturnsFalse\n            if (!_suppressDisposalUntilDisposeWhenReturnsFalse) {\n                dispose();\n                _hasBeenEvaluated = true;\n                return;\n            }\n        } else {\n            // It just did return false, so we can stop suppressing now\n            _suppressDisposalUntilDisposeWhenReturnsFalse = false;\n        }\n\n        _isBeingEvaluated = true;\n        try {\n            // Initially, we assume that none of the subscriptions are still being used (i.e., all are candidates for disposal).\n            // Then, during evaluation, we cross off any that are in fact still being used.\n            var disposalCandidates = ko.utils.arrayMap(_subscriptionsToDependencies, function(item) {return item.target;});\n\n            ko.dependencyDetection.begin(function(subscribable) {\n                var inOld;\n                if ((inOld = ko.utils.arrayIndexOf(disposalCandidates, subscribable)) >= 0)\n                    disposalCandidates[inOld] = undefined; // Don't want to dispose this subscription, as it's still being used\n                else\n                    addSubscriptionToDependency(subscribable); // Brand new subscription - add it\n            });\n\n            var newValue = evaluatorFunctionTarget ? readFunction.call(evaluatorFunctionTarget) : readFunction();\n\n            // For each subscription no longer being used, remove it from the active subscriptions list and dispose it\n            for (var i = disposalCandidates.length - 1; i >= 0; i--) {\n                if (disposalCandidates[i])\n                    _subscriptionsToDependencies.splice(i, 1)[0].dispose();\n            }\n            _hasBeenEvaluated = true;\n\n            if (!dependentObservable['equalityComparer'] || !dependentObservable['equalityComparer'](_latestValue, newValue)) {\n                dependentObservable[\"notifySubscribers\"](_latestValue, \"beforeChange\");\n\n                _latestValue = newValue;\n                if (DEBUG) dependentObservable._latestValue = _latestValue;\n                dependentObservable[\"notifySubscribers\"](_latestValue);\n            }\n        } finally {\n            ko.dependencyDetection.end();\n            _isBeingEvaluated = false;\n        }\n\n        if (!_subscriptionsToDependencies.length)\n            dispose();\n    }\n\n    function dependentObservable() {\n        if (arguments.length > 0) {\n            if (typeof writeFunction === \"function\") {\n                // Writing a value\n                writeFunction.apply(evaluatorFunctionTarget, arguments);\n            } else {\n                throw new Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");\n            }\n            return this; // Permits chained assignments\n        } else {\n            // Reading the value\n            if (!_hasBeenEvaluated)\n                evaluateImmediate();\n            ko.dependencyDetection.registerDependency(dependentObservable);\n            return _latestValue;\n        }\n    }\n\n    function peek() {\n        if (!_hasBeenEvaluated)\n            evaluateImmediate();\n        return _latestValue;\n    }\n\n    function isActive() {\n        return !_hasBeenEvaluated || _subscriptionsToDependencies.length > 0;\n    }\n\n    // By here, \"options\" is always non-null\n    var writeFunction = options[\"write\"],\n        disposeWhenNodeIsRemoved = options[\"disposeWhenNodeIsRemoved\"] || options.disposeWhenNodeIsRemoved || null,\n        disposeWhenOption = options[\"disposeWhen\"] || options.disposeWhen,\n        disposeWhen = disposeWhenOption,\n        dispose = disposeAllSubscriptionsToDependencies,\n        _subscriptionsToDependencies = [],\n        evaluationTimeoutInstance = null;\n\n    if (!evaluatorFunctionTarget)\n        evaluatorFunctionTarget = options[\"owner\"];\n\n    dependentObservable.peek = peek;\n    dependentObservable.getDependenciesCount = function () { return _subscriptionsToDependencies.length; };\n    dependentObservable.hasWriteFunction = typeof options[\"write\"] === \"function\";\n    dependentObservable.dispose = function () { dispose(); };\n    dependentObservable.isActive = isActive;\n\n    ko.subscribable.call(dependentObservable);\n    ko.utils.extend(dependentObservable, ko.dependentObservable['fn']);\n\n    ko.exportProperty(dependentObservable, 'peek', dependentObservable.peek);\n    ko.exportProperty(dependentObservable, 'dispose', dependentObservable.dispose);\n    ko.exportProperty(dependentObservable, 'isActive', dependentObservable.isActive);\n    ko.exportProperty(dependentObservable, 'getDependenciesCount', dependentObservable.getDependenciesCount);\n\n    // Add a \"disposeWhen\" callback that, on each evaluation, disposes if the node was removed without using ko.removeNode.\n    if (disposeWhenNodeIsRemoved) {\n        // Since this computed is associated with a DOM node, and we don't want to dispose the computed\n        // until the DOM node is *removed* from the document (as opposed to never having been in the document),\n        // we'll prevent disposal until \"disposeWhen\" first returns false.\n        _suppressDisposalUntilDisposeWhenReturnsFalse = true;\n\n        // Only watch for the node's disposal if the value really is a node. It might not be,\n        // e.g., { disposeWhenNodeIsRemoved: true } can be used to opt into the \"only dispose\n        // after first false result\" behaviour even if there's no specific node to watch. This\n        // technique is intended for KO's internal use only and shouldn't be documented or used\n        // by application code, as it's likely to change in a future version of KO.\n        if (disposeWhenNodeIsRemoved.nodeType) {\n            disposeWhen = function () {\n                return !ko.utils.domNodeIsAttachedToDocument(disposeWhenNodeIsRemoved) || (disposeWhenOption && disposeWhenOption());\n            };\n        }\n    }\n\n    // Evaluate, unless deferEvaluation is true\n    if (options['deferEvaluation'] !== true)\n        evaluateImmediate();\n\n    // Attach a DOM node disposal callback so that the computed will be proactively disposed as soon as the node is\n    // removed using ko.removeNode. But skip if isActive is false (there will never be any dependencies to dispose).\n    if (disposeWhenNodeIsRemoved && isActive()) {\n        dispose = function() {\n            ko.utils.domNodeDisposal.removeDisposeCallback(disposeWhenNodeIsRemoved, dispose);\n            disposeAllSubscriptionsToDependencies();\n        };\n        ko.utils.domNodeDisposal.addDisposeCallback(disposeWhenNodeIsRemoved, dispose);\n    }\n\n    return dependentObservable;\n};\n\nko.isComputed = function(instance) {\n    return ko.hasPrototype(instance, ko.dependentObservable);\n};\n\nvar protoProp = ko.observable.protoProperty; // == \"__ko_proto__\"\nko.dependentObservable[protoProp] = ko.observable;\n\nko.dependentObservable['fn'] = {\n    \"equalityComparer\": valuesArePrimitiveAndEqual\n};\nko.dependentObservable['fn'][protoProp] = ko.dependentObservable;\n\nko.exportSymbol('dependentObservable', ko.dependentObservable);\nko.exportSymbol('computed', ko.dependentObservable); // Make \"ko.computed\" an alias for \"ko.dependentObservable\"\nko.exportSymbol('isComputed', ko.isComputed);\n\n(function() {\n    var maxNestedObservableDepth = 10; // Escape the (unlikely) pathalogical case where an observable's current value is itself (or similar reference cycle)\n\n    ko.toJS = function(rootObject) {\n        if (arguments.length == 0)\n            throw new Error(\"When calling ko.toJS, pass the object you want to convert.\");\n\n        // We just unwrap everything at every level in the object graph\n        return mapJsObjectGraph(rootObject, function(valueToMap) {\n            // Loop because an observable's value might in turn be another observable wrapper\n            for (var i = 0; ko.isObservable(valueToMap) && (i < maxNestedObservableDepth); i++)\n                valueToMap = valueToMap();\n            return valueToMap;\n        });\n    };\n\n    ko.toJSON = function(rootObject, replacer, space) {     // replacer and space are optional\n        var plainJavaScriptObject = ko.toJS(rootObject);\n        return ko.utils.stringifyJson(plainJavaScriptObject, replacer, space);\n    };\n\n    function mapJsObjectGraph(rootObject, mapInputCallback, visitedObjects) {\n        visitedObjects = visitedObjects || new objectLookup();\n\n        rootObject = mapInputCallback(rootObject);\n        var canHaveProperties = (typeof rootObject == \"object\") && (rootObject !== null) && (rootObject !== undefined) && (!(rootObject instanceof Date)) && (!(rootObject instanceof String)) && (!(rootObject instanceof Number)) && (!(rootObject instanceof Boolean));\n        if (!canHaveProperties)\n            return rootObject;\n\n        var outputProperties = rootObject instanceof Array ? [] : {};\n        visitedObjects.save(rootObject, outputProperties);\n\n        visitPropertiesOrArrayEntries(rootObject, function(indexer) {\n            var propertyValue = mapInputCallback(rootObject[indexer]);\n\n            switch (typeof propertyValue) {\n                case \"boolean\":\n                case \"number\":\n                case \"string\":\n                case \"function\":\n                    outputProperties[indexer] = propertyValue;\n                    break;\n                case \"object\":\n                case \"undefined\":\n                    var previouslyMappedValue = visitedObjects.get(propertyValue);\n                    outputProperties[indexer] = (previouslyMappedValue !== undefined)\n                        ? previouslyMappedValue\n                        : mapJsObjectGraph(propertyValue, mapInputCallback, visitedObjects);\n                    break;\n            }\n        });\n\n        return outputProperties;\n    }\n\n    function visitPropertiesOrArrayEntries(rootObject, visitorCallback) {\n        if (rootObject instanceof Array) {\n            for (var i = 0; i < rootObject.length; i++)\n                visitorCallback(i);\n\n            // For arrays, also respect toJSON property for custom mappings (fixes #278)\n            if (typeof rootObject['toJSON'] == 'function')\n                visitorCallback('toJSON');\n        } else {\n            for (var propertyName in rootObject) {\n                visitorCallback(propertyName);\n            }\n        }\n    };\n\n    function objectLookup() {\n        this.keys = [];\n        this.values = [];\n    };\n\n    objectLookup.prototype = {\n        constructor: objectLookup,\n        save: function(key, value) {\n            var existingIndex = ko.utils.arrayIndexOf(this.keys, key);\n            if (existingIndex >= 0)\n                this.values[existingIndex] = value;\n            else {\n                this.keys.push(key);\n                this.values.push(value);\n            }\n        },\n        get: function(key) {\n            var existingIndex = ko.utils.arrayIndexOf(this.keys, key);\n            return (existingIndex >= 0) ? this.values[existingIndex] : undefined;\n        }\n    };\n})();\n\nko.exportSymbol('toJS', ko.toJS);\nko.exportSymbol('toJSON', ko.toJSON);\n(function () {\n    var hasDomDataExpandoProperty = '__ko__hasDomDataOptionValue__';\n\n    // Normally, SELECT elements and their OPTIONs can only take value of type 'string' (because the values\n    // are stored on DOM attributes). ko.selectExtensions provides a way for SELECTs/OPTIONs to have values\n    // that are arbitrary objects. This is very convenient when implementing things like cascading dropdowns.\n    ko.selectExtensions = {\n        readValue : function(element) {\n            switch (ko.utils.tagNameLower(element)) {\n                case 'option':\n                    if (element[hasDomDataExpandoProperty] === true)\n                        return ko.utils.domData.get(element, ko.bindingHandlers.options.optionValueDomDataKey);\n                    return ko.utils.ieVersion <= 7\n                        ? (element.getAttributeNode('value') && element.getAttributeNode('value').specified ? element.value : element.text)\n                        : element.value;\n                case 'select':\n                    return element.selectedIndex >= 0 ? ko.selectExtensions.readValue(element.options[element.selectedIndex]) : undefined;\n                default:\n                    return element.value;\n            }\n        },\n\n        writeValue: function(element, value) {\n            switch (ko.utils.tagNameLower(element)) {\n                case 'option':\n                    switch(typeof value) {\n                        case \"string\":\n                            ko.utils.domData.set(element, ko.bindingHandlers.options.optionValueDomDataKey, undefined);\n                            if (hasDomDataExpandoProperty in element) { // IE <= 8 throws errors if you delete non-existent properties from a DOM node\n                                delete element[hasDomDataExpandoProperty];\n                            }\n                            element.value = value;\n                            break;\n                        default:\n                            // Store arbitrary object using DomData\n                            ko.utils.domData.set(element, ko.bindingHandlers.options.optionValueDomDataKey, value);\n                            element[hasDomDataExpandoProperty] = true;\n\n                            // Special treatment of numbers is just for backward compatibility. KO 1.2.1 wrote numerical values to element.value.\n                            element.value = typeof value === \"number\" ? value : \"\";\n                            break;\n                    }\n                    break;\n                case 'select':\n                    if (value === \"\")\n                        value = undefined;\n                    if (value === null || value === undefined)\n                        element.selectedIndex = -1;\n                    for (var i = element.options.length - 1; i >= 0; i--) {\n                        if (ko.selectExtensions.readValue(element.options[i]) == value) {\n                            element.selectedIndex = i;\n                            break;\n                        }\n                    }\n                    // for drop-down select, ensure first is selected\n                    if (!(element.size > 1) && element.selectedIndex === -1) {\n                        element.selectedIndex = 0;\n                    }\n                    break;\n                default:\n                    if ((value === null) || (value === undefined))\n                        value = \"\";\n                    element.value = value;\n                    break;\n            }\n        }\n    };\n})();\n\nko.exportSymbol('selectExtensions', ko.selectExtensions);\nko.exportSymbol('selectExtensions.readValue', ko.selectExtensions.readValue);\nko.exportSymbol('selectExtensions.writeValue', ko.selectExtensions.writeValue);\nko.expressionRewriting = (function () {\n    var javaScriptReservedWords = [\"true\", \"false\", \"null\", \"undefined\"];\n\n    // Matches something that can be assigned to--either an isolated identifier or something ending with a property accessor\n    // This is designed to be simple and avoid false negatives, but could produce false positives (e.g., a+b.c).\n    // This also will not properly handle nested brackets (e.g., obj1[obj2['prop']]; see #911).\n    var javaScriptAssignmentTarget = /^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i;\n\n    function getWriteableValue(expression) {\n        if (ko.utils.arrayIndexOf(javaScriptReservedWords, expression) >= 0)\n            return false;\n        var match = expression.match(javaScriptAssignmentTarget);\n        return match === null ? false : match[1] ? ('Object(' + match[1] + ')' + match[2]) : expression;\n    }\n\n    // The following regular expressions will be used to split an object-literal string into tokens\n\n        // These two match strings, either with double quotes or single quotes\n    var stringDouble = '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"',\n        stringSingle = \"'(?:[^'\\\\\\\\]|\\\\\\\\.)*'\",\n        // Matches a regular expression (text enclosed by slashes), but will also match sets of divisions\n        // as a regular expression (this is handled by the parsing loop below).\n        stringRegexp = '/(?:[^/\\\\\\\\]|\\\\\\\\.)*/\\w*',\n        // These characters have special meaning to the parser and must not appear in the middle of a\n        // token, except as part of a string.\n        specials = ',\"\\'{}()/:[\\\\]',\n        // Match text (at least two characters) that does not contain any of the above special characters,\n        // although some of the special characters are allowed to start it (all but the colon and comma).\n        // The text can contain spaces, but leading or trailing spaces are skipped.\n        everyThingElse = '[^\\\\s:,/][^' + specials + ']*[^\\\\s' + specials + ']',\n        // Match any non-space character not matched already. This will match colons and commas, since they're\n        // not matched by \"everyThingElse\", but will also match any other single character that wasn't already\n        // matched (for example: in \"a: 1, b: 2\", each of the non-space characters will be matched by oneNotSpace).\n        oneNotSpace = '[^\\\\s]',\n\n        // Create the actual regular expression by or-ing the above strings. The order is important.\n        bindingToken = RegExp(stringDouble + '|' + stringSingle + '|' + stringRegexp + '|' + everyThingElse + '|' + oneNotSpace, 'g'),\n\n        // Match end of previous token to determine whether a slash is a division or regex.\n        divisionLookBehind = /[\\])\"'A-Za-z0-9_$]+$/,\n        keywordRegexLookBehind = {'in':1,'return':1,'typeof':1};\n\n    function parseObjectLiteral(objectLiteralString) {\n        // Trim leading and trailing spaces from the string\n        var str = ko.utils.stringTrim(objectLiteralString);\n\n        // Trim braces '{' surrounding the whole object literal\n        if (str.charCodeAt(0) === 123) str = str.slice(1, -1);\n\n        // Split into tokens\n        var result = [], toks = str.match(bindingToken), key, values, depth = 0;\n\n        if (toks) {\n            // Append a comma so that we don't need a separate code block to deal with the last item\n            toks.push(',');\n\n            for (var i = 0, tok; tok = toks[i]; ++i) {\n                var c = tok.charCodeAt(0);\n                // A comma signals the end of a key/value pair if depth is zero\n                if (c === 44) { // \",\"\n                    if (depth <= 0) {\n                        if (key)\n                            result.push(values ? {key: key, value: values.join('')} : {'unknown': key});\n                        key = values = depth = 0;\n                        continue;\n                    }\n                // Simply skip the colon that separates the name and value\n                } else if (c === 58) { // \":\"\n                    if (!values)\n                        continue;\n                // A set of slashes is initially matched as a regular expression, but could be division\n                } else if (c === 47 && i && tok.length > 1) {  // \"/\"\n                    // Look at the end of the previous token to determine if the slash is actually division\n                    var match = toks[i-1].match(divisionLookBehind);\n                    if (match && !keywordRegexLookBehind[match[0]]) {\n                        // The slash is actually a division punctuator; re-parse the remainder of the string (not including the slash)\n                        str = str.substr(str.indexOf(tok) + 1);\n                        toks = str.match(bindingToken);\n                        toks.push(',');\n                        i = -1;\n                        // Continue with just the slash\n                        tok = '/';\n                    }\n                // Increment depth for parentheses, braces, and brackets so that interior commas are ignored\n                } else if (c === 40 || c === 123 || c === 91) { // '(', '{', '['\n                    ++depth;\n                } else if (c === 41 || c === 125 || c === 93) { // ')', '}', ']'\n                    --depth;\n                // The key must be a single token; if it's a string, trim the quotes\n                } else if (!key && !values) {\n                    key = (c === 34 || c === 39) /* '\"', \"'\" */ ? tok.slice(1, -1) : tok;\n                    continue;\n                }\n                if (values)\n                    values.push(tok);\n                else\n                    values = [tok];\n            }\n        }\n        return result;\n    }\n\n    // Two-way bindings include a write function that allow the handler to update the value even if it's not an observable.\n    var twoWayBindings = {};\n\n    function preProcessBindings(bindingsStringOrKeyValueArray, bindingOptions) {\n        bindingOptions = bindingOptions || {};\n\n        function processKeyValue(key, val) {\n            var writableVal;\n            function callPreprocessHook(obj) {\n                return (obj && obj['preprocess']) ? (val = obj['preprocess'](val, key, processKeyValue)) : true;\n            }\n            if (!callPreprocessHook(ko['getBindingHandler'](key)))\n                return;\n\n            if (twoWayBindings[key] && (writableVal = getWriteableValue(val))) {\n                // For two-way bindings, provide a write method in case the value\n                // isn't a writable observable.\n                propertyAccessorResultStrings.push(\"'\" + key + \"':function(_z){\" + writableVal + \"=_z}\");\n            }\n\n            // Values are wrapped in a function so that each value can be accessed independently\n            if (makeValueAccessors) {\n                val = 'function(){return ' + val + ' }';\n            }\n            resultStrings.push(\"'\" + key + \"':\" + val);\n        }\n\n        var resultStrings = [],\n            propertyAccessorResultStrings = [],\n            makeValueAccessors = bindingOptions['valueAccessors'],\n            keyValueArray = typeof bindingsStringOrKeyValueArray === \"string\" ?\n                parseObjectLiteral(bindingsStringOrKeyValueArray) : bindingsStringOrKeyValueArray;\n\n        ko.utils.arrayForEach(keyValueArray, function(keyValue) {\n            processKeyValue(keyValue.key || keyValue['unknown'], keyValue.value);\n        });\n\n        if (propertyAccessorResultStrings.length)\n            processKeyValue('_ko_property_writers', \"{\" + propertyAccessorResultStrings.join(\",\") + \"}\");\n\n        return resultStrings.join(\",\");\n    }\n\n    return {\n        bindingRewriteValidators: [],\n\n        twoWayBindings: twoWayBindings,\n\n        parseObjectLiteral: parseObjectLiteral,\n\n        preProcessBindings: preProcessBindings,\n\n        keyValueArrayContainsKey: function(keyValueArray, key) {\n            for (var i = 0; i < keyValueArray.length; i++)\n                if (keyValueArray[i]['key'] == key)\n                    return true;\n            return false;\n        },\n\n        // Internal, private KO utility for updating model properties from within bindings\n        // property:            If the property being updated is (or might be) an observable, pass it here\n        //                      If it turns out to be a writable observable, it will be written to directly\n        // allBindings:         An object with a get method to retrieve bindings in the current execution context.\n        //                      This will be searched for a '_ko_property_writers' property in case you're writing to a non-observable\n        // key:                 The key identifying the property to be written. Example: for { hasFocus: myValue }, write to 'myValue' by specifying the key 'hasFocus'\n        // value:               The value to be written\n        // checkIfDifferent:    If true, and if the property being written is a writable observable, the value will only be written if\n        //                      it is !== existing value on that writable observable\n        writeValueToProperty: function(property, allBindings, key, value, checkIfDifferent) {\n            if (!property || !ko.isObservable(property)) {\n                var propWriters = allBindings.get('_ko_property_writers');\n                if (propWriters && propWriters[key])\n                    propWriters[key](value);\n            } else if (ko.isWriteableObservable(property) && (!checkIfDifferent || property.peek() !== value)) {\n                property(value);\n            }\n        }\n    };\n})();\n\nko.exportSymbol('expressionRewriting', ko.expressionRewriting);\nko.exportSymbol('expressionRewriting.bindingRewriteValidators', ko.expressionRewriting.bindingRewriteValidators);\nko.exportSymbol('expressionRewriting.parseObjectLiteral', ko.expressionRewriting.parseObjectLiteral);\nko.exportSymbol('expressionRewriting.preProcessBindings', ko.expressionRewriting.preProcessBindings);\n\n// Making bindings explicitly declare themselves as \"two way\" isn't ideal in the long term (it would be better if\n// all bindings could use an official 'property writer' API without needing to declare that they might). However,\n// since this is not, and has never been, a public API (_ko_property_writers was never documented), it's acceptable\n// as an internal implementation detail in the short term.\n// For those developers who rely on _ko_property_writers in their custom bindings, we expose _twoWayBindings as an\n// undocumented feature that makes it relatively easy to upgrade to KO 3.0. However, this is still not an official\n// public API, and we reserve the right to remove it at any time if we create a real public property writers API.\nko.exportSymbol('expressionRewriting._twoWayBindings', ko.expressionRewriting.twoWayBindings);\n\n// For backward compatibility, define the following aliases. (Previously, these function names were misleading because\n// they referred to JSON specifically, even though they actually work with arbitrary JavaScript object literal expressions.)\nko.exportSymbol('jsonExpressionRewriting', ko.expressionRewriting);\nko.exportSymbol('jsonExpressionRewriting.insertPropertyAccessorsIntoJson', ko.expressionRewriting.preProcessBindings);\n(function() {\n    // \"Virtual elements\" is an abstraction on top of the usual DOM API which understands the notion that comment nodes\n    // may be used to represent hierarchy (in addition to the DOM's natural hierarchy).\n    // If you call the DOM-manipulating functions on ko.virtualElements, you will be able to read and write the state\n    // of that virtual hierarchy\n    //\n    // The point of all this is to support containerless templates (e.g., <!-- ko foreach:someCollection -->blah<!-- /ko -->)\n    // without having to scatter special cases all over the binding and templating code.\n\n    // IE 9 cannot reliably read the \"nodeValue\" property of a comment node (see https://github.com/SteveSanderson/knockout/issues/186)\n    // but it does give them a nonstandard alternative property called \"text\" that it can read reliably. Other browsers don't have that property.\n    // So, use node.text where available, and node.nodeValue elsewhere\n    var commentNodesHaveTextProperty = document && document.createComment(\"test\").text === \"<!--test-->\";\n\n    var startCommentRegex = commentNodesHaveTextProperty ? /^<!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*-->$/ : /^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/;\n    var endCommentRegex =   commentNodesHaveTextProperty ? /^<!--\\s*\\/ko\\s*-->$/ : /^\\s*\\/ko\\s*$/;\n    var htmlTagsWithOptionallyClosingChildren = { 'ul': true, 'ol': true };\n\n    function isStartComment(node) {\n        return (node.nodeType == 8) && startCommentRegex.test(commentNodesHaveTextProperty ? node.text : node.nodeValue);\n    }\n\n    function isEndComment(node) {\n        return (node.nodeType == 8) && endCommentRegex.test(commentNodesHaveTextProperty ? node.text : node.nodeValue);\n    }\n\n    function getVirtualChildren(startComment, allowUnbalanced) {\n        var currentNode = startComment;\n        var depth = 1;\n        var children = [];\n        while (currentNode = currentNode.nextSibling) {\n            if (isEndComment(currentNode)) {\n                depth--;\n                if (depth === 0)\n                    return children;\n            }\n\n            children.push(currentNode);\n\n            if (isStartComment(currentNode))\n                depth++;\n        }\n        if (!allowUnbalanced)\n            throw new Error(\"Cannot find closing comment tag to match: \" + startComment.nodeValue);\n        return null;\n    }\n\n    function getMatchingEndComment(startComment, allowUnbalanced) {\n        var allVirtualChildren = getVirtualChildren(startComment, allowUnbalanced);\n        if (allVirtualChildren) {\n            if (allVirtualChildren.length > 0)\n                return allVirtualChildren[allVirtualChildren.length - 1].nextSibling;\n            return startComment.nextSibling;\n        } else\n            return null; // Must have no matching end comment, and allowUnbalanced is true\n    }\n\n    function getUnbalancedChildTags(node) {\n        // e.g., from <div>OK</div><!-- ko blah --><span>Another</span>, returns: <!-- ko blah --><span>Another</span>\n        //       from <div>OK</div><!-- /ko --><!-- /ko -->,             returns: <!-- /ko --><!-- /ko -->\n        var childNode = node.firstChild, captureRemaining = null;\n        if (childNode) {\n            do {\n                if (captureRemaining)                   // We already hit an unbalanced node and are now just scooping up all subsequent nodes\n                    captureRemaining.push(childNode);\n                else if (isStartComment(childNode)) {\n                    var matchingEndComment = getMatchingEndComment(childNode, /* allowUnbalanced: */ true);\n                    if (matchingEndComment)             // It's a balanced tag, so skip immediately to the end of this virtual set\n                        childNode = matchingEndComment;\n                    else\n                        captureRemaining = [childNode]; // It's unbalanced, so start capturing from this point\n                } else if (isEndComment(childNode)) {\n                    captureRemaining = [childNode];     // It's unbalanced (if it wasn't, we'd have skipped over it already), so start capturing\n                }\n            } while (childNode = childNode.nextSibling);\n        }\n        return captureRemaining;\n    }\n\n    ko.virtualElements = {\n        allowedBindings: {},\n\n        childNodes: function(node) {\n            return isStartComment(node) ? getVirtualChildren(node) : node.childNodes;\n        },\n\n        emptyNode: function(node) {\n            if (!isStartComment(node))\n                ko.utils.emptyDomNode(node);\n            else {\n                var virtualChildren = ko.virtualElements.childNodes(node);\n                for (var i = 0, j = virtualChildren.length; i < j; i++)\n                    ko.removeNode(virtualChildren[i]);\n            }\n        },\n\n        setDomNodeChildren: function(node, childNodes) {\n            if (!isStartComment(node))\n                ko.utils.setDomNodeChildren(node, childNodes);\n            else {\n                ko.virtualElements.emptyNode(node);\n                var endCommentNode = node.nextSibling; // Must be the next sibling, as we just emptied the children\n                for (var i = 0, j = childNodes.length; i < j; i++)\n                    endCommentNode.parentNode.insertBefore(childNodes[i], endCommentNode);\n            }\n        },\n\n        prepend: function(containerNode, nodeToPrepend) {\n            if (!isStartComment(containerNode)) {\n                if (containerNode.firstChild)\n                    containerNode.insertBefore(nodeToPrepend, containerNode.firstChild);\n                else\n                    containerNode.appendChild(nodeToPrepend);\n            } else {\n                // Start comments must always have a parent and at least one following sibling (the end comment)\n                containerNode.parentNode.insertBefore(nodeToPrepend, containerNode.nextSibling);\n            }\n        },\n\n        insertAfter: function(containerNode, nodeToInsert, insertAfterNode) {\n            if (!insertAfterNode) {\n                ko.virtualElements.prepend(containerNode, nodeToInsert);\n            } else if (!isStartComment(containerNode)) {\n                // Insert after insertion point\n                if (insertAfterNode.nextSibling)\n                    containerNode.insertBefore(nodeToInsert, insertAfterNode.nextSibling);\n                else\n                    containerNode.appendChild(nodeToInsert);\n            } else {\n                // Children of start comments must always have a parent and at least one following sibling (the end comment)\n                containerNode.parentNode.insertBefore(nodeToInsert, insertAfterNode.nextSibling);\n            }\n        },\n\n        firstChild: function(node) {\n            if (!isStartComment(node))\n                return node.firstChild;\n            if (!node.nextSibling || isEndComment(node.nextSibling))\n                return null;\n            return node.nextSibling;\n        },\n\n        nextSibling: function(node) {\n            if (isStartComment(node))\n                node = getMatchingEndComment(node);\n            if (node.nextSibling && isEndComment(node.nextSibling))\n                return null;\n            return node.nextSibling;\n        },\n\n        hasBindingValue: isStartComment,\n\n        virtualNodeBindingValue: function(node) {\n            var regexMatch = (commentNodesHaveTextProperty ? node.text : node.nodeValue).match(startCommentRegex);\n            return regexMatch ? regexMatch[1] : null;\n        },\n\n        normaliseVirtualElementDomStructure: function(elementVerified) {\n            // Workaround for https://github.com/SteveSanderson/knockout/issues/155\n            // (IE <= 8 or IE 9 quirks mode parses your HTML weirdly, treating closing </li> tags as if they don't exist, thereby moving comment nodes\n            // that are direct descendants of <ul> into the preceding <li>)\n            if (!htmlTagsWithOptionallyClosingChildren[ko.utils.tagNameLower(elementVerified)])\n                return;\n\n            // Scan immediate children to see if they contain unbalanced comment tags. If they do, those comment tags\n            // must be intended to appear *after* that child, so move them there.\n            var childNode = elementVerified.firstChild;\n            if (childNode) {\n                do {\n                    if (childNode.nodeType === 1) {\n                        var unbalancedTags = getUnbalancedChildTags(childNode);\n                        if (unbalancedTags) {\n                            // Fix up the DOM by moving the unbalanced tags to where they most likely were intended to be placed - *after* the child\n                            var nodeToInsertBefore = childNode.nextSibling;\n                            for (var i = 0; i < unbalancedTags.length; i++) {\n                                if (nodeToInsertBefore)\n                                    elementVerified.insertBefore(unbalancedTags[i], nodeToInsertBefore);\n                                else\n                                    elementVerified.appendChild(unbalancedTags[i]);\n                            }\n                        }\n                    }\n                } while (childNode = childNode.nextSibling);\n            }\n        }\n    };\n})();\nko.exportSymbol('virtualElements', ko.virtualElements);\nko.exportSymbol('virtualElements.allowedBindings', ko.virtualElements.allowedBindings);\nko.exportSymbol('virtualElements.emptyNode', ko.virtualElements.emptyNode);\n//ko.exportSymbol('virtualElements.firstChild', ko.virtualElements.firstChild);     // firstChild is not minified\nko.exportSymbol('virtualElements.insertAfter', ko.virtualElements.insertAfter);\n//ko.exportSymbol('virtualElements.nextSibling', ko.virtualElements.nextSibling);   // nextSibling is not minified\nko.exportSymbol('virtualElements.prepend', ko.virtualElements.prepend);\nko.exportSymbol('virtualElements.setDomNodeChildren', ko.virtualElements.setDomNodeChildren);\n(function() {\n    var defaultBindingAttributeName = \"data-bind\";\n\n    ko.bindingProvider = function() {\n        this.bindingCache = {};\n    };\n\n    ko.utils.extend(ko.bindingProvider.prototype, {\n        'nodeHasBindings': function(node) {\n            switch (node.nodeType) {\n                case 1: return node.getAttribute(defaultBindingAttributeName) != null;   // Element\n                case 8: return ko.virtualElements.hasBindingValue(node); // Comment node\n                default: return false;\n            }\n        },\n\n        'getBindings': function(node, bindingContext) {\n            var bindingsString = this['getBindingsString'](node, bindingContext);\n            return bindingsString ? this['parseBindingsString'](bindingsString, bindingContext, node) : null;\n        },\n\n        'getBindingAccessors': function(node, bindingContext) {\n            var bindingsString = this['getBindingsString'](node, bindingContext);\n            return bindingsString ? this['parseBindingsString'](bindingsString, bindingContext, node, {'valueAccessors':true}) : null;\n        },\n\n        // The following function is only used internally by this default provider.\n        // It's not part of the interface definition for a general binding provider.\n        'getBindingsString': function(node, bindingContext) {\n            switch (node.nodeType) {\n                case 1: return node.getAttribute(defaultBindingAttributeName);   // Element\n                case 8: return ko.virtualElements.virtualNodeBindingValue(node); // Comment node\n                default: return null;\n            }\n        },\n\n        // The following function is only used internally by this default provider.\n        // It's not part of the interface definition for a general binding provider.\n        'parseBindingsString': function(bindingsString, bindingContext, node, options) {\n            try {\n                var bindingFunction = createBindingsStringEvaluatorViaCache(bindingsString, this.bindingCache, options);\n                return bindingFunction(bindingContext, node);\n            } catch (ex) {\n                ex.message = \"Unable to parse bindings.\\nBindings value: \" + bindingsString + \"\\nMessage: \" + ex.message;\n                throw ex;\n            }\n        }\n    });\n\n    ko.bindingProvider['instance'] = new ko.bindingProvider();\n\n    function createBindingsStringEvaluatorViaCache(bindingsString, cache, options) {\n        var cacheKey = bindingsString + (options && options['valueAccessors'] || '');\n        return cache[cacheKey]\n            || (cache[cacheKey] = createBindingsStringEvaluator(bindingsString, options));\n    }\n\n    function createBindingsStringEvaluator(bindingsString, options) {\n        // Build the source for a function that evaluates \"expression\"\n        // For each scope variable, add an extra level of \"with\" nesting\n        // Example result: with(sc1) { with(sc0) { return (expression) } }\n        var rewrittenBindings = ko.expressionRewriting.preProcessBindings(bindingsString, options),\n            functionBody = \"with($context){with($data||{}){return{\" + rewrittenBindings + \"}}}\";\n        return new Function(\"$context\", \"$element\", functionBody);\n    }\n})();\n\nko.exportSymbol('bindingProvider', ko.bindingProvider);\n(function () {\n    ko.bindingHandlers = {};\n\n    // The following element types will not be recursed into during binding. In the future, we\n    // may consider adding <template> to this list, because such elements' contents are always\n    // intended to be bound in a different context from where they appear in the document.\n    var bindingDoesNotRecurseIntoElementTypes = {\n        // Don't want bindings that operate on text nodes to mutate <script> contents,\n        // because it's unexpected and a potential XSS issue\n        'script': true\n    };\n\n    // Use an overridable method for retrieving binding handlers so that a plugins may support dynamically created handlers\n    ko['getBindingHandler'] = function(bindingKey) {\n        return ko.bindingHandlers[bindingKey];\n    };\n\n    // The ko.bindingContext constructor is only called directly to create the root context. For child\n    // contexts, use bindingContext.createChildContext or bindingContext.extend.\n    ko.bindingContext = function(dataItemOrAccessor, parentContext, dataItemAlias, extendCallback) {\n\n        // The binding context object includes static properties for the current, parent, and root view models.\n        // If a view model is actually stored in an observable, the corresponding binding context object, and\n        // any child contexts, must be updated when the view model is changed.\n        function updateContext() {\n            // Most of the time, the context will directly get a view model object, but if a function is given,\n            // we call the function to retrieve the view model. If the function accesses any obsevables (or is\n            // itself an observable), the dependency is tracked, and those observables can later cause the binding\n            // context to be updated.\n            var dataItem = isFunc ? dataItemOrAccessor() : dataItemOrAccessor;\n\n            if (parentContext) {\n                // When a \"parent\" context is given, register a dependency on the parent context. Thus whenever the\n                // parent context is updated, this context will also be updated.\n                if (parentContext._subscribable)\n                    parentContext._subscribable();\n\n                // Copy $root and any custom properties from the parent context\n                ko.utils.extend(self, parentContext);\n\n                // Because the above copy overwrites our own properties, we need to reset them.\n                // During the first execution, \"subscribable\" isn't set, so don't bother doing the update then.\n                if (subscribable) {\n                    self._subscribable = subscribable;\n                }\n            } else {\n                self['$parents'] = [];\n                self['$root'] = dataItem;\n\n                // Export 'ko' in the binding context so it will be available in bindings and templates\n                // even if 'ko' isn't exported as a global, such as when using an AMD loader.\n                // See https://github.com/SteveSanderson/knockout/issues/490\n                self['ko'] = ko;\n            }\n            self['$rawData'] = dataItemOrAccessor;\n            self['$data'] = dataItem;\n            if (dataItemAlias)\n                self[dataItemAlias] = dataItem;\n\n            // The extendCallback function is provided when creating a child context or extending a context.\n            // It handles the specific actions needed to finish setting up the binding context. Actions in this\n            // function could also add dependencies to this binding context.\n            if (extendCallback)\n                extendCallback(self, parentContext, dataItem);\n\n            return self['$data'];\n        }\n        function disposeWhen() {\n            return nodes && !ko.utils.anyDomNodeIsAttachedToDocument(nodes);\n        }\n\n        var self = this,\n            isFunc = typeof(dataItemOrAccessor) == \"function\",\n            nodes,\n            subscribable = ko.dependentObservable(updateContext, null, { disposeWhen: disposeWhen, disposeWhenNodeIsRemoved: true });\n\n        // At this point, the binding context has been initialized, and the \"subscribable\" computed observable is\n        // subscribed to any observables that were accessed in the process. If there is nothing to track, the\n        // computed will be inactive, and we can safely throw it away. If it's active, the computed is stored in\n        // the context object.\n        if (subscribable.isActive()) {\n            self._subscribable = subscribable;\n\n            // Always notify because even if the model ($data) hasn't changed, other context properties might have changed\n            subscribable['equalityComparer'] = null;\n\n            // We need to be able to dispose of this computed observable when it's no longer needed. This would be\n            // easy if we had a single node to watch, but binding contexts can be used by many different nodes, and\n            // we cannot assume that those nodes have any relation to each other. So instead we track any node that\n            // the context is attached to, and dispose the computed when all of those nodes have been cleaned.\n\n            // Add properties to *subscribable* instead of *self* because any properties added to *self* may be overwritten on updates\n            nodes = [];\n            subscribable._addNode = function(node) {\n                nodes.push(node);\n                ko.utils.domNodeDisposal.addDisposeCallback(node, function(node) {\n                    ko.utils.arrayRemoveItem(nodes, node);\n                    if (!nodes.length) {\n                        subscribable.dispose();\n                        self._subscribable = subscribable = undefined;\n                    }\n                });\n            };\n        }\n    }\n\n    // Extend the binding context hierarchy with a new view model object. If the parent context is watching\n    // any obsevables, the new child context will automatically get a dependency on the parent context.\n    // But this does not mean that the $data value of the child context will also get updated. If the child\n    // view model also depends on the parent view model, you must provide a function that returns the correct\n    // view model on each update.\n    ko.bindingContext.prototype['createChildContext'] = function (dataItemOrAccessor, dataItemAlias, extendCallback) {\n        return new ko.bindingContext(dataItemOrAccessor, this, dataItemAlias, function(self, parentContext) {\n            // Extend the context hierarchy by setting the appropriate pointers\n            self['$parentContext'] = parentContext;\n            self['$parent'] = parentContext['$data'];\n            self['$parents'] = (parentContext['$parents'] || []).slice(0);\n            self['$parents'].unshift(self['$parent']);\n            if (extendCallback)\n                extendCallback(self);\n        });\n    };\n\n    // Extend the binding context with new custom properties. This doesn't change the context hierarchy.\n    // Similarly to \"child\" contexts, provide a function here to make sure that the correct values are set\n    // when an observable view model is updated.\n    ko.bindingContext.prototype['extend'] = function(properties) {\n        return new ko.bindingContext(this['$rawData'], this, null, function(self) {\n            ko.utils.extend(self, typeof(properties) == \"function\" ? properties() : properties);\n        });\n    };\n\n    // Returns the valueAccesor function for a binding value\n    function makeValueAccessor(value) {\n        return function() {\n            return value;\n        };\n    }\n\n    // Returns the value of a valueAccessor function\n    function evaluateValueAccessor(valueAccessor) {\n        return valueAccessor();\n    }\n\n    // Given a function that returns bindings, create and return a new object that contains\n    // binding value-accessors functions. Each accessor function calls the original function\n    // so that it always gets the latest value and all dependencies are captured. This is used\n    // by ko.applyBindingsToNode and getBindingsAndMakeAccessors.\n    function makeAccessorsFromFunction(callback) {\n        return ko.utils.objectMap(ko.dependencyDetection.ignore(callback), function(value, key) {\n            return function() {\n                return callback()[key];\n            };\n        });\n    }\n\n    // Given a bindings function or object, create and return a new object that contains\n    // binding value-accessors functions. This is used by ko.applyBindingsToNode.\n    function makeBindingAccessors(bindings, context, node) {\n        if (typeof bindings === 'function') {\n            return makeAccessorsFromFunction(bindings.bind(null, context, node));\n        } else {\n            return ko.utils.objectMap(bindings, makeValueAccessor);\n        }\n    }\n\n    // This function is used if the binding provider doesn't include a getBindingAccessors function.\n    // It must be called with 'this' set to the provider instance.\n    function getBindingsAndMakeAccessors(node, context) {\n        return makeAccessorsFromFunction(this['getBindings'].bind(this, node, context));\n    }\n\n    function validateThatBindingIsAllowedForVirtualElements(bindingName) {\n        var validator = ko.virtualElements.allowedBindings[bindingName];\n        if (!validator)\n            throw new Error(\"The binding '\" + bindingName + \"' cannot be used with virtual elements\")\n    }\n\n    function applyBindingsToDescendantsInternal (bindingContext, elementOrVirtualElement, bindingContextsMayDifferFromDomParentElement) {\n        var currentChild,\n            nextInQueue = ko.virtualElements.firstChild(elementOrVirtualElement),\n            provider = ko.bindingProvider['instance'],\n            preprocessNode = provider['preprocessNode'];\n\n        // Preprocessing allows a binding provider to mutate a node before bindings are applied to it. For example it's\n        // possible to insert new siblings after it, and/or replace the node with a different one. This can be used to\n        // implement custom binding syntaxes, such as {{ value }} for string interpolation, or custom element types that\n        // trigger insertion of <template> contents at that point in the document.\n        if (preprocessNode) {\n            while (currentChild = nextInQueue) {\n                nextInQueue = ko.virtualElements.nextSibling(currentChild);\n                preprocessNode.call(provider, currentChild);\n            }\n            // Reset nextInQueue for the next loop\n            nextInQueue = ko.virtualElements.firstChild(elementOrVirtualElement);\n        }\n\n        while (currentChild = nextInQueue) {\n            // Keep a record of the next child *before* applying bindings, in case the binding removes the current child from its position\n            nextInQueue = ko.virtualElements.nextSibling(currentChild);\n            applyBindingsToNodeAndDescendantsInternal(bindingContext, currentChild, bindingContextsMayDifferFromDomParentElement);\n        }\n    }\n\n    function applyBindingsToNodeAndDescendantsInternal (bindingContext, nodeVerified, bindingContextMayDifferFromDomParentElement) {\n        var shouldBindDescendants = true;\n\n        // Perf optimisation: Apply bindings only if...\n        // (1) We need to store the binding context on this node (because it may differ from the DOM parent node's binding context)\n        //     Note that we can't store binding contexts on non-elements (e.g., text nodes), as IE doesn't allow expando properties for those\n        // (2) It might have bindings (e.g., it has a data-bind attribute, or it's a marker for a containerless template)\n        var isElement = (nodeVerified.nodeType === 1);\n        if (isElement) // Workaround IE <= 8 HTML parsing weirdness\n            ko.virtualElements.normaliseVirtualElementDomStructure(nodeVerified);\n\n        var shouldApplyBindings = (isElement && bindingContextMayDifferFromDomParentElement)             // Case (1)\n                               || ko.bindingProvider['instance']['nodeHasBindings'](nodeVerified);       // Case (2)\n        if (shouldApplyBindings)\n            shouldBindDescendants = applyBindingsToNodeInternal(nodeVerified, null, bindingContext, bindingContextMayDifferFromDomParentElement)['shouldBindDescendants'];\n\n        if (shouldBindDescendants && !bindingDoesNotRecurseIntoElementTypes[ko.utils.tagNameLower(nodeVerified)]) {\n            // We're recursing automatically into (real or virtual) child nodes without changing binding contexts. So,\n            //  * For children of a *real* element, the binding context is certainly the same as on their DOM .parentNode,\n            //    hence bindingContextsMayDifferFromDomParentElement is false\n            //  * For children of a *virtual* element, we can't be sure. Evaluating .parentNode on those children may\n            //    skip over any number of intermediate virtual elements, any of which might define a custom binding context,\n            //    hence bindingContextsMayDifferFromDomParentElement is true\n            applyBindingsToDescendantsInternal(bindingContext, nodeVerified, /* bindingContextsMayDifferFromDomParentElement: */ !isElement);\n        }\n    }\n\n    var boundElementDomDataKey = ko.utils.domData.nextKey();\n\n\n    function topologicalSortBindings(bindings) {\n        // Depth-first sort\n        var result = [],                // The list of key/handler pairs that we will return\n            bindingsConsidered = {},    // A temporary record of which bindings are already in 'result'\n            cyclicDependencyStack = []; // Keeps track of a depth-search so that, if there's a cycle, we know which bindings caused it\n        ko.utils.objectForEach(bindings, function pushBinding(bindingKey) {\n            if (!bindingsConsidered[bindingKey]) {\n                var binding = ko['getBindingHandler'](bindingKey);\n                if (binding) {\n                    // First add dependencies (if any) of the current binding\n                    if (binding['after']) {\n                        cyclicDependencyStack.push(bindingKey);\n                        ko.utils.arrayForEach(binding['after'], function(bindingDependencyKey) {\n                            if (bindings[bindingDependencyKey]) {\n                                if (ko.utils.arrayIndexOf(cyclicDependencyStack, bindingDependencyKey) !== -1) {\n                                    throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \" + cyclicDependencyStack.join(\", \"));\n                                } else {\n                                    pushBinding(bindingDependencyKey);\n                                }\n                            }\n                        });\n                        cyclicDependencyStack.pop();\n                    }\n                    // Next add the current binding\n                    result.push({ key: bindingKey, handler: binding });\n                }\n                bindingsConsidered[bindingKey] = true;\n            }\n        });\n\n        return result;\n    }\n\n    function applyBindingsToNodeInternal(node, sourceBindings, bindingContext, bindingContextMayDifferFromDomParentElement) {\n        // Prevent multiple applyBindings calls for the same node, except when a binding value is specified\n        var alreadyBound = ko.utils.domData.get(node, boundElementDomDataKey);\n        if (!sourceBindings) {\n            if (alreadyBound) {\n                throw Error(\"You cannot apply bindings multiple times to the same element.\");\n            }\n            ko.utils.domData.set(node, boundElementDomDataKey, true);\n        }\n\n        // Optimization: Don't store the binding context on this node if it's definitely the same as on node.parentNode, because\n        // we can easily recover it just by scanning up the node's ancestors in the DOM\n        // (note: here, parent node means \"real DOM parent\" not \"virtual parent\", as there's no O(1) way to find the virtual parent)\n        if (!alreadyBound && bindingContextMayDifferFromDomParentElement)\n            ko.storedBindingContextForNode(node, bindingContext);\n\n        // Use bindings if given, otherwise fall back on asking the bindings provider to give us some bindings\n        var bindings;\n        if (sourceBindings && typeof sourceBindings !== 'function') {\n            bindings = sourceBindings;\n        } else {\n            var provider = ko.bindingProvider['instance'],\n                getBindings = provider['getBindingAccessors'] || getBindingsAndMakeAccessors;\n\n            if (sourceBindings || bindingContext._subscribable) {\n                // When an obsevable view model is used, the binding context will expose an observable _subscribable value.\n                // Get the binding from the provider within a computed observable so that we can update the bindings whenever\n                // the binding context is updated.\n                var bindingsUpdater = ko.dependentObservable(\n                    function() {\n                        bindings = sourceBindings ? sourceBindings(bindingContext, node) : getBindings.call(provider, node, bindingContext);\n                        // Register a dependency on the binding context\n                        if (bindings && bindingContext._subscribable)\n                            bindingContext._subscribable();\n                        return bindings;\n                    },\n                    null, { disposeWhenNodeIsRemoved: node }\n                );\n\n                if (!bindings || !bindingsUpdater.isActive())\n                    bindingsUpdater = null;\n            } else {\n                bindings = ko.dependencyDetection.ignore(getBindings, provider, [node, bindingContext]);\n            }\n        }\n\n        var bindingHandlerThatControlsDescendantBindings;\n        if (bindings) {\n            // Return the value accessor for a given binding. When bindings are static (won't be updated because of a binding\n            // context update), just return the value accessor from the binding. Otherwise, return a function that always gets\n            // the latest binding value and registers a dependency on the binding updater.\n            var getValueAccessor = bindingsUpdater\n                ? function(bindingKey) {\n                    return function() {\n                        return evaluateValueAccessor(bindingsUpdater()[bindingKey]);\n                    };\n                } : function(bindingKey) {\n                    return bindings[bindingKey];\n                };\n\n            // Use of allBindings as a function is maintained for backwards compatibility, but its use is deprecated\n            function allBindings() {\n                return ko.utils.objectMap(bindingsUpdater ? bindingsUpdater() : bindings, evaluateValueAccessor);\n            }\n            // The following is the 3.x allBindings API\n            allBindings['get'] = function(key) {\n                return bindings[key] && evaluateValueAccessor(getValueAccessor(key));\n            };\n            allBindings['has'] = function(key) {\n                return key in bindings;\n            };\n\n            // First put the bindings into the right order\n            var orderedBindings = topologicalSortBindings(bindings);\n\n            // Go through the sorted bindings, calling init and update for each\n            ko.utils.arrayForEach(orderedBindings, function(bindingKeyAndHandler) {\n                // Note that topologicalSortBindings has already filtered out any nonexistent binding handlers,\n                // so bindingKeyAndHandler.handler will always be nonnull.\n                var handlerInitFn = bindingKeyAndHandler.handler[\"init\"],\n                    handlerUpdateFn = bindingKeyAndHandler.handler[\"update\"],\n                    bindingKey = bindingKeyAndHandler.key;\n\n                if (node.nodeType === 8) {\n                    validateThatBindingIsAllowedForVirtualElements(bindingKey);\n                }\n\n                try {\n                    // Run init, ignoring any dependencies\n                    if (typeof handlerInitFn == \"function\") {\n                        ko.dependencyDetection.ignore(function() {\n                            var initResult = handlerInitFn(node, getValueAccessor(bindingKey), allBindings, bindingContext['$data'], bindingContext);\n\n                            // If this binding handler claims to control descendant bindings, make a note of this\n                            if (initResult && initResult['controlsDescendantBindings']) {\n                                if (bindingHandlerThatControlsDescendantBindings !== undefined)\n                                    throw new Error(\"Multiple bindings (\" + bindingHandlerThatControlsDescendantBindings + \" and \" + bindingKey + \") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");\n                                bindingHandlerThatControlsDescendantBindings = bindingKey;\n                            }\n                        });\n                    }\n\n                    // Run update in its own computed wrapper\n                    if (typeof handlerUpdateFn == \"function\") {\n                        ko.dependentObservable(\n                            function() {\n                                handlerUpdateFn(node, getValueAccessor(bindingKey), allBindings, bindingContext['$data'], bindingContext);\n                            },\n                            null,\n                            { disposeWhenNodeIsRemoved: node }\n                        );\n                    }\n                } catch (ex) {\n                    ex.message = \"Unable to process binding \\\"\" + bindingKey + \": \" + bindings[bindingKey] + \"\\\"\\nMessage: \" + ex.message;\n                    throw ex;\n                }\n            });\n        }\n\n        return {\n            'shouldBindDescendants': bindingHandlerThatControlsDescendantBindings === undefined\n        };\n    };\n\n    var storedBindingContextDomDataKey = ko.utils.domData.nextKey();\n    ko.storedBindingContextForNode = function (node, bindingContext) {\n        if (arguments.length == 2) {\n            ko.utils.domData.set(node, storedBindingContextDomDataKey, bindingContext);\n            if (bindingContext._subscribable)\n                bindingContext._subscribable._addNode(node);\n        } else {\n            return ko.utils.domData.get(node, storedBindingContextDomDataKey);\n        }\n    }\n\n    function getBindingContext(viewModelOrBindingContext) {\n        return viewModelOrBindingContext && (viewModelOrBindingContext instanceof ko.bindingContext)\n            ? viewModelOrBindingContext\n            : new ko.bindingContext(viewModelOrBindingContext);\n    }\n\n    ko.applyBindingAccessorsToNode = function (node, bindings, viewModelOrBindingContext) {\n        if (node.nodeType === 1) // If it's an element, workaround IE <= 8 HTML parsing weirdness\n            ko.virtualElements.normaliseVirtualElementDomStructure(node);\n        return applyBindingsToNodeInternal(node, bindings, getBindingContext(viewModelOrBindingContext), true);\n    };\n\n    ko.applyBindingsToNode = function (node, bindings, viewModelOrBindingContext) {\n        var context = getBindingContext(viewModelOrBindingContext);\n        return ko.applyBindingAccessorsToNode(node, makeBindingAccessors(bindings, context, node), context);\n    };\n\n    ko.applyBindingsToDescendants = function(viewModelOrBindingContext, rootNode) {\n        if (rootNode.nodeType === 1 || rootNode.nodeType === 8)\n            applyBindingsToDescendantsInternal(getBindingContext(viewModelOrBindingContext), rootNode, true);\n    };\n\n    ko.applyBindings = function (viewModelOrBindingContext, rootNode) {\n        if (rootNode && (rootNode.nodeType !== 1) && (rootNode.nodeType !== 8))\n            throw new Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");\n        rootNode = rootNode || window.document.body; // Make \"rootNode\" parameter optional\n\n        applyBindingsToNodeAndDescendantsInternal(getBindingContext(viewModelOrBindingContext), rootNode, true);\n    };\n\n    // Retrieving binding context from arbitrary nodes\n    ko.contextFor = function(node) {\n        // We can only do something meaningful for elements and comment nodes (in particular, not text nodes, as IE can't store domdata for them)\n        switch (node.nodeType) {\n            case 1:\n            case 8:\n                var context = ko.storedBindingContextForNode(node);\n                if (context) return context;\n                if (node.parentNode) return ko.contextFor(node.parentNode);\n                break;\n        }\n        return undefined;\n    };\n    ko.dataFor = function(node) {\n        var context = ko.contextFor(node);\n        return context ? context['$data'] : undefined;\n    };\n\n    ko.exportSymbol('bindingHandlers', ko.bindingHandlers);\n    ko.exportSymbol('applyBindings', ko.applyBindings);\n    ko.exportSymbol('applyBindingsToDescendants', ko.applyBindingsToDescendants);\n    ko.exportSymbol('applyBindingAccessorsToNode', ko.applyBindingAccessorsToNode);\n    ko.exportSymbol('applyBindingsToNode', ko.applyBindingsToNode);\n    ko.exportSymbol('contextFor', ko.contextFor);\n    ko.exportSymbol('dataFor', ko.dataFor);\n})();\nvar attrHtmlToJavascriptMap = { 'class': 'className', 'for': 'htmlFor' };\nko.bindingHandlers['attr'] = {\n    'update': function(element, valueAccessor, allBindings) {\n        var value = ko.utils.unwrapObservable(valueAccessor()) || {};\n        ko.utils.objectForEach(value, function(attrName, attrValue) {\n            attrValue = ko.utils.unwrapObservable(attrValue);\n\n            // To cover cases like \"attr: { checked:someProp }\", we want to remove the attribute entirely\n            // when someProp is a \"no value\"-like value (strictly null, false, or undefined)\n            // (because the absence of the \"checked\" attr is how to mark an element as not checked, etc.)\n            var toRemove = (attrValue === false) || (attrValue === null) || (attrValue === undefined);\n            if (toRemove)\n                element.removeAttribute(attrName);\n\n            // In IE <= 7 and IE8 Quirks Mode, you have to use the Javascript property name instead of the\n            // HTML attribute name for certain attributes. IE8 Standards Mode supports the correct behavior,\n            // but instead of figuring out the mode, we'll just set the attribute through the Javascript\n            // property for IE <= 8.\n            if (ko.utils.ieVersion <= 8 && attrName in attrHtmlToJavascriptMap) {\n                attrName = attrHtmlToJavascriptMap[attrName];\n                if (toRemove)\n                    element.removeAttribute(attrName);\n                else\n                    element[attrName] = attrValue;\n            } else if (!toRemove) {\n                element.setAttribute(attrName, attrValue.toString());\n            }\n\n            // Treat \"name\" specially - although you can think of it as an attribute, it also needs\n            // special handling on older versions of IE (https://github.com/SteveSanderson/knockout/pull/333)\n            // Deliberately being case-sensitive here because XHTML would regard \"Name\" as a different thing\n            // entirely, and there's no strong reason to allow for such casing in HTML.\n            if (attrName === \"name\") {\n                ko.utils.setElementName(element, toRemove ? \"\" : attrValue.toString());\n            }\n        });\n    }\n};\n(function() {\n\nko.bindingHandlers['checked'] = {\n    'after': ['value', 'attr'],\n    'init': function (element, valueAccessor, allBindings) {\n        function checkedValue() {\n            return allBindings['has']('checkedValue')\n                ? ko.utils.unwrapObservable(allBindings.get('checkedValue'))\n                : element.value;\n        }\n\n        function updateModel() {\n            // This updates the model value from the view value.\n            // It runs in response to DOM events (click) and changes in checkedValue.\n            var isChecked = element.checked,\n                elemValue = useCheckedValue ? checkedValue() : isChecked;\n\n            // When we're first setting up this computed, don't change any model state.\n            if (!shouldSet) {\n                return;\n            }\n\n            // We can ignore unchecked radio buttons, because some other radio\n            // button will be getting checked, and that one can take care of updating state.\n            if (isRadio && !isChecked) {\n                return;\n            }\n\n            var modelValue = ko.dependencyDetection.ignore(valueAccessor);\n            if (isValueArray) {\n                if (oldElemValue !== elemValue) {\n                    // When we're responding to the checkedValue changing, and the element is\n                    // currently checked, replace the old elem value with the new elem value\n                    // in the model array.\n                    if (isChecked) {\n                        ko.utils.addOrRemoveItem(modelValue, elemValue, true);\n                        ko.utils.addOrRemoveItem(modelValue, oldElemValue, false);\n                    }\n\n                    oldElemValue = elemValue;\n                } else {\n                    // When we're responding to the user having checked/unchecked a checkbox,\n                    // add/remove the element value to the model array.\n                    ko.utils.addOrRemoveItem(modelValue, elemValue, isChecked);\n                }\n            } else {\n                ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'checked', elemValue, true);\n            }\n        };\n\n        function updateView() {\n            // This updates the view value from the model value.\n            // It runs in response to changes in the bound (checked) value.\n            var modelValue = ko.utils.unwrapObservable(valueAccessor());\n\n            if (isValueArray) {\n                // When a checkbox is bound to an array, being checked represents its value being present in that array\n                element.checked = ko.utils.arrayIndexOf(modelValue, checkedValue()) >= 0;\n            } else if (isCheckbox) {\n                // When a checkbox is bound to any other value (not an array), being checked represents the value being trueish\n                element.checked = modelValue;\n            } else {\n                // For radio buttons, being checked means that the radio button's value corresponds to the model value\n                element.checked = (checkedValue() === modelValue);\n            }\n        };\n\n        var isCheckbox = element.type == \"checkbox\",\n            isRadio = element.type == \"radio\";\n\n        // Only bind to check boxes and radio buttons\n        if (!isCheckbox && !isRadio) {\n            return;\n        }\n\n        var isValueArray = isCheckbox && (ko.utils.unwrapObservable(valueAccessor()) instanceof Array),\n            oldElemValue = isValueArray ? checkedValue() : undefined,\n            useCheckedValue = isRadio || isValueArray,\n            shouldSet = false;\n\n        // IE 6 won't allow radio buttons to be selected unless they have a name\n        if (isRadio && !element.name)\n            ko.bindingHandlers['uniqueName']['init'](element, function() { return true });\n\n        // Set up two computeds to update the binding:\n\n        // The first responds to changes in the checkedValue value and to element clicks\n        ko.dependentObservable(updateModel, null, { disposeWhenNodeIsRemoved: element });\n        ko.utils.registerEventHandler(element, \"click\", updateModel);\n\n        // The second responds to changes in the model value (the one associated with the checked binding)\n        ko.dependentObservable(updateView, null, { disposeWhenNodeIsRemoved: element });\n\n        shouldSet = true;\n    }\n};\nko.expressionRewriting.twoWayBindings['checked'] = true;\n\nko.bindingHandlers['checkedValue'] = {\n    'update': function (element, valueAccessor) {\n        element.value = ko.utils.unwrapObservable(valueAccessor());\n    }\n};\n\n})();var classesWrittenByBindingKey = '__ko__cssValue';\nko.bindingHandlers['css'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (typeof value == \"object\") {\n            ko.utils.objectForEach(value, function(className, shouldHaveClass) {\n                shouldHaveClass = ko.utils.unwrapObservable(shouldHaveClass);\n                ko.utils.toggleDomNodeCssClass(element, className, shouldHaveClass);\n            });\n        } else {\n            value = String(value || ''); // Make sure we don't try to store or set a non-string value\n            ko.utils.toggleDomNodeCssClass(element, element[classesWrittenByBindingKey], false);\n            element[classesWrittenByBindingKey] = value;\n            ko.utils.toggleDomNodeCssClass(element, value, true);\n        }\n    }\n};\nko.bindingHandlers['enable'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (value && element.disabled)\n            element.removeAttribute(\"disabled\");\n        else if ((!value) && (!element.disabled))\n            element.disabled = true;\n    }\n};\n\nko.bindingHandlers['disable'] = {\n    'update': function (element, valueAccessor) {\n        ko.bindingHandlers['enable']['update'](element, function() { return !ko.utils.unwrapObservable(valueAccessor()) });\n    }\n};\n// For certain common events (currently just 'click'), allow a simplified data-binding syntax\n// e.g. click:handler instead of the usual full-length event:{click:handler}\nfunction makeEventHandlerShortcut(eventName) {\n    ko.bindingHandlers[eventName] = {\n        'init': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var newValueAccessor = function () {\n                var result = {};\n                result[eventName] = valueAccessor();\n                return result;\n            };\n            return ko.bindingHandlers['event']['init'].call(this, element, newValueAccessor, allBindings, viewModel, bindingContext);\n        }\n    }\n}\n\nko.bindingHandlers['event'] = {\n    'init' : function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var eventsToHandle = valueAccessor() || {};\n        ko.utils.objectForEach(eventsToHandle, function(eventName) {\n            if (typeof eventName == \"string\") {\n                ko.utils.registerEventHandler(element, eventName, function (event) {\n                    var handlerReturnValue;\n                    var handlerFunction = valueAccessor()[eventName];\n                    if (!handlerFunction)\n                        return;\n\n                    try {\n                        // Take all the event args, and prefix with the viewmodel\n                        var argsForHandler = ko.utils.makeArray(arguments);\n                        viewModel = bindingContext['$data'];\n                        argsForHandler.unshift(viewModel);\n                        handlerReturnValue = handlerFunction.apply(viewModel, argsForHandler);\n                    } finally {\n                        if (handlerReturnValue !== true) { // Normally we want to prevent default action. Developer can override this be explicitly returning true.\n                            if (event.preventDefault)\n                                event.preventDefault();\n                            else\n                                event.returnValue = false;\n                        }\n                    }\n\n                    var bubble = allBindings.get(eventName + 'Bubble') !== false;\n                    if (!bubble) {\n                        event.cancelBubble = true;\n                        if (event.stopPropagation)\n                            event.stopPropagation();\n                    }\n                });\n            }\n        });\n    }\n};\n// \"foreach: someExpression\" is equivalent to \"template: { foreach: someExpression }\"\n// \"foreach: { data: someExpression, afterAdd: myfn }\" is equivalent to \"template: { foreach: someExpression, afterAdd: myfn }\"\nko.bindingHandlers['foreach'] = {\n    makeTemplateValueAccessor: function(valueAccessor) {\n        return function() {\n            var modelValue = valueAccessor(),\n                unwrappedValue = ko.utils.peekObservable(modelValue);    // Unwrap without setting a dependency here\n\n            // If unwrappedValue is the array, pass in the wrapped value on its own\n            // The value will be unwrapped and tracked within the template binding\n            // (See https://github.com/SteveSanderson/knockout/issues/523)\n            if ((!unwrappedValue) || typeof unwrappedValue.length == \"number\")\n                return { 'foreach': modelValue, 'templateEngine': ko.nativeTemplateEngine.instance };\n\n            // If unwrappedValue.data is the array, preserve all relevant options and unwrap again value so we get updates\n            ko.utils.unwrapObservable(modelValue);\n            return {\n                'foreach': unwrappedValue['data'],\n                'as': unwrappedValue['as'],\n                'includeDestroyed': unwrappedValue['includeDestroyed'],\n                'afterAdd': unwrappedValue['afterAdd'],\n                'beforeRemove': unwrappedValue['beforeRemove'],\n                'afterRender': unwrappedValue['afterRender'],\n                'beforeMove': unwrappedValue['beforeMove'],\n                'afterMove': unwrappedValue['afterMove'],\n                'templateEngine': ko.nativeTemplateEngine.instance\n            };\n        };\n    },\n    'init': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n        return ko.bindingHandlers['template']['init'](element, ko.bindingHandlers['foreach'].makeTemplateValueAccessor(valueAccessor));\n    },\n    'update': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n        return ko.bindingHandlers['template']['update'](element, ko.bindingHandlers['foreach'].makeTemplateValueAccessor(valueAccessor), allBindings, viewModel, bindingContext);\n    }\n};\nko.expressionRewriting.bindingRewriteValidators['foreach'] = false; // Can't rewrite control flow bindings\nko.virtualElements.allowedBindings['foreach'] = true;\nvar hasfocusUpdatingProperty = '__ko_hasfocusUpdating';\nvar hasfocusLastValue = '__ko_hasfocusLastValue';\nko.bindingHandlers['hasfocus'] = {\n    'init': function(element, valueAccessor, allBindings) {\n        var handleElementFocusChange = function(isFocused) {\n            // Where possible, ignore which event was raised and determine focus state using activeElement,\n            // as this avoids phantom focus/blur events raised when changing tabs in modern browsers.\n            // However, not all KO-targeted browsers (Firefox 2) support activeElement. For those browsers,\n            // prevent a loss of focus when changing tabs/windows by setting a flag that prevents hasfocus\n            // from calling 'blur()' on the element when it loses focus.\n            // Discussion at https://github.com/SteveSanderson/knockout/pull/352\n            element[hasfocusUpdatingProperty] = true;\n            var ownerDoc = element.ownerDocument;\n            if (\"activeElement\" in ownerDoc) {\n                var active;\n                try {\n                    active = ownerDoc.activeElement;\n                } catch(e) {\n                    // IE9 throws if you access activeElement during page load (see issue #703)\n                    active = ownerDoc.body;\n                }\n                isFocused = (active === element);\n            }\n            var modelValue = valueAccessor();\n            ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'hasfocus', isFocused, true);\n\n            //cache the latest value, so we can avoid unnecessarily calling focus/blur in the update function\n            element[hasfocusLastValue] = isFocused;\n            element[hasfocusUpdatingProperty] = false;\n        };\n        var handleElementFocusIn = handleElementFocusChange.bind(null, true);\n        var handleElementFocusOut = handleElementFocusChange.bind(null, false);\n\n        ko.utils.registerEventHandler(element, \"focus\", handleElementFocusIn);\n        ko.utils.registerEventHandler(element, \"focusin\", handleElementFocusIn); // For IE\n        ko.utils.registerEventHandler(element, \"blur\",  handleElementFocusOut);\n        ko.utils.registerEventHandler(element, \"focusout\",  handleElementFocusOut); // For IE\n    },\n    'update': function(element, valueAccessor) {\n        var value = !!ko.utils.unwrapObservable(valueAccessor()); //force boolean to compare with last value\n        if (!element[hasfocusUpdatingProperty] && element[hasfocusLastValue] !== value) {\n            value ? element.focus() : element.blur();\n            ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, value ? \"focusin\" : \"focusout\"]); // For IE, which doesn't reliably fire \"focus\" or \"blur\" events synchronously\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['hasfocus'] = true;\n\nko.bindingHandlers['hasFocus'] = ko.bindingHandlers['hasfocus']; // Make \"hasFocus\" an alias\nko.expressionRewriting.twoWayBindings['hasFocus'] = true;\nko.bindingHandlers['html'] = {\n    'init': function() {\n        // Prevent binding on the dynamically-injected HTML (as developers are unlikely to expect that, and it has security implications)\n        return { 'controlsDescendantBindings': true };\n    },\n    'update': function (element, valueAccessor) {\n        // setHtml will unwrap the value if needed\n        ko.utils.setHtml(element, valueAccessor());\n    }\n};\nvar withIfDomDataKey = ko.utils.domData.nextKey();\n// Makes a binding like with or if\nfunction makeWithIfBinding(bindingKey, isWith, isNot, makeContextCallback) {\n    ko.bindingHandlers[bindingKey] = {\n        'init': function(element) {\n            ko.utils.domData.set(element, withIfDomDataKey, {});\n            return { 'controlsDescendantBindings': true };\n        },\n        'update': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var withIfData = ko.utils.domData.get(element, withIfDomDataKey),\n                dataValue = ko.utils.unwrapObservable(valueAccessor()),\n                shouldDisplay = !isNot !== !dataValue, // equivalent to isNot ? !dataValue : !!dataValue\n                isFirstRender = !withIfData.savedNodes,\n                needsRefresh = isFirstRender || isWith || (shouldDisplay !== withIfData.didDisplayOnLastUpdate);\n\n            if (needsRefresh) {\n                if (isFirstRender) {\n                    withIfData.savedNodes = ko.utils.cloneNodes(ko.virtualElements.childNodes(element), true /* shouldCleanNodes */);\n                }\n\n                if (shouldDisplay) {\n                    if (!isFirstRender) {\n                        ko.virtualElements.setDomNodeChildren(element, ko.utils.cloneNodes(withIfData.savedNodes));\n                    }\n                    ko.applyBindingsToDescendants(makeContextCallback ? makeContextCallback(bindingContext, dataValue) : bindingContext, element);\n                } else {\n                    ko.virtualElements.emptyNode(element);\n                }\n\n                withIfData.didDisplayOnLastUpdate = shouldDisplay;\n            }\n        }\n    };\n    ko.expressionRewriting.bindingRewriteValidators[bindingKey] = false; // Can't rewrite control flow bindings\n    ko.virtualElements.allowedBindings[bindingKey] = true;\n}\n\n// Construct the actual binding handlers\nmakeWithIfBinding('if');\nmakeWithIfBinding('ifnot', false /* isWith */, true /* isNot */);\nmakeWithIfBinding('with', true /* isWith */, false /* isNot */,\n    function(bindingContext, dataValue) {\n        return bindingContext['createChildContext'](dataValue);\n    }\n);\nko.bindingHandlers['options'] = {\n    'init': function(element) {\n        if (ko.utils.tagNameLower(element) !== \"select\")\n            throw new Error(\"options binding applies only to SELECT elements\");\n\n        // Remove all existing <option>s.\n        while (element.length > 0) {\n            element.remove(0);\n        }\n\n        // Ensures that the binding processor doesn't try to bind the options\n        return { 'controlsDescendantBindings': true };\n    },\n    'update': function (element, valueAccessor, allBindings) {\n        function selectedOptions() {\n            return ko.utils.arrayFilter(element.options, function (node) { return node.selected; });\n        }\n\n        var selectWasPreviouslyEmpty = element.length == 0;\n        var previousScrollTop = (!selectWasPreviouslyEmpty && element.multiple) ? element.scrollTop : null;\n\n        var unwrappedArray = ko.utils.unwrapObservable(valueAccessor());\n        var includeDestroyed = allBindings.get('optionsIncludeDestroyed');\n        var captionPlaceholder = {};\n        var captionValue;\n        var previousSelectedValues;\n        if (element.multiple) {\n            previousSelectedValues = ko.utils.arrayMap(selectedOptions(), ko.selectExtensions.readValue);\n        } else {\n            previousSelectedValues = element.selectedIndex >= 0 ? [ ko.selectExtensions.readValue(element.options[element.selectedIndex]) ] : [];\n        }\n\n        if (unwrappedArray) {\n            if (typeof unwrappedArray.length == \"undefined\") // Coerce single value into array\n                unwrappedArray = [unwrappedArray];\n\n            // Filter out any entries marked as destroyed\n            var filteredArray = ko.utils.arrayFilter(unwrappedArray, function(item) {\n                return includeDestroyed || item === undefined || item === null || !ko.utils.unwrapObservable(item['_destroy']);\n            });\n\n            // If caption is included, add it to the array\n            if (allBindings['has']('optionsCaption')) {\n                captionValue = ko.utils.unwrapObservable(allBindings.get('optionsCaption'));\n                // If caption value is null or undefined, don't show a caption\n                if (captionValue !== null && captionValue !== undefined) {\n                    filteredArray.unshift(captionPlaceholder);\n                }\n            }\n        } else {\n            // If a falsy value is provided (e.g. null), we'll simply empty the select element\n            unwrappedArray = [];\n        }\n\n        function applyToObject(object, predicate, defaultValue) {\n            var predicateType = typeof predicate;\n            if (predicateType == \"function\")    // Given a function; run it against the data value\n                return predicate(object);\n            else if (predicateType == \"string\") // Given a string; treat it as a property name on the data value\n                return object[predicate];\n            else                                // Given no optionsText arg; use the data value itself\n                return defaultValue;\n        }\n\n        // The following functions can run at two different times:\n        // The first is when the whole array is being updated directly from this binding handler.\n        // The second is when an observable value for a specific array entry is updated.\n        // oldOptions will be empty in the first case, but will be filled with the previously generated option in the second.\n        var itemUpdate = false;\n        function optionForArrayItem(arrayEntry, index, oldOptions) {\n            if (oldOptions.length) {\n                previousSelectedValues = oldOptions[0].selected ? [ ko.selectExtensions.readValue(oldOptions[0]) ] : [];\n                itemUpdate = true;\n            }\n            var option = document.createElement(\"option\");\n            if (arrayEntry === captionPlaceholder) {\n                ko.utils.setTextContent(option, allBindings.get('optionsCaption'));\n                ko.selectExtensions.writeValue(option, undefined);\n            } else {\n                // Apply a value to the option element\n                var optionValue = applyToObject(arrayEntry, allBindings.get('optionsValue'), arrayEntry);\n                ko.selectExtensions.writeValue(option, ko.utils.unwrapObservable(optionValue));\n\n                // Apply some text to the option element\n                var optionText = applyToObject(arrayEntry, allBindings.get('optionsText'), optionValue);\n                ko.utils.setTextContent(option, optionText);\n            }\n            return [option];\n        }\n\n        function setSelectionCallback(arrayEntry, newOptions) {\n            // IE6 doesn't like us to assign selection to OPTION nodes before they're added to the document.\n            // That's why we first added them without selection. Now it's time to set the selection.\n            if (previousSelectedValues.length) {\n                var isSelected = ko.utils.arrayIndexOf(previousSelectedValues, ko.selectExtensions.readValue(newOptions[0])) >= 0;\n                ko.utils.setOptionNodeSelectionState(newOptions[0], isSelected);\n\n                // If this option was changed from being selected during a single-item update, notify the change\n                if (itemUpdate && !isSelected)\n                    ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, \"change\"]);\n            }\n        }\n\n        var callback = setSelectionCallback;\n        if (allBindings['has']('optionsAfterRender')) {\n            callback = function(arrayEntry, newOptions) {\n                setSelectionCallback(arrayEntry, newOptions);\n                ko.dependencyDetection.ignore(allBindings.get('optionsAfterRender'), null, [newOptions[0], arrayEntry !== captionPlaceholder ? arrayEntry : undefined]);\n            }\n        }\n\n        ko.utils.setDomNodeChildrenFromArrayMapping(element, filteredArray, optionForArrayItem, null, callback);\n\n        // Determine if the selection has changed as a result of updating the options list\n        var selectionChanged;\n        if (element.multiple) {\n            // For a multiple-select box, compare the new selection count to the previous one\n            // But if nothing was selected before, the selection can't have changed\n            selectionChanged = previousSelectedValues.length && selectedOptions().length < previousSelectedValues.length;\n        } else {\n            // For a single-select box, compare the current value to the previous value\n            // But if nothing was selected before or nothing is selected now, just look for a change in selection\n            selectionChanged = (previousSelectedValues.length && element.selectedIndex >= 0)\n                ? (ko.selectExtensions.readValue(element.options[element.selectedIndex]) !== previousSelectedValues[0])\n                : (previousSelectedValues.length || element.selectedIndex >= 0);\n        }\n\n        // Ensure consistency between model value and selected option.\n        // If the dropdown was changed so that selection is no longer the same,\n        // notify the value or selectedOptions binding.\n        if (selectionChanged)\n            ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, \"change\"]);\n\n        // Workaround for IE bug\n        ko.utils.ensureSelectElementIsRenderedCorrectly(element);\n\n        if (previousScrollTop && Math.abs(previousScrollTop - element.scrollTop) > 20)\n            element.scrollTop = previousScrollTop;\n    }\n};\nko.bindingHandlers['options'].optionValueDomDataKey = ko.utils.domData.nextKey();\nko.bindingHandlers['selectedOptions'] = {\n    'after': ['options', 'foreach'],\n    'init': function (element, valueAccessor, allBindings) {\n        ko.utils.registerEventHandler(element, \"change\", function () {\n            var value = valueAccessor(), valueToWrite = [];\n            ko.utils.arrayForEach(element.getElementsByTagName(\"option\"), function(node) {\n                if (node.selected)\n                    valueToWrite.push(ko.selectExtensions.readValue(node));\n            });\n            ko.expressionRewriting.writeValueToProperty(value, allBindings, 'selectedOptions', valueToWrite);\n        });\n    },\n    'update': function (element, valueAccessor) {\n        if (ko.utils.tagNameLower(element) != \"select\")\n            throw new Error(\"values binding applies only to SELECT elements\");\n\n        var newValue = ko.utils.unwrapObservable(valueAccessor());\n        if (newValue && typeof newValue.length == \"number\") {\n            ko.utils.arrayForEach(element.getElementsByTagName(\"option\"), function(node) {\n                var isSelected = ko.utils.arrayIndexOf(newValue, ko.selectExtensions.readValue(node)) >= 0;\n                ko.utils.setOptionNodeSelectionState(node, isSelected);\n            });\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['selectedOptions'] = true;\nko.bindingHandlers['style'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor() || {});\n        ko.utils.objectForEach(value, function(styleName, styleValue) {\n            styleValue = ko.utils.unwrapObservable(styleValue);\n            element.style[styleName] = styleValue || \"\"; // Empty string removes the value, whereas null/undefined have no effect\n        });\n    }\n};\nko.bindingHandlers['submit'] = {\n    'init': function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        if (typeof valueAccessor() != \"function\")\n            throw new Error(\"The value for a submit binding must be a function\");\n        ko.utils.registerEventHandler(element, \"submit\", function (event) {\n            var handlerReturnValue;\n            var value = valueAccessor();\n            try { handlerReturnValue = value.call(bindingContext['$data'], element); }\n            finally {\n                if (handlerReturnValue !== true) { // Normally we want to prevent default action. Developer can override this be explicitly returning true.\n                    if (event.preventDefault)\n                        event.preventDefault();\n                    else\n                        event.returnValue = false;\n                }\n            }\n        });\n    }\n};\nko.bindingHandlers['text'] = {\n\t'init': function() {\n\t\t// Prevent binding on the dynamically-injected text node (as developers are unlikely to expect that, and it has security implications).\n\t\t// It should also make things faster, as we no longer have to consider whether the text node might be bindable.\n        return { 'controlsDescendantBindings': true };\n\t},\n    'update': function (element, valueAccessor) {\n        ko.utils.setTextContent(element, valueAccessor());\n    }\n};\nko.virtualElements.allowedBindings['text'] = true;\nko.bindingHandlers['uniqueName'] = {\n    'init': function (element, valueAccessor) {\n        if (valueAccessor()) {\n            var name = \"ko_unique_\" + (++ko.bindingHandlers['uniqueName'].currentIndex);\n            ko.utils.setElementName(element, name);\n        }\n    }\n};\nko.bindingHandlers['uniqueName'].currentIndex = 0;\nko.bindingHandlers['value'] = {\n    'after': ['options', 'foreach'],\n    'init': function (element, valueAccessor, allBindings) {\n        // Always catch \"change\" event; possibly other events too if asked\n        var eventsToCatch = [\"change\"];\n        var requestedEventsToCatch = allBindings.get(\"valueUpdate\");\n        var propertyChangedFired = false;\n        if (requestedEventsToCatch) {\n            if (typeof requestedEventsToCatch == \"string\") // Allow both individual event names, and arrays of event names\n                requestedEventsToCatch = [requestedEventsToCatch];\n            ko.utils.arrayPushAll(eventsToCatch, requestedEventsToCatch);\n            eventsToCatch = ko.utils.arrayGetDistinctValues(eventsToCatch);\n        }\n\n        var valueUpdateHandler = function() {\n            propertyChangedFired = false;\n            var modelValue = valueAccessor();\n            var elementValue = ko.selectExtensions.readValue(element);\n            ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'value', elementValue);\n        }\n\n        // Workaround for https://github.com/SteveSanderson/knockout/issues/122\n        // IE doesn't fire \"change\" events on textboxes if the user selects a value from its autocomplete list\n        var ieAutoCompleteHackNeeded = ko.utils.ieVersion && element.tagName.toLowerCase() == \"input\" && element.type == \"text\"\n                                       && element.autocomplete != \"off\" && (!element.form || element.form.autocomplete != \"off\");\n        if (ieAutoCompleteHackNeeded && ko.utils.arrayIndexOf(eventsToCatch, \"propertychange\") == -1) {\n            ko.utils.registerEventHandler(element, \"propertychange\", function () { propertyChangedFired = true });\n            ko.utils.registerEventHandler(element, \"blur\", function() {\n                if (propertyChangedFired) {\n                    valueUpdateHandler();\n                }\n            });\n        }\n\n        ko.utils.arrayForEach(eventsToCatch, function(eventName) {\n            // The syntax \"after<eventname>\" means \"run the handler asynchronously after the event\"\n            // This is useful, for example, to catch \"keydown\" events after the browser has updated the control\n            // (otherwise, ko.selectExtensions.readValue(this) will receive the control's value *before* the key event)\n            var handler = valueUpdateHandler;\n            if (ko.utils.stringStartsWith(eventName, \"after\")) {\n                handler = function() { setTimeout(valueUpdateHandler, 0) };\n                eventName = eventName.substring(\"after\".length);\n            }\n            ko.utils.registerEventHandler(element, eventName, handler);\n        });\n    },\n    'update': function (element, valueAccessor) {\n        var valueIsSelectOption = ko.utils.tagNameLower(element) === \"select\";\n        var newValue = ko.utils.unwrapObservable(valueAccessor());\n        var elementValue = ko.selectExtensions.readValue(element);\n        var valueHasChanged = (newValue !== elementValue);\n\n        if (valueHasChanged) {\n            var applyValueAction = function () { ko.selectExtensions.writeValue(element, newValue); };\n            applyValueAction();\n\n            if (valueIsSelectOption) {\n                if (newValue !== ko.selectExtensions.readValue(element)) {\n                    // If you try to set a model value that can't be represented in an already-populated dropdown, reject that change,\n                    // because you're not allowed to have a model value that disagrees with a visible UI selection.\n                    ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, \"change\"]);\n                } else {\n                    // Workaround for IE6 bug: It won't reliably apply values to SELECT nodes during the same execution thread\n                    // right after you've changed the set of OPTION nodes on it. So for that node type, we'll schedule a second thread\n                    // to apply the value as well.\n                    setTimeout(applyValueAction, 0);\n                }\n            }\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['value'] = true;\nko.bindingHandlers['visible'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        var isCurrentlyVisible = !(element.style.display == \"none\");\n        if (value && !isCurrentlyVisible)\n            element.style.display = \"\";\n        else if ((!value) && isCurrentlyVisible)\n            element.style.display = \"none\";\n    }\n};\n// 'click' is just a shorthand for the usual full-length event:{click:handler}\nmakeEventHandlerShortcut('click');\n// If you want to make a custom template engine,\n//\n// [1] Inherit from this class (like ko.nativeTemplateEngine does)\n// [2] Override 'renderTemplateSource', supplying a function with this signature:\n//\n//        function (templateSource, bindingContext, options) {\n//            // - templateSource.text() is the text of the template you should render\n//            // - bindingContext.$data is the data you should pass into the template\n//            //   - you might also want to make bindingContext.$parent, bindingContext.$parents,\n//            //     and bindingContext.$root available in the template too\n//            // - options gives you access to any other properties set on \"data-bind: { template: options }\"\n//            //\n//            // Return value: an array of DOM nodes\n//        }\n//\n// [3] Override 'createJavaScriptEvaluatorBlock', supplying a function with this signature:\n//\n//        function (script) {\n//            // Return value: Whatever syntax means \"Evaluate the JavaScript statement 'script' and output the result\"\n//            //               For example, the jquery.tmpl template engine converts 'someScript' to '${ someScript }'\n//        }\n//\n//     This is only necessary if you want to allow data-bind attributes to reference arbitrary template variables.\n//     If you don't want to allow that, you can set the property 'allowTemplateRewriting' to false (like ko.nativeTemplateEngine does)\n//     and then you don't need to override 'createJavaScriptEvaluatorBlock'.\n\nko.templateEngine = function () { };\n\nko.templateEngine.prototype['renderTemplateSource'] = function (templateSource, bindingContext, options) {\n    throw new Error(\"Override renderTemplateSource\");\n};\n\nko.templateEngine.prototype['createJavaScriptEvaluatorBlock'] = function (script) {\n    throw new Error(\"Override createJavaScriptEvaluatorBlock\");\n};\n\nko.templateEngine.prototype['makeTemplateSource'] = function(template, templateDocument) {\n    // Named template\n    if (typeof template == \"string\") {\n        templateDocument = templateDocument || document;\n        var elem = templateDocument.getElementById(template);\n        if (!elem)\n            throw new Error(\"Cannot find template with ID \" + template);\n        return new ko.templateSources.domElement(elem);\n    } else if ((template.nodeType == 1) || (template.nodeType == 8)) {\n        // Anonymous template\n        return new ko.templateSources.anonymousTemplate(template);\n    } else\n        throw new Error(\"Unknown template type: \" + template);\n};\n\nko.templateEngine.prototype['renderTemplate'] = function (template, bindingContext, options, templateDocument) {\n    var templateSource = this['makeTemplateSource'](template, templateDocument);\n    return this['renderTemplateSource'](templateSource, bindingContext, options);\n};\n\nko.templateEngine.prototype['isTemplateRewritten'] = function (template, templateDocument) {\n    // Skip rewriting if requested\n    if (this['allowTemplateRewriting'] === false)\n        return true;\n    return this['makeTemplateSource'](template, templateDocument)['data'](\"isRewritten\");\n};\n\nko.templateEngine.prototype['rewriteTemplate'] = function (template, rewriterCallback, templateDocument) {\n    var templateSource = this['makeTemplateSource'](template, templateDocument);\n    var rewritten = rewriterCallback(templateSource['text']());\n    templateSource['text'](rewritten);\n    templateSource['data'](\"isRewritten\", true);\n};\n\nko.exportSymbol('templateEngine', ko.templateEngine);\n\nko.templateRewriting = (function () {\n    var memoizeDataBindingAttributeSyntaxRegex = /(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi;\n    var memoizeVirtualContainerBindingSyntaxRegex = /<!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*-->/g;\n\n    function validateDataBindValuesForRewriting(keyValueArray) {\n        var allValidators = ko.expressionRewriting.bindingRewriteValidators;\n        for (var i = 0; i < keyValueArray.length; i++) {\n            var key = keyValueArray[i]['key'];\n            if (allValidators.hasOwnProperty(key)) {\n                var validator = allValidators[key];\n\n                if (typeof validator === \"function\") {\n                    var possibleErrorMessage = validator(keyValueArray[i]['value']);\n                    if (possibleErrorMessage)\n                        throw new Error(possibleErrorMessage);\n                } else if (!validator) {\n                    throw new Error(\"This template engine does not support the '\" + key + \"' binding within its templates\");\n                }\n            }\n        }\n    }\n\n    function constructMemoizedTagReplacement(dataBindAttributeValue, tagToRetain, nodeName, templateEngine) {\n        var dataBindKeyValueArray = ko.expressionRewriting.parseObjectLiteral(dataBindAttributeValue);\n        validateDataBindValuesForRewriting(dataBindKeyValueArray);\n        var rewrittenDataBindAttributeValue = ko.expressionRewriting.preProcessBindings(dataBindKeyValueArray, {'valueAccessors':true});\n\n        // For no obvious reason, Opera fails to evaluate rewrittenDataBindAttributeValue unless it's wrapped in an additional\n        // anonymous function, even though Opera's built-in debugger can evaluate it anyway. No other browser requires this\n        // extra indirection.\n        var applyBindingsToNextSiblingScript =\n            \"ko.__tr_ambtns(function($context,$element){return(function(){return{ \" + rewrittenDataBindAttributeValue + \" } })()},'\" + nodeName.toLowerCase() + \"')\";\n        return templateEngine['createJavaScriptEvaluatorBlock'](applyBindingsToNextSiblingScript) + tagToRetain;\n    }\n\n    return {\n        ensureTemplateIsRewritten: function (template, templateEngine, templateDocument) {\n            if (!templateEngine['isTemplateRewritten'](template, templateDocument))\n                templateEngine['rewriteTemplate'](template, function (htmlString) {\n                    return ko.templateRewriting.memoizeBindingAttributeSyntax(htmlString, templateEngine);\n                }, templateDocument);\n        },\n\n        memoizeBindingAttributeSyntax: function (htmlString, templateEngine) {\n            return htmlString.replace(memoizeDataBindingAttributeSyntaxRegex, function () {\n                return constructMemoizedTagReplacement(/* dataBindAttributeValue: */ arguments[4], /* tagToRetain: */ arguments[1], /* nodeName: */ arguments[2], templateEngine);\n            }).replace(memoizeVirtualContainerBindingSyntaxRegex, function() {\n                return constructMemoizedTagReplacement(/* dataBindAttributeValue: */ arguments[1], /* tagToRetain: */ \"<!-- ko -->\", /* nodeName: */ \"#comment\", templateEngine);\n            });\n        },\n\n        applyMemoizedBindingsToNextSibling: function (bindings, nodeName) {\n            return ko.memoization.memoize(function (domNode, bindingContext) {\n                var nodeToBind = domNode.nextSibling;\n                if (nodeToBind && nodeToBind.nodeName.toLowerCase() === nodeName) {\n                    ko.applyBindingAccessorsToNode(nodeToBind, bindings, bindingContext);\n                }\n            });\n        }\n    }\n})();\n\n\n// Exported only because it has to be referenced by string lookup from within rewritten template\nko.exportSymbol('__tr_ambtns', ko.templateRewriting.applyMemoizedBindingsToNextSibling);\n(function() {\n    // A template source represents a read/write way of accessing a template. This is to eliminate the need for template loading/saving\n    // logic to be duplicated in every template engine (and means they can all work with anonymous templates, etc.)\n    //\n    // Two are provided by default:\n    //  1. ko.templateSources.domElement       - reads/writes the text content of an arbitrary DOM element\n    //  2. ko.templateSources.anonymousElement - uses ko.utils.domData to read/write text *associated* with the DOM element, but\n    //                                           without reading/writing the actual element text content, since it will be overwritten\n    //                                           with the rendered template output.\n    // You can implement your own template source if you want to fetch/store templates somewhere other than in DOM elements.\n    // Template sources need to have the following functions:\n    //   text() \t\t\t- returns the template text from your storage location\n    //   text(value)\t\t- writes the supplied template text to your storage location\n    //   data(key)\t\t\t- reads values stored using data(key, value) - see below\n    //   data(key, value)\t- associates \"value\" with this template and the key \"key\". Is used to store information like \"isRewritten\".\n    //\n    // Optionally, template sources can also have the following functions:\n    //   nodes()            - returns a DOM element containing the nodes of this template, where available\n    //   nodes(value)       - writes the given DOM element to your storage location\n    // If a DOM element is available for a given template source, template engines are encouraged to use it in preference over text()\n    // for improved speed. However, all templateSources must supply text() even if they don't supply nodes().\n    //\n    // Once you've implemented a templateSource, make your template engine use it by subclassing whatever template engine you were\n    // using and overriding \"makeTemplateSource\" to return an instance of your custom template source.\n\n    ko.templateSources = {};\n\n    // ---- ko.templateSources.domElement -----\n\n    ko.templateSources.domElement = function(element) {\n        this.domElement = element;\n    }\n\n    ko.templateSources.domElement.prototype['text'] = function(/* valueToWrite */) {\n        var tagNameLower = ko.utils.tagNameLower(this.domElement),\n            elemContentsProperty = tagNameLower === \"script\" ? \"text\"\n                                 : tagNameLower === \"textarea\" ? \"value\"\n                                 : \"innerHTML\";\n\n        if (arguments.length == 0) {\n            return this.domElement[elemContentsProperty];\n        } else {\n            var valueToWrite = arguments[0];\n            if (elemContentsProperty === \"innerHTML\")\n                ko.utils.setHtml(this.domElement, valueToWrite);\n            else\n                this.domElement[elemContentsProperty] = valueToWrite;\n        }\n    };\n\n    var dataDomDataPrefix = ko.utils.domData.nextKey() + \"_\";\n    ko.templateSources.domElement.prototype['data'] = function(key /*, valueToWrite */) {\n        if (arguments.length === 1) {\n            return ko.utils.domData.get(this.domElement, dataDomDataPrefix + key);\n        } else {\n            ko.utils.domData.set(this.domElement, dataDomDataPrefix + key, arguments[1]);\n        }\n    };\n\n    // ---- ko.templateSources.anonymousTemplate -----\n    // Anonymous templates are normally saved/retrieved as DOM nodes through \"nodes\".\n    // For compatibility, you can also read \"text\"; it will be serialized from the nodes on demand.\n    // Writing to \"text\" is still supported, but then the template data will not be available as DOM nodes.\n\n    var anonymousTemplatesDomDataKey = ko.utils.domData.nextKey();\n    ko.templateSources.anonymousTemplate = function(element) {\n        this.domElement = element;\n    }\n    ko.templateSources.anonymousTemplate.prototype = new ko.templateSources.domElement();\n    ko.templateSources.anonymousTemplate.prototype.constructor = ko.templateSources.anonymousTemplate;\n    ko.templateSources.anonymousTemplate.prototype['text'] = function(/* valueToWrite */) {\n        if (arguments.length == 0) {\n            var templateData = ko.utils.domData.get(this.domElement, anonymousTemplatesDomDataKey) || {};\n            if (templateData.textData === undefined && templateData.containerData)\n                templateData.textData = templateData.containerData.innerHTML;\n            return templateData.textData;\n        } else {\n            var valueToWrite = arguments[0];\n            ko.utils.domData.set(this.domElement, anonymousTemplatesDomDataKey, {textData: valueToWrite});\n        }\n    };\n    ko.templateSources.domElement.prototype['nodes'] = function(/* valueToWrite */) {\n        if (arguments.length == 0) {\n            var templateData = ko.utils.domData.get(this.domElement, anonymousTemplatesDomDataKey) || {};\n            return templateData.containerData;\n        } else {\n            var valueToWrite = arguments[0];\n            ko.utils.domData.set(this.domElement, anonymousTemplatesDomDataKey, {containerData: valueToWrite});\n        }\n    };\n\n    ko.exportSymbol('templateSources', ko.templateSources);\n    ko.exportSymbol('templateSources.domElement', ko.templateSources.domElement);\n    ko.exportSymbol('templateSources.anonymousTemplate', ko.templateSources.anonymousTemplate);\n})();\n(function () {\n    var _templateEngine;\n    ko.setTemplateEngine = function (templateEngine) {\n        if ((templateEngine != undefined) && !(templateEngine instanceof ko.templateEngine))\n            throw new Error(\"templateEngine must inherit from ko.templateEngine\");\n        _templateEngine = templateEngine;\n    }\n\n    function invokeForEachNodeInContinuousRange(firstNode, lastNode, action) {\n        var node, nextInQueue = firstNode, firstOutOfRangeNode = ko.virtualElements.nextSibling(lastNode);\n        while (nextInQueue && ((node = nextInQueue) !== firstOutOfRangeNode)) {\n            nextInQueue = ko.virtualElements.nextSibling(node);\n            action(node, nextInQueue);\n        }\n    }\n\n    function activateBindingsOnContinuousNodeArray(continuousNodeArray, bindingContext) {\n        // To be used on any nodes that have been rendered by a template and have been inserted into some parent element\n        // Walks through continuousNodeArray (which *must* be continuous, i.e., an uninterrupted sequence of sibling nodes, because\n        // the algorithm for walking them relies on this), and for each top-level item in the virtual-element sense,\n        // (1) Does a regular \"applyBindings\" to associate bindingContext with this node and to activate any non-memoized bindings\n        // (2) Unmemoizes any memos in the DOM subtree (e.g., to activate bindings that had been memoized during template rewriting)\n\n        if (continuousNodeArray.length) {\n            var firstNode = continuousNodeArray[0],\n                lastNode = continuousNodeArray[continuousNodeArray.length - 1],\n                parentNode = firstNode.parentNode,\n                provider = ko.bindingProvider['instance'],\n                preprocessNode = provider['preprocessNode'];\n\n            if (preprocessNode) {\n                invokeForEachNodeInContinuousRange(firstNode, lastNode, function(node, nextNodeInRange) {\n                    var nodePreviousSibling = node.previousSibling;\n                    var newNodes = preprocessNode.call(provider, node);\n                    if (newNodes) {\n                        if (node === firstNode)\n                            firstNode = newNodes[0] || nextNodeInRange;\n                        if (node === lastNode)\n                            lastNode = newNodes[newNodes.length - 1] || nodePreviousSibling;\n                    }\n                });\n\n                // Because preprocessNode can change the nodes, including the first and last nodes, update continuousNodeArray to match.\n                // We need the full set, including inner nodes, because the unmemoize step might remove the first node (and so the real\n                // first node needs to be in the array).\n                continuousNodeArray.length = 0;\n                if (!firstNode) { // preprocessNode might have removed all the nodes, in which case there's nothing left to do\n                    return;\n                }\n                if (firstNode === lastNode) {\n                    continuousNodeArray.push(firstNode);\n                } else {\n                    continuousNodeArray.push(firstNode, lastNode);\n                    ko.utils.fixUpContinuousNodeArray(continuousNodeArray, parentNode);\n                }\n            }\n\n            // Need to applyBindings *before* unmemoziation, because unmemoization might introduce extra nodes (that we don't want to re-bind)\n            // whereas a regular applyBindings won't introduce new memoized nodes\n            invokeForEachNodeInContinuousRange(firstNode, lastNode, function(node) {\n                if (node.nodeType === 1 || node.nodeType === 8)\n                    ko.applyBindings(bindingContext, node);\n            });\n            invokeForEachNodeInContinuousRange(firstNode, lastNode, function(node) {\n                if (node.nodeType === 1 || node.nodeType === 8)\n                    ko.memoization.unmemoizeDomNodeAndDescendants(node, [bindingContext]);\n            });\n\n            // Make sure any changes done by applyBindings or unmemoize are reflected in the array\n            ko.utils.fixUpContinuousNodeArray(continuousNodeArray, parentNode);\n        }\n    }\n\n    function getFirstNodeFromPossibleArray(nodeOrNodeArray) {\n        return nodeOrNodeArray.nodeType ? nodeOrNodeArray\n                                        : nodeOrNodeArray.length > 0 ? nodeOrNodeArray[0]\n                                        : null;\n    }\n\n    function executeTemplate(targetNodeOrNodeArray, renderMode, template, bindingContext, options) {\n        options = options || {};\n        var firstTargetNode = targetNodeOrNodeArray && getFirstNodeFromPossibleArray(targetNodeOrNodeArray);\n        var templateDocument = firstTargetNode && firstTargetNode.ownerDocument;\n        var templateEngineToUse = (options['templateEngine'] || _templateEngine);\n        ko.templateRewriting.ensureTemplateIsRewritten(template, templateEngineToUse, templateDocument);\n        var renderedNodesArray = templateEngineToUse['renderTemplate'](template, bindingContext, options, templateDocument);\n\n        // Loosely check result is an array of DOM nodes\n        if ((typeof renderedNodesArray.length != \"number\") || (renderedNodesArray.length > 0 && typeof renderedNodesArray[0].nodeType != \"number\"))\n            throw new Error(\"Template engine must return an array of DOM nodes\");\n\n        var haveAddedNodesToParent = false;\n        switch (renderMode) {\n            case \"replaceChildren\":\n                ko.virtualElements.setDomNodeChildren(targetNodeOrNodeArray, renderedNodesArray);\n                haveAddedNodesToParent = true;\n                break;\n            case \"replaceNode\":\n                ko.utils.replaceDomNodes(targetNodeOrNodeArray, renderedNodesArray);\n                haveAddedNodesToParent = true;\n                break;\n            case \"ignoreTargetNode\": break;\n            default:\n                throw new Error(\"Unknown renderMode: \" + renderMode);\n        }\n\n        if (haveAddedNodesToParent) {\n            activateBindingsOnContinuousNodeArray(renderedNodesArray, bindingContext);\n            if (options['afterRender'])\n                ko.dependencyDetection.ignore(options['afterRender'], null, [renderedNodesArray, bindingContext['$data']]);\n        }\n\n        return renderedNodesArray;\n    }\n\n    ko.renderTemplate = function (template, dataOrBindingContext, options, targetNodeOrNodeArray, renderMode) {\n        options = options || {};\n        if ((options['templateEngine'] || _templateEngine) == undefined)\n            throw new Error(\"Set a template engine before calling renderTemplate\");\n        renderMode = renderMode || \"replaceChildren\";\n\n        if (targetNodeOrNodeArray) {\n            var firstTargetNode = getFirstNodeFromPossibleArray(targetNodeOrNodeArray);\n\n            var whenToDispose = function () { return (!firstTargetNode) || !ko.utils.domNodeIsAttachedToDocument(firstTargetNode); }; // Passive disposal (on next evaluation)\n            var activelyDisposeWhenNodeIsRemoved = (firstTargetNode && renderMode == \"replaceNode\") ? firstTargetNode.parentNode : firstTargetNode;\n\n            return ko.dependentObservable( // So the DOM is automatically updated when any dependency changes\n                function () {\n                    // Ensure we've got a proper binding context to work with\n                    var bindingContext = (dataOrBindingContext && (dataOrBindingContext instanceof ko.bindingContext))\n                        ? dataOrBindingContext\n                        : new ko.bindingContext(ko.utils.unwrapObservable(dataOrBindingContext));\n\n                    // Support selecting template as a function of the data being rendered\n                    var templateName = typeof(template) == 'function' ? template(bindingContext['$data'], bindingContext) : template;\n\n                    var renderedNodesArray = executeTemplate(targetNodeOrNodeArray, renderMode, templateName, bindingContext, options);\n                    if (renderMode == \"replaceNode\") {\n                        targetNodeOrNodeArray = renderedNodesArray;\n                        firstTargetNode = getFirstNodeFromPossibleArray(targetNodeOrNodeArray);\n                    }\n                },\n                null,\n                { disposeWhen: whenToDispose, disposeWhenNodeIsRemoved: activelyDisposeWhenNodeIsRemoved }\n            );\n        } else {\n            // We don't yet have a DOM node to evaluate, so use a memo and render the template later when there is a DOM node\n            return ko.memoization.memoize(function (domNode) {\n                ko.renderTemplate(template, dataOrBindingContext, options, domNode, \"replaceNode\");\n            });\n        }\n    };\n\n    ko.renderTemplateForEach = function (template, arrayOrObservableArray, options, targetNode, parentBindingContext) {\n        // Since setDomNodeChildrenFromArrayMapping always calls executeTemplateForArrayItem and then\n        // activateBindingsCallback for added items, we can store the binding context in the former to use in the latter.\n        var arrayItemContext;\n\n        // This will be called by setDomNodeChildrenFromArrayMapping to get the nodes to add to targetNode\n        var executeTemplateForArrayItem = function (arrayValue, index) {\n            // Support selecting template as a function of the data being rendered\n            arrayItemContext = parentBindingContext['createChildContext'](arrayValue, options['as'], function(context) {\n                context['$index'] = index;\n            });\n            var templateName = typeof(template) == 'function' ? template(arrayValue, arrayItemContext) : template;\n            return executeTemplate(null, \"ignoreTargetNode\", templateName, arrayItemContext, options);\n        }\n\n        // This will be called whenever setDomNodeChildrenFromArrayMapping has added nodes to targetNode\n        var activateBindingsCallback = function(arrayValue, addedNodesArray, index) {\n            activateBindingsOnContinuousNodeArray(addedNodesArray, arrayItemContext);\n            if (options['afterRender'])\n                options['afterRender'](addedNodesArray, arrayValue);\n        };\n\n        return ko.dependentObservable(function () {\n            var unwrappedArray = ko.utils.unwrapObservable(arrayOrObservableArray) || [];\n            if (typeof unwrappedArray.length == \"undefined\") // Coerce single value into array\n                unwrappedArray = [unwrappedArray];\n\n            // Filter out any entries marked as destroyed\n            var filteredArray = ko.utils.arrayFilter(unwrappedArray, function(item) {\n                return options['includeDestroyed'] || item === undefined || item === null || !ko.utils.unwrapObservable(item['_destroy']);\n            });\n\n            // Call setDomNodeChildrenFromArrayMapping, ignoring any observables unwrapped within (most likely from a callback function).\n            // If the array items are observables, though, they will be unwrapped in executeTemplateForArrayItem and managed within setDomNodeChildrenFromArrayMapping.\n            ko.dependencyDetection.ignore(ko.utils.setDomNodeChildrenFromArrayMapping, null, [targetNode, filteredArray, executeTemplateForArrayItem, options, activateBindingsCallback]);\n\n        }, null, { disposeWhenNodeIsRemoved: targetNode });\n    };\n\n    var templateComputedDomDataKey = ko.utils.domData.nextKey();\n    function disposeOldComputedAndStoreNewOne(element, newComputed) {\n        var oldComputed = ko.utils.domData.get(element, templateComputedDomDataKey);\n        if (oldComputed && (typeof(oldComputed.dispose) == 'function'))\n            oldComputed.dispose();\n        ko.utils.domData.set(element, templateComputedDomDataKey, (newComputed && newComputed.isActive()) ? newComputed : undefined);\n    }\n\n    ko.bindingHandlers['template'] = {\n        'init': function(element, valueAccessor) {\n            // Support anonymous templates\n            var bindingValue = ko.utils.unwrapObservable(valueAccessor());\n            if (typeof bindingValue == \"string\" || bindingValue['name']) {\n                // It's a named template - clear the element\n                ko.virtualElements.emptyNode(element);\n            } else {\n                // It's an anonymous template - store the element contents, then clear the element\n                var templateNodes = ko.virtualElements.childNodes(element),\n                    container = ko.utils.moveCleanedNodesToContainerElement(templateNodes); // This also removes the nodes from their current parent\n                new ko.templateSources.anonymousTemplate(element)['nodes'](container);\n            }\n            return { 'controlsDescendantBindings': true };\n        },\n        'update': function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var templateName = ko.utils.unwrapObservable(valueAccessor()),\n                options = {},\n                shouldDisplay = true,\n                dataValue,\n                templateComputed = null;\n\n            if (typeof templateName != \"string\") {\n                options = templateName;\n                templateName = ko.utils.unwrapObservable(options['name']);\n\n                // Support \"if\"/\"ifnot\" conditions\n                if ('if' in options)\n                    shouldDisplay = ko.utils.unwrapObservable(options['if']);\n                if (shouldDisplay && 'ifnot' in options)\n                    shouldDisplay = !ko.utils.unwrapObservable(options['ifnot']);\n\n                dataValue = ko.utils.unwrapObservable(options['data']);\n            }\n\n            if ('foreach' in options) {\n                // Render once for each data point (treating data set as empty if shouldDisplay==false)\n                var dataArray = (shouldDisplay && options['foreach']) || [];\n                templateComputed = ko.renderTemplateForEach(templateName || element, dataArray, options, element, bindingContext);\n            } else if (!shouldDisplay) {\n                ko.virtualElements.emptyNode(element);\n            } else {\n                // Render once for this single data point (or use the viewModel if no data was provided)\n                var innerBindingContext = ('data' in options) ?\n                    bindingContext['createChildContext'](dataValue, options['as']) :  // Given an explitit 'data' value, we create a child binding context for it\n                    bindingContext;                                                        // Given no explicit 'data' value, we retain the same binding context\n                templateComputed = ko.renderTemplate(templateName || element, innerBindingContext, options, element);\n            }\n\n            // It only makes sense to have a single template computed per element (otherwise which one should have its output displayed?)\n            disposeOldComputedAndStoreNewOne(element, templateComputed);\n        }\n    };\n\n    // Anonymous templates can't be rewritten. Give a nice error message if you try to do it.\n    ko.expressionRewriting.bindingRewriteValidators['template'] = function(bindingValue) {\n        var parsedBindingValue = ko.expressionRewriting.parseObjectLiteral(bindingValue);\n\n        if ((parsedBindingValue.length == 1) && parsedBindingValue[0]['unknown'])\n            return null; // It looks like a string literal, not an object literal, so treat it as a named template (which is allowed for rewriting)\n\n        if (ko.expressionRewriting.keyValueArrayContainsKey(parsedBindingValue, \"name\"))\n            return null; // Named templates can be rewritten, so return \"no error\"\n        return \"This template engine does not support anonymous templates nested within its templates\";\n    };\n\n    ko.virtualElements.allowedBindings['template'] = true;\n})();\n\nko.exportSymbol('setTemplateEngine', ko.setTemplateEngine);\nko.exportSymbol('renderTemplate', ko.renderTemplate);\n\nko.utils.compareArrays = (function () {\n    var statusNotInOld = 'added', statusNotInNew = 'deleted';\n\n    // Simple calculation based on Levenshtein distance.\n    function compareArrays(oldArray, newArray, options) {\n        // For backward compatibility, if the third arg is actually a bool, interpret\n        // it as the old parameter 'dontLimitMoves'. Newer code should use { dontLimitMoves: true }.\n        options = (typeof options === 'boolean') ? { 'dontLimitMoves': options } : (options || {});\n        oldArray = oldArray || [];\n        newArray = newArray || [];\n\n        if (oldArray.length <= newArray.length)\n            return compareSmallArrayToBigArray(oldArray, newArray, statusNotInOld, statusNotInNew, options);\n        else\n            return compareSmallArrayToBigArray(newArray, oldArray, statusNotInNew, statusNotInOld, options);\n    }\n\n    function compareSmallArrayToBigArray(smlArray, bigArray, statusNotInSml, statusNotInBig, options) {\n        var myMin = Math.min,\n            myMax = Math.max,\n            editDistanceMatrix = [],\n            smlIndex, smlIndexMax = smlArray.length,\n            bigIndex, bigIndexMax = bigArray.length,\n            compareRange = (bigIndexMax - smlIndexMax) || 1,\n            maxDistance = smlIndexMax + bigIndexMax + 1,\n            thisRow, lastRow,\n            bigIndexMaxForRow, bigIndexMinForRow;\n\n        for (smlIndex = 0; smlIndex <= smlIndexMax; smlIndex++) {\n            lastRow = thisRow;\n            editDistanceMatrix.push(thisRow = []);\n            bigIndexMaxForRow = myMin(bigIndexMax, smlIndex + compareRange);\n            bigIndexMinForRow = myMax(0, smlIndex - 1);\n            for (bigIndex = bigIndexMinForRow; bigIndex <= bigIndexMaxForRow; bigIndex++) {\n                if (!bigIndex)\n                    thisRow[bigIndex] = smlIndex + 1;\n                else if (!smlIndex)  // Top row - transform empty array into new array via additions\n                    thisRow[bigIndex] = bigIndex + 1;\n                else if (smlArray[smlIndex - 1] === bigArray[bigIndex - 1])\n                    thisRow[bigIndex] = lastRow[bigIndex - 1];                  // copy value (no edit)\n                else {\n                    var northDistance = lastRow[bigIndex] || maxDistance;       // not in big (deletion)\n                    var westDistance = thisRow[bigIndex - 1] || maxDistance;    // not in small (addition)\n                    thisRow[bigIndex] = myMin(northDistance, westDistance) + 1;\n                }\n            }\n        }\n\n        var editScript = [], meMinusOne, notInSml = [], notInBig = [];\n        for (smlIndex = smlIndexMax, bigIndex = bigIndexMax; smlIndex || bigIndex;) {\n            meMinusOne = editDistanceMatrix[smlIndex][bigIndex] - 1;\n            if (bigIndex && meMinusOne === editDistanceMatrix[smlIndex][bigIndex-1]) {\n                notInSml.push(editScript[editScript.length] = {     // added\n                    'status': statusNotInSml,\n                    'value': bigArray[--bigIndex],\n                    'index': bigIndex });\n            } else if (smlIndex && meMinusOne === editDistanceMatrix[smlIndex - 1][bigIndex]) {\n                notInBig.push(editScript[editScript.length] = {     // deleted\n                    'status': statusNotInBig,\n                    'value': smlArray[--smlIndex],\n                    'index': smlIndex });\n            } else {\n                --bigIndex;\n                --smlIndex;\n                if (!options['sparse']) {\n                    editScript.push({\n                        'status': \"retained\",\n                        'value': bigArray[bigIndex] });\n                }\n            }\n        }\n\n        if (notInSml.length && notInBig.length) {\n            // Set a limit on the number of consecutive non-matching comparisons; having it a multiple of\n            // smlIndexMax keeps the time complexity of this algorithm linear.\n            var limitFailedCompares = smlIndexMax * 10, failedCompares,\n                a, d, notInSmlItem, notInBigItem;\n            // Go through the items that have been added and deleted and try to find matches between them.\n            for (failedCompares = a = 0; (options['dontLimitMoves'] || failedCompares < limitFailedCompares) && (notInSmlItem = notInSml[a]); a++) {\n                for (d = 0; notInBigItem = notInBig[d]; d++) {\n                    if (notInSmlItem['value'] === notInBigItem['value']) {\n                        notInSmlItem['moved'] = notInBigItem['index'];\n                        notInBigItem['moved'] = notInSmlItem['index'];\n                        notInBig.splice(d,1);       // This item is marked as moved; so remove it from notInBig list\n                        failedCompares = d = 0;     // Reset failed compares count because we're checking for consecutive failures\n                        break;\n                    }\n                }\n                failedCompares += d;\n            }\n        }\n        return editScript.reverse();\n    }\n\n    return compareArrays;\n})();\n\nko.exportSymbol('utils.compareArrays', ko.utils.compareArrays);\n\n(function () {\n    // Objective:\n    // * Given an input array, a container DOM node, and a function from array elements to arrays of DOM nodes,\n    //   map the array elements to arrays of DOM nodes, concatenate together all these arrays, and use them to populate the container DOM node\n    // * Next time we're given the same combination of things (with the array possibly having mutated), update the container DOM node\n    //   so that its children is again the concatenation of the mappings of the array elements, but don't re-map any array elements that we\n    //   previously mapped - retain those nodes, and just insert/delete other ones\n\n    // \"callbackAfterAddingNodes\" will be invoked after any \"mapping\"-generated nodes are inserted into the container node\n    // You can use this, for example, to activate bindings on those nodes.\n\n    function mapNodeAndRefreshWhenChanged(containerNode, mapping, valueToMap, callbackAfterAddingNodes, index) {\n        // Map this array value inside a dependentObservable so we re-map when any dependency changes\n        var mappedNodes = [];\n        var dependentObservable = ko.dependentObservable(function() {\n            var newMappedNodes = mapping(valueToMap, index, ko.utils.fixUpContinuousNodeArray(mappedNodes, containerNode)) || [];\n\n            // On subsequent evaluations, just replace the previously-inserted DOM nodes\n            if (mappedNodes.length > 0) {\n                ko.utils.replaceDomNodes(mappedNodes, newMappedNodes);\n                if (callbackAfterAddingNodes)\n                    ko.dependencyDetection.ignore(callbackAfterAddingNodes, null, [valueToMap, newMappedNodes, index]);\n            }\n\n            // Replace the contents of the mappedNodes array, thereby updating the record\n            // of which nodes would be deleted if valueToMap was itself later removed\n            mappedNodes.splice(0, mappedNodes.length);\n            ko.utils.arrayPushAll(mappedNodes, newMappedNodes);\n        }, null, { disposeWhenNodeIsRemoved: containerNode, disposeWhen: function() { return !ko.utils.anyDomNodeIsAttachedToDocument(mappedNodes); } });\n        return { mappedNodes : mappedNodes, dependentObservable : (dependentObservable.isActive() ? dependentObservable : undefined) };\n    }\n\n    var lastMappingResultDomDataKey = ko.utils.domData.nextKey();\n\n    ko.utils.setDomNodeChildrenFromArrayMapping = function (domNode, array, mapping, options, callbackAfterAddingNodes) {\n        // Compare the provided array against the previous one\n        array = array || [];\n        options = options || {};\n        var isFirstExecution = ko.utils.domData.get(domNode, lastMappingResultDomDataKey) === undefined;\n        var lastMappingResult = ko.utils.domData.get(domNode, lastMappingResultDomDataKey) || [];\n        var lastArray = ko.utils.arrayMap(lastMappingResult, function (x) { return x.arrayEntry; });\n        var editScript = ko.utils.compareArrays(lastArray, array, options['dontLimitMoves']);\n\n        // Build the new mapping result\n        var newMappingResult = [];\n        var lastMappingResultIndex = 0;\n        var newMappingResultIndex = 0;\n\n        var nodesToDelete = [];\n        var itemsToProcess = [];\n        var itemsForBeforeRemoveCallbacks = [];\n        var itemsForMoveCallbacks = [];\n        var itemsForAfterAddCallbacks = [];\n        var mapData;\n\n        function itemMovedOrRetained(editScriptIndex, oldPosition) {\n            mapData = lastMappingResult[oldPosition];\n            if (newMappingResultIndex !== oldPosition)\n                itemsForMoveCallbacks[editScriptIndex] = mapData;\n            // Since updating the index might change the nodes, do so before calling fixUpContinuousNodeArray\n            mapData.indexObservable(newMappingResultIndex++);\n            ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes, domNode);\n            newMappingResult.push(mapData);\n            itemsToProcess.push(mapData);\n        }\n\n        function callCallback(callback, items) {\n            if (callback) {\n                for (var i = 0, n = items.length; i < n; i++) {\n                    if (items[i]) {\n                        ko.utils.arrayForEach(items[i].mappedNodes, function(node) {\n                            callback(node, i, items[i].arrayEntry);\n                        });\n                    }\n                }\n            }\n        }\n\n        for (var i = 0, editScriptItem, movedIndex; editScriptItem = editScript[i]; i++) {\n            movedIndex = editScriptItem['moved'];\n            switch (editScriptItem['status']) {\n                case \"deleted\":\n                    if (movedIndex === undefined) {\n                        mapData = lastMappingResult[lastMappingResultIndex];\n\n                        // Stop tracking changes to the mapping for these nodes\n                        if (mapData.dependentObservable)\n                            mapData.dependentObservable.dispose();\n\n                        // Queue these nodes for later removal\n                        nodesToDelete.push.apply(nodesToDelete, ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes, domNode));\n                        if (options['beforeRemove']) {\n                            itemsForBeforeRemoveCallbacks[i] = mapData;\n                            itemsToProcess.push(mapData);\n                        }\n                    }\n                    lastMappingResultIndex++;\n                    break;\n\n                case \"retained\":\n                    itemMovedOrRetained(i, lastMappingResultIndex++);\n                    break;\n\n                case \"added\":\n                    if (movedIndex !== undefined) {\n                        itemMovedOrRetained(i, movedIndex);\n                    } else {\n                        mapData = { arrayEntry: editScriptItem['value'], indexObservable: ko.observable(newMappingResultIndex++) };\n                        newMappingResult.push(mapData);\n                        itemsToProcess.push(mapData);\n                        if (!isFirstExecution)\n                            itemsForAfterAddCallbacks[i] = mapData;\n                    }\n                    break;\n            }\n        }\n\n        // Call beforeMove first before any changes have been made to the DOM\n        callCallback(options['beforeMove'], itemsForMoveCallbacks);\n\n        // Next remove nodes for deleted items (or just clean if there's a beforeRemove callback)\n        ko.utils.arrayForEach(nodesToDelete, options['beforeRemove'] ? ko.cleanNode : ko.removeNode);\n\n        // Next add/reorder the remaining items (will include deleted items if there's a beforeRemove callback)\n        for (var i = 0, nextNode = ko.virtualElements.firstChild(domNode), lastNode, node; mapData = itemsToProcess[i]; i++) {\n            // Get nodes for newly added items\n            if (!mapData.mappedNodes)\n                ko.utils.extend(mapData, mapNodeAndRefreshWhenChanged(domNode, mapping, mapData.arrayEntry, callbackAfterAddingNodes, mapData.indexObservable));\n\n            // Put nodes in the right place if they aren't there already\n            for (var j = 0; node = mapData.mappedNodes[j]; nextNode = node.nextSibling, lastNode = node, j++) {\n                if (node !== nextNode)\n                    ko.virtualElements.insertAfter(domNode, node, lastNode);\n            }\n\n            // Run the callbacks for newly added nodes (for example, to apply bindings, etc.)\n            if (!mapData.initialized && callbackAfterAddingNodes) {\n                callbackAfterAddingNodes(mapData.arrayEntry, mapData.mappedNodes, mapData.indexObservable);\n                mapData.initialized = true;\n            }\n        }\n\n        // If there's a beforeRemove callback, call it after reordering.\n        // Note that we assume that the beforeRemove callback will usually be used to remove the nodes using\n        // some sort of animation, which is why we first reorder the nodes that will be removed. If the\n        // callback instead removes the nodes right away, it would be more efficient to skip reordering them.\n        // Perhaps we'll make that change in the future if this scenario becomes more common.\n        callCallback(options['beforeRemove'], itemsForBeforeRemoveCallbacks);\n\n        // Finally call afterMove and afterAdd callbacks\n        callCallback(options['afterMove'], itemsForMoveCallbacks);\n        callCallback(options['afterAdd'], itemsForAfterAddCallbacks);\n\n        // Store a copy of the array items we just considered so we can difference it next time\n        ko.utils.domData.set(domNode, lastMappingResultDomDataKey, newMappingResult);\n    }\n})();\n\nko.exportSymbol('utils.setDomNodeChildrenFromArrayMapping', ko.utils.setDomNodeChildrenFromArrayMapping);\nko.nativeTemplateEngine = function () {\n    this['allowTemplateRewriting'] = false;\n}\n\nko.nativeTemplateEngine.prototype = new ko.templateEngine();\nko.nativeTemplateEngine.prototype.constructor = ko.nativeTemplateEngine;\nko.nativeTemplateEngine.prototype['renderTemplateSource'] = function (templateSource, bindingContext, options) {\n    var useNodesIfAvailable = !(ko.utils.ieVersion < 9), // IE<9 cloneNode doesn't work properly\n        templateNodesFunc = useNodesIfAvailable ? templateSource['nodes'] : null,\n        templateNodes = templateNodesFunc ? templateSource['nodes']() : null;\n\n    if (templateNodes) {\n        return ko.utils.makeArray(templateNodes.cloneNode(true).childNodes);\n    } else {\n        var templateText = templateSource['text']();\n        return ko.utils.parseHtmlFragment(templateText);\n    }\n};\n\nko.nativeTemplateEngine.instance = new ko.nativeTemplateEngine();\nko.setTemplateEngine(ko.nativeTemplateEngine.instance);\n\nko.exportSymbol('nativeTemplateEngine', ko.nativeTemplateEngine);\n(function() {\n    ko.jqueryTmplTemplateEngine = function () {\n        // Detect which version of jquery-tmpl you're using. Unfortunately jquery-tmpl\n        // doesn't expose a version number, so we have to infer it.\n        // Note that as of Knockout 1.3, we only support jQuery.tmpl 1.0.0pre and later,\n        // which KO internally refers to as version \"2\", so older versions are no longer detected.\n        var jQueryTmplVersion = this.jQueryTmplVersion = (function() {\n            if ((typeof(jQuery) == \"undefined\") || !(jQuery['tmpl']))\n                return 0;\n            // Since it exposes no official version number, we use our own numbering system. To be updated as jquery-tmpl evolves.\n            try {\n                if (jQuery['tmpl']['tag']['tmpl']['open'].toString().indexOf('__') >= 0) {\n                    // Since 1.0.0pre, custom tags should append markup to an array called \"__\"\n                    return 2; // Final version of jquery.tmpl\n                }\n            } catch(ex) { /* Apparently not the version we were looking for */ }\n\n            return 1; // Any older version that we don't support\n        })();\n\n        function ensureHasReferencedJQueryTemplates() {\n            if (jQueryTmplVersion < 2)\n                throw new Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");\n        }\n\n        function executeTemplate(compiledTemplate, data, jQueryTemplateOptions) {\n            return jQuery['tmpl'](compiledTemplate, data, jQueryTemplateOptions);\n        }\n\n        this['renderTemplateSource'] = function(templateSource, bindingContext, options) {\n            options = options || {};\n            ensureHasReferencedJQueryTemplates();\n\n            // Ensure we have stored a precompiled version of this template (don't want to reparse on every render)\n            var precompiled = templateSource['data']('precompiled');\n            if (!precompiled) {\n                var templateText = templateSource['text']() || \"\";\n                // Wrap in \"with($whatever.koBindingContext) { ... }\"\n                templateText = \"{{ko_with $item.koBindingContext}}\" + templateText + \"{{/ko_with}}\";\n\n                precompiled = jQuery['template'](null, templateText);\n                templateSource['data']('precompiled', precompiled);\n            }\n\n            var data = [bindingContext['$data']]; // Prewrap the data in an array to stop jquery.tmpl from trying to unwrap any arrays\n            var jQueryTemplateOptions = jQuery['extend']({ 'koBindingContext': bindingContext }, options['templateOptions']);\n\n            var resultNodes = executeTemplate(precompiled, data, jQueryTemplateOptions);\n            resultNodes['appendTo'](document.createElement(\"div\")); // Using \"appendTo\" forces jQuery/jQuery.tmpl to perform necessary cleanup work\n\n            jQuery['fragments'] = {}; // Clear jQuery's fragment cache to avoid a memory leak after a large number of template renders\n            return resultNodes;\n        };\n\n        this['createJavaScriptEvaluatorBlock'] = function(script) {\n            return \"{{ko_code ((function() { return \" + script + \" })()) }}\";\n        };\n\n        this['addTemplate'] = function(templateName, templateMarkup) {\n            document.write(\"<script type='text/html' id='\" + templateName + \"'>\" + templateMarkup + \"<\" + \"/script>\");\n        };\n\n        if (jQueryTmplVersion > 0) {\n            jQuery['tmpl']['tag']['ko_code'] = {\n                open: \"__.push($1 || '');\"\n            };\n            jQuery['tmpl']['tag']['ko_with'] = {\n                open: \"with($1) {\",\n                close: \"} \"\n            };\n        }\n    };\n\n    ko.jqueryTmplTemplateEngine.prototype = new ko.templateEngine();\n    ko.jqueryTmplTemplateEngine.prototype.constructor = ko.jqueryTmplTemplateEngine;\n\n    // Use this one by default *only if jquery.tmpl is referenced*\n    var jqueryTmplTemplateEngineInstance = new ko.jqueryTmplTemplateEngine();\n    if (jqueryTmplTemplateEngineInstance.jQueryTmplVersion > 0)\n        ko.setTemplateEngine(jqueryTmplTemplateEngineInstance);\n\n    ko.exportSymbol('jqueryTmplTemplateEngine', ko.jqueryTmplTemplateEngine);\n})();\n}));\n}());\n})();\n","import ko from \"knockout\";\r\n\r\nvar objectMap = function(source, mapping) {\r\n  var target, prop;\r\n\r\n  if (!source) {\r\n    return source;\r\n  }\r\n\r\n  target = {};\r\n  for (prop in source) {\r\n    if (source.hasOwnProperty(prop)) {\r\n      target[prop] = mapping(source[prop], prop, source);\r\n    }\r\n  }\r\n  return target;\r\n};\r\n\r\nvar makeValueAccessor = function(value) {\r\n  return function() {\r\n    return value;\r\n  };\r\n};\r\n\r\n// Make Knockout think that we're using observable view models by adding a \"_subscribable\" function to all binding contexts.\r\n// This makes Knockout watch any observables accessed in the getBindingAccessors function.\r\n// Hopefully this hack will be unnecessary in later versions.\r\nif (ko.version >= \"3.0.0\") {\r\n  (function() {\r\n    // Create and retrieve a binding context object\r\n    var dummyDiv = document.createElement(\"div\");\r\n    ko.applyBindings(null, dummyDiv);\r\n    var context = ko.contextFor(dummyDiv);\r\n\r\n    // Add a dummy _subscribable, with a dummy _addNode, to the binding context prototype\r\n    var isMinified = !ko.storedBindingContextForNode,\r\n      subscribableName = isMinified ? \"A\" : \"_subscribable\",\r\n      addNodeName = isMinified ? \"wb\" : \"_addNode\",\r\n      dummySubscribable = function() {};\r\n    dummySubscribable[addNodeName] = dummySubscribable;\r\n    context.constructor.prototype[subscribableName] = dummySubscribable;\r\n\r\n    ko.cleanNode(dummyDiv);\r\n  })();\r\n}\r\n\r\n//a bindingProvider that uses something different than data-bind attributes\r\n//  bindings - an object that contains the binding classes\r\n//  options - is an object that can include \"attribute\", \"virtualAttribute\", bindingRouter, and \"fallback\" options\r\n\r\nexport class KnockoutClassBindingProvider {\r\n  constructor(bindings, options) {\r\n    var existingProvider = new ko.bindingProvider();\r\n\r\n    options = options || {};\r\n\r\n    //override the attribute\r\n    this.attribute = options.attribute || \"data-class\";\r\n\r\n    //override the virtual attribute\r\n    this.virtualAttribute = \"ko \" + (options.virtualAttribute || \"class\") + \":\";\r\n\r\n    //fallback to the existing binding provider, if bindings are not found\r\n    this.fallback = options.fallback;\r\n\r\n    //this object holds the binding classes\r\n    this.bindings = bindings || {};\r\n\r\n    //returns a binding class, given the class name and the bindings object\r\n    this.bindingRouter =\r\n      options.bindingRouter ||\r\n      function(className, bindings) {\r\n        var i, j, classPath, bindingObject;\r\n\r\n        //if the class name matches a property directly, then return it\r\n        if (bindings[className]) {\r\n          return bindings[className];\r\n        }\r\n\r\n        //search for sub-properites that might contain the bindings\r\n        classPath = className.split(\".\");\r\n        bindingObject = bindings;\r\n\r\n        for (i = 0, j = classPath.length; i < j; i++) {\r\n          bindingObject = bindingObject[classPath[i]];\r\n        }\r\n\r\n        return bindingObject;\r\n      };\r\n\r\n    //allow bindings to be registered after instantiation\r\n    this.registerBindings = function(newBindings) {\r\n      ko.utils.extend(this.bindings, newBindings);\r\n    };\r\n\r\n    //determine if an element has any bindings\r\n    this.nodeHasBindings = function(node) {\r\n      var result, value;\r\n\r\n      if (node.nodeType === 1) {\r\n        result = node.getAttribute(this.attribute);\r\n      } else if (node.nodeType === 8) {\r\n        value = \"\" + node.nodeValue || node.text;\r\n        result = value.indexOf(this.virtualAttribute) > -1;\r\n      }\r\n\r\n      if (!result && this.fallback) {\r\n        result = existingProvider.nodeHasBindings(node);\r\n      }\r\n\r\n      return result;\r\n    };\r\n\r\n    //return the bindings given a node and the bindingContext\r\n    this.getBindingsFunction = function(getAccessors) {\r\n      return function(node, bindingContext) {\r\n        var i,\r\n          j,\r\n          bindingAccessor,\r\n          binding,\r\n          result = {},\r\n          value,\r\n          index,\r\n          classes = \"\";\r\n\r\n        if (node.nodeType === 1) {\r\n          classes = node.getAttribute(this.attribute);\r\n        } else if (node.nodeType === 8) {\r\n          value = \"\" + node.nodeValue || node.text;\r\n          index = value.indexOf(this.virtualAttribute);\r\n\r\n          if (index > -1) {\r\n            classes = value.substring(index + this.virtualAttribute.length);\r\n          }\r\n        }\r\n\r\n        if (classes) {\r\n          classes = classes\r\n            .replace(/^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g, \"\")\r\n            .replace(/(\\s|\\u00A0){2,}/g, \" \")\r\n            .split(\" \");\r\n          //evaluate each class, build a single object to return\r\n          for (i = 0, j = classes.length; i < j; i++) {\r\n            bindingAccessor = this.bindingRouter(classes[i], this.bindings);\r\n            if (bindingAccessor) {\r\n              binding =\r\n                typeof bindingAccessor == \"function\"\r\n                  ? bindingAccessor.call(\r\n                      bindingContext.$data,\r\n                      bindingContext,\r\n                      classes\r\n                    )\r\n                  : bindingAccessor;\r\n              if (getAccessors) binding = objectMap(binding, makeValueAccessor);\r\n              ko.utils.extend(result, binding);\r\n            }\r\n          }\r\n        } else if (this.fallback) {\r\n          result = existingProvider[\r\n            getAccessors ? \"getBindingAccessors\" : \"getBindings\"\r\n          ](node, bindingContext);\r\n        }\r\n\r\n        return result;\r\n      };\r\n    };\r\n\r\n    this.getBindings = this.getBindingsFunction(false);\r\n    this.getBindingAccessors = this.getBindingsFunction(true);\r\n  }\r\n}\r\n\r\nexport default KnockoutClassBindingProvider;\r\n\r\n// if (!exports) {\r\n//   ko.classBindingProvider = classBindingsProvider;\r\n// }\r\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","// Knockout JavaScript library v3.0.0\n// (c) Steven Sanderson - http://knockoutjs.com/\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\n\n(function(){\nvar DEBUG=true;\n(function(undefined){\n    // (0, eval)('this') is a robust way of getting a reference to the global object\n    // For details, see http://stackoverflow.com/questions/14119988/return-this-0-evalthis/14120023#14120023\n    var window = this || (0, eval)('this'),\n        document = window['document'],\n        navigator = window['navigator'],\n        jQuery = window[\"jQuery\"],\n        JSON = window[\"JSON\"];\n(function(factory) {\n    // Support three module loading scenarios\n    if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {\n        // [1] CommonJS/Node.js\n        var target = module['exports'] || exports; // module.exports is for Node.js\n        factory(target);\n    } else if (typeof define === 'function' && define['amd']) {\n        // [2] AMD anonymous module\n        define(['exports'], factory);\n    } else {\n        // [3] No module loader (plain <script> tag) - put directly in global namespace\n        factory(window['ko'] = {});\n    }\n}(function(koExports){\n// Internally, all KO objects are attached to koExports (even the non-exported ones whose names will be minified by the closure compiler).\n// In the future, the following \"ko\" variable may be made distinct from \"koExports\" so that private objects are not externally reachable.\nvar ko = typeof koExports !== 'undefined' ? koExports : {};\n// Google Closure Compiler helpers (used only to make the minified file smaller)\nko.exportSymbol = function(koPath, object) {\n\tvar tokens = koPath.split(\".\");\n\n\t// In the future, \"ko\" may become distinct from \"koExports\" (so that non-exported objects are not reachable)\n\t// At that point, \"target\" would be set to: (typeof koExports !== \"undefined\" ? koExports : ko)\n\tvar target = ko;\n\n\tfor (var i = 0; i < tokens.length - 1; i++)\n\t\ttarget = target[tokens[i]];\n\ttarget[tokens[tokens.length - 1]] = object;\n};\nko.exportProperty = function(owner, publicName, object) {\n  owner[publicName] = object;\n};\nko.version = \"3.0.0\";\n\nko.exportSymbol('version', ko.version);\nko.utils = (function () {\n    var objectForEach = function(obj, action) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                action(prop, obj[prop]);\n            }\n        }\n    };\n\n    // Represent the known event types in a compact way, then at runtime transform it into a hash with event name as key (for fast lookup)\n    var knownEvents = {}, knownEventTypesByEventName = {};\n    var keyEventTypeName = (navigator && /Firefox\\/2/i.test(navigator.userAgent)) ? 'KeyboardEvent' : 'UIEvents';\n    knownEvents[keyEventTypeName] = ['keyup', 'keydown', 'keypress'];\n    knownEvents['MouseEvents'] = ['click', 'dblclick', 'mousedown', 'mouseup', 'mousemove', 'mouseover', 'mouseout', 'mouseenter', 'mouseleave'];\n    objectForEach(knownEvents, function(eventType, knownEventsForType) {\n        if (knownEventsForType.length) {\n            for (var i = 0, j = knownEventsForType.length; i < j; i++)\n                knownEventTypesByEventName[knownEventsForType[i]] = eventType;\n        }\n    });\n    var eventsThatMustBeRegisteredUsingAttachEvent = { 'propertychange': true }; // Workaround for an IE9 issue - https://github.com/SteveSanderson/knockout/issues/406\n\n    // Detect IE versions for bug workarounds (uses IE conditionals, not UA string, for robustness)\n    // Note that, since IE 10 does not support conditional comments, the following logic only detects IE < 10.\n    // Currently this is by design, since IE 10+ behaves correctly when treated as a standard browser.\n    // If there is a future need to detect specific versions of IE10+, we will amend this.\n    var ieVersion = document && (function() {\n        var version = 3, div = document.createElement('div'), iElems = div.getElementsByTagName('i');\n\n        // Keep constructing conditional HTML blocks until we hit one that resolves to an empty fragment\n        while (\n            div.innerHTML = '<!--[if gt IE ' + (++version) + ']><i></i><![endif]-->',\n            iElems[0]\n        ) {}\n        return version > 4 ? version : undefined;\n    }());\n    var isIe6 = ieVersion === 6,\n        isIe7 = ieVersion === 7;\n\n    function isClickOnCheckableElement(element, eventType) {\n        if ((ko.utils.tagNameLower(element) !== \"input\") || !element.type) return false;\n        if (eventType.toLowerCase() != \"click\") return false;\n        var inputType = element.type;\n        return (inputType == \"checkbox\") || (inputType == \"radio\");\n    }\n\n    return {\n        fieldsIncludedWithJsonPost: ['authenticity_token', /^__RequestVerificationToken(_.*)?$/],\n\n        arrayForEach: function (array, action) {\n            for (var i = 0, j = array.length; i < j; i++)\n                action(array[i]);\n        },\n\n        arrayIndexOf: function (array, item) {\n            if (typeof Array.prototype.indexOf == \"function\")\n                return Array.prototype.indexOf.call(array, item);\n            for (var i = 0, j = array.length; i < j; i++)\n                if (array[i] === item)\n                    return i;\n            return -1;\n        },\n\n        arrayFirst: function (array, predicate, predicateOwner) {\n            for (var i = 0, j = array.length; i < j; i++)\n                if (predicate.call(predicateOwner, array[i]))\n                    return array[i];\n            return null;\n        },\n\n        arrayRemoveItem: function (array, itemToRemove) {\n            var index = ko.utils.arrayIndexOf(array, itemToRemove);\n            if (index >= 0)\n                array.splice(index, 1);\n        },\n\n        arrayGetDistinctValues: function (array) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++) {\n                if (ko.utils.arrayIndexOf(result, array[i]) < 0)\n                    result.push(array[i]);\n            }\n            return result;\n        },\n\n        arrayMap: function (array, mapping) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++)\n                result.push(mapping(array[i]));\n            return result;\n        },\n\n        arrayFilter: function (array, predicate) {\n            array = array || [];\n            var result = [];\n            for (var i = 0, j = array.length; i < j; i++)\n                if (predicate(array[i]))\n                    result.push(array[i]);\n            return result;\n        },\n\n        arrayPushAll: function (array, valuesToPush) {\n            if (valuesToPush instanceof Array)\n                array.push.apply(array, valuesToPush);\n            else\n                for (var i = 0, j = valuesToPush.length; i < j; i++)\n                    array.push(valuesToPush[i]);\n            return array;\n        },\n\n        addOrRemoveItem: function(array, value, included) {\n            var existingEntryIndex = ko.utils.arrayIndexOf(ko.utils.peekObservable(array), value);\n            if (existingEntryIndex < 0) {\n                if (included)\n                    array.push(value);\n            } else {\n                if (!included)\n                    array.splice(existingEntryIndex, 1);\n            }\n        },\n\n        extend: function (target, source) {\n            if (source) {\n                for(var prop in source) {\n                    if(source.hasOwnProperty(prop)) {\n                        target[prop] = source[prop];\n                    }\n                }\n            }\n            return target;\n        },\n\n        objectForEach: objectForEach,\n\n        objectMap: function(source, mapping) {\n            if (!source)\n                return source;\n            var target = {};\n            for (var prop in source) {\n                if (source.hasOwnProperty(prop)) {\n                    target[prop] = mapping(source[prop], prop, source);\n                }\n            }\n            return target;\n        },\n\n        emptyDomNode: function (domNode) {\n            while (domNode.firstChild) {\n                ko.removeNode(domNode.firstChild);\n            }\n        },\n\n        moveCleanedNodesToContainerElement: function(nodes) {\n            // Ensure it's a real array, as we're about to reparent the nodes and\n            // we don't want the underlying collection to change while we're doing that.\n            var nodesArray = ko.utils.makeArray(nodes);\n\n            var container = document.createElement('div');\n            for (var i = 0, j = nodesArray.length; i < j; i++) {\n                container.appendChild(ko.cleanNode(nodesArray[i]));\n            }\n            return container;\n        },\n\n        cloneNodes: function (nodesArray, shouldCleanNodes) {\n            for (var i = 0, j = nodesArray.length, newNodesArray = []; i < j; i++) {\n                var clonedNode = nodesArray[i].cloneNode(true);\n                newNodesArray.push(shouldCleanNodes ? ko.cleanNode(clonedNode) : clonedNode);\n            }\n            return newNodesArray;\n        },\n\n        setDomNodeChildren: function (domNode, childNodes) {\n            ko.utils.emptyDomNode(domNode);\n            if (childNodes) {\n                for (var i = 0, j = childNodes.length; i < j; i++)\n                    domNode.appendChild(childNodes[i]);\n            }\n        },\n\n        replaceDomNodes: function (nodeToReplaceOrNodeArray, newNodesArray) {\n            var nodesToReplaceArray = nodeToReplaceOrNodeArray.nodeType ? [nodeToReplaceOrNodeArray] : nodeToReplaceOrNodeArray;\n            if (nodesToReplaceArray.length > 0) {\n                var insertionPoint = nodesToReplaceArray[0];\n                var parent = insertionPoint.parentNode;\n                for (var i = 0, j = newNodesArray.length; i < j; i++)\n                    parent.insertBefore(newNodesArray[i], insertionPoint);\n                for (var i = 0, j = nodesToReplaceArray.length; i < j; i++) {\n                    ko.removeNode(nodesToReplaceArray[i]);\n                }\n            }\n        },\n\n        fixUpContinuousNodeArray: function(continuousNodeArray, parentNode) {\n            // Before acting on a set of nodes that were previously outputted by a template function, we have to reconcile\n            // them against what is in the DOM right now. It may be that some of the nodes have already been removed, or that\n            // new nodes might have been inserted in the middle, for example by a binding. Also, there may previously have been\n            // leading comment nodes (created by rewritten string-based templates) that have since been removed during binding.\n            // So, this function translates the old \"map\" output array into its best guess of the set of current DOM nodes.\n            //\n            // Rules:\n            //   [A] Any leading nodes that have been removed should be ignored\n            //       These most likely correspond to memoization nodes that were already removed during binding\n            //       See https://github.com/SteveSanderson/knockout/pull/440\n            //   [B] We want to output a continuous series of nodes. So, ignore any nodes that have already been removed,\n            //       and include any nodes that have been inserted among the previous collection\n\n            if (continuousNodeArray.length) {\n                // The parent node can be a virtual element; so get the real parent node\n                parentNode = (parentNode.nodeType === 8 && parentNode.parentNode) || parentNode;\n\n                // Rule [A]\n                while (continuousNodeArray.length && continuousNodeArray[0].parentNode !== parentNode)\n                    continuousNodeArray.splice(0, 1);\n\n                // Rule [B]\n                if (continuousNodeArray.length > 1) {\n                    var current = continuousNodeArray[0], last = continuousNodeArray[continuousNodeArray.length - 1];\n                    // Replace with the actual new continuous node set\n                    continuousNodeArray.length = 0;\n                    while (current !== last) {\n                        continuousNodeArray.push(current);\n                        current = current.nextSibling;\n                        if (!current) // Won't happen, except if the developer has manually removed some DOM elements (then we're in an undefined scenario)\n                            return;\n                    }\n                    continuousNodeArray.push(last);\n                }\n            }\n            return continuousNodeArray;\n        },\n\n        setOptionNodeSelectionState: function (optionNode, isSelected) {\n            // IE6 sometimes throws \"unknown error\" if you try to write to .selected directly, whereas Firefox struggles with setAttribute. Pick one based on browser.\n            if (ieVersion < 7)\n                optionNode.setAttribute(\"selected\", isSelected);\n            else\n                optionNode.selected = isSelected;\n        },\n\n        stringTrim: function (string) {\n            return string === null || string === undefined ? '' :\n                string.trim ?\n                    string.trim() :\n                    string.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, '');\n        },\n\n        stringTokenize: function (string, delimiter) {\n            var result = [];\n            var tokens = (string || \"\").split(delimiter);\n            for (var i = 0, j = tokens.length; i < j; i++) {\n                var trimmed = ko.utils.stringTrim(tokens[i]);\n                if (trimmed !== \"\")\n                    result.push(trimmed);\n            }\n            return result;\n        },\n\n        stringStartsWith: function (string, startsWith) {\n            string = string || \"\";\n            if (startsWith.length > string.length)\n                return false;\n            return string.substring(0, startsWith.length) === startsWith;\n        },\n\n        domNodeIsContainedBy: function (node, containedByNode) {\n            if (node === containedByNode)\n                return true;\n            if (node.nodeType === 11)\n                return false; // Fixes issue #1162 - can't use node.contains for document fragments on IE8\n            if (containedByNode.contains)\n                return containedByNode.contains(node.nodeType === 3 ? node.parentNode : node);\n            if (containedByNode.compareDocumentPosition)\n                return (containedByNode.compareDocumentPosition(node) & 16) == 16;\n            while (node && node != containedByNode) {\n                node = node.parentNode;\n            }\n            return !!node;\n        },\n\n        domNodeIsAttachedToDocument: function (node) {\n            return ko.utils.domNodeIsContainedBy(node, node.ownerDocument.documentElement);\n        },\n\n        anyDomNodeIsAttachedToDocument: function(nodes) {\n            return !!ko.utils.arrayFirst(nodes, ko.utils.domNodeIsAttachedToDocument);\n        },\n\n        tagNameLower: function(element) {\n            // For HTML elements, tagName will always be upper case; for XHTML elements, it'll be lower case.\n            // Possible future optimization: If we know it's an element from an XHTML document (not HTML),\n            // we don't need to do the .toLowerCase() as it will always be lower case anyway.\n            return element && element.tagName && element.tagName.toLowerCase();\n        },\n\n        registerEventHandler: function (element, eventType, handler) {\n            var mustUseAttachEvent = ieVersion && eventsThatMustBeRegisteredUsingAttachEvent[eventType];\n            if (!mustUseAttachEvent && typeof jQuery != \"undefined\") {\n                if (isClickOnCheckableElement(element, eventType)) {\n                    // For click events on checkboxes, jQuery interferes with the event handling in an awkward way:\n                    // it toggles the element checked state *after* the click event handlers run, whereas native\n                    // click events toggle the checked state *before* the event handler.\n                    // Fix this by intecepting the handler and applying the correct checkedness before it runs.\n                    var originalHandler = handler;\n                    handler = function(event, eventData) {\n                        var jQuerySuppliedCheckedState = this.checked;\n                        if (eventData)\n                            this.checked = eventData.checkedStateBeforeEvent !== true;\n                        originalHandler.call(this, event);\n                        this.checked = jQuerySuppliedCheckedState; // Restore the state jQuery applied\n                    };\n                }\n                jQuery(element)['bind'](eventType, handler);\n            } else if (!mustUseAttachEvent && typeof element.addEventListener == \"function\")\n                element.addEventListener(eventType, handler, false);\n            else if (typeof element.attachEvent != \"undefined\") {\n                var attachEventHandler = function (event) { handler.call(element, event); },\n                    attachEventName = \"on\" + eventType;\n                element.attachEvent(attachEventName, attachEventHandler);\n\n                // IE does not dispose attachEvent handlers automatically (unlike with addEventListener)\n                // so to avoid leaks, we have to remove them manually. See bug #856\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n                    element.detachEvent(attachEventName, attachEventHandler);\n                });\n            } else\n                throw new Error(\"Browser doesn't support addEventListener or attachEvent\");\n        },\n\n        triggerEvent: function (element, eventType) {\n            if (!(element && element.nodeType))\n                throw new Error(\"element must be a DOM node when calling triggerEvent\");\n\n            if (typeof jQuery != \"undefined\") {\n                var eventData = [];\n                if (isClickOnCheckableElement(element, eventType)) {\n                    // Work around the jQuery \"click events on checkboxes\" issue described above by storing the original checked state before triggering the handler\n                    eventData.push({ checkedStateBeforeEvent: element.checked });\n                }\n                jQuery(element)['trigger'](eventType, eventData);\n            } else if (typeof document.createEvent == \"function\") {\n                if (typeof element.dispatchEvent == \"function\") {\n                    var eventCategory = knownEventTypesByEventName[eventType] || \"HTMLEvents\";\n                    var event = document.createEvent(eventCategory);\n                    event.initEvent(eventType, true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, element);\n                    element.dispatchEvent(event);\n                }\n                else\n                    throw new Error(\"The supplied element doesn't support dispatchEvent\");\n            } else if (typeof element.fireEvent != \"undefined\") {\n                // Unlike other browsers, IE doesn't change the checked state of checkboxes/radiobuttons when you trigger their \"click\" event\n                // so to make it consistent, we'll do it manually here\n                if (isClickOnCheckableElement(element, eventType))\n                    element.checked = element.checked !== true;\n                element.fireEvent(\"on\" + eventType);\n            }\n            else\n                throw new Error(\"Browser doesn't support triggering events\");\n        },\n\n        unwrapObservable: function (value) {\n            return ko.isObservable(value) ? value() : value;\n        },\n\n        peekObservable: function (value) {\n            return ko.isObservable(value) ? value.peek() : value;\n        },\n\n        toggleDomNodeCssClass: function (node, classNames, shouldHaveClass) {\n            if (classNames) {\n                var cssClassNameRegex = /\\S+/g,\n                    currentClassNames = node.className.match(cssClassNameRegex) || [];\n                ko.utils.arrayForEach(classNames.match(cssClassNameRegex), function(className) {\n                    ko.utils.addOrRemoveItem(currentClassNames, className, shouldHaveClass);\n                });\n                node.className = currentClassNames.join(\" \");\n            }\n        },\n\n        setTextContent: function(element, textContent) {\n            var value = ko.utils.unwrapObservable(textContent);\n            if ((value === null) || (value === undefined))\n                value = \"\";\n\n            // We need there to be exactly one child: a text node.\n            // If there are no children, more than one, or if it's not a text node,\n            // we'll clear everything and create a single text node.\n            var innerTextNode = ko.virtualElements.firstChild(element);\n            if (!innerTextNode || innerTextNode.nodeType != 3 || ko.virtualElements.nextSibling(innerTextNode)) {\n                ko.virtualElements.setDomNodeChildren(element, [document.createTextNode(value)]);\n            } else {\n                innerTextNode.data = value;\n            }\n\n            ko.utils.forceRefresh(element);\n        },\n\n        setElementName: function(element, name) {\n            element.name = name;\n\n            // Workaround IE 6/7 issue\n            // - https://github.com/SteveSanderson/knockout/issues/197\n            // - http://www.matts411.com/post/setting_the_name_attribute_in_ie_dom/\n            if (ieVersion <= 7) {\n                try {\n                    element.mergeAttributes(document.createElement(\"<input name='\" + element.name + \"'/>\"), false);\n                }\n                catch(e) {} // For IE9 with doc mode \"IE9 Standards\" and browser mode \"IE9 Compatibility View\"\n            }\n        },\n\n        forceRefresh: function(node) {\n            // Workaround for an IE9 rendering bug - https://github.com/SteveSanderson/knockout/issues/209\n            if (ieVersion >= 9) {\n                // For text nodes and comment nodes (most likely virtual elements), we will have to refresh the container\n                var elem = node.nodeType == 1 ? node : node.parentNode;\n                if (elem.style)\n                    elem.style.zoom = elem.style.zoom;\n            }\n        },\n\n        ensureSelectElementIsRenderedCorrectly: function(selectElement) {\n            // Workaround for IE9 rendering bug - it doesn't reliably display all the text in dynamically-added select boxes unless you force it to re-render by updating the width.\n            // (See https://github.com/SteveSanderson/knockout/issues/312, http://stackoverflow.com/questions/5908494/select-only-shows-first-char-of-selected-option)\n            // Also fixes IE7 and IE8 bug that causes selects to be zero width if enclosed by 'if' or 'with'. (See issue #839)\n            if (ieVersion) {\n                var originalWidth = selectElement.style.width;\n                selectElement.style.width = 0;\n                selectElement.style.width = originalWidth;\n            }\n        },\n\n        range: function (min, max) {\n            min = ko.utils.unwrapObservable(min);\n            max = ko.utils.unwrapObservable(max);\n            var result = [];\n            for (var i = min; i <= max; i++)\n                result.push(i);\n            return result;\n        },\n\n        makeArray: function(arrayLikeObject) {\n            var result = [];\n            for (var i = 0, j = arrayLikeObject.length; i < j; i++) {\n                result.push(arrayLikeObject[i]);\n            };\n            return result;\n        },\n\n        isIe6 : isIe6,\n        isIe7 : isIe7,\n        ieVersion : ieVersion,\n\n        getFormFields: function(form, fieldName) {\n            var fields = ko.utils.makeArray(form.getElementsByTagName(\"input\")).concat(ko.utils.makeArray(form.getElementsByTagName(\"textarea\")));\n            var isMatchingField = (typeof fieldName == 'string')\n                ? function(field) { return field.name === fieldName }\n                : function(field) { return fieldName.test(field.name) }; // Treat fieldName as regex or object containing predicate\n            var matches = [];\n            for (var i = fields.length - 1; i >= 0; i--) {\n                if (isMatchingField(fields[i]))\n                    matches.push(fields[i]);\n            };\n            return matches;\n        },\n\n        parseJson: function (jsonString) {\n            if (typeof jsonString == \"string\") {\n                jsonString = ko.utils.stringTrim(jsonString);\n                if (jsonString) {\n                    if (JSON && JSON.parse) // Use native parsing where available\n                        return JSON.parse(jsonString);\n                    return (new Function(\"return \" + jsonString))(); // Fallback on less safe parsing for older browsers\n                }\n            }\n            return null;\n        },\n\n        stringifyJson: function (data, replacer, space) {   // replacer and space are optional\n            if (!JSON || !JSON.stringify)\n                throw new Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");\n            return JSON.stringify(ko.utils.unwrapObservable(data), replacer, space);\n        },\n\n        postJson: function (urlOrForm, data, options) {\n            options = options || {};\n            var params = options['params'] || {};\n            var includeFields = options['includeFields'] || this.fieldsIncludedWithJsonPost;\n            var url = urlOrForm;\n\n            // If we were given a form, use its 'action' URL and pick out any requested field values\n            if((typeof urlOrForm == 'object') && (ko.utils.tagNameLower(urlOrForm) === \"form\")) {\n                var originalForm = urlOrForm;\n                url = originalForm.action;\n                for (var i = includeFields.length - 1; i >= 0; i--) {\n                    var fields = ko.utils.getFormFields(originalForm, includeFields[i]);\n                    for (var j = fields.length - 1; j >= 0; j--)\n                        params[fields[j].name] = fields[j].value;\n                }\n            }\n\n            data = ko.utils.unwrapObservable(data);\n            var form = document.createElement(\"form\");\n            form.style.display = \"none\";\n            form.action = url;\n            form.method = \"post\";\n            for (var key in data) {\n                // Since 'data' this is a model object, we include all properties including those inherited from its prototype\n                var input = document.createElement(\"input\");\n                input.name = key;\n                input.value = ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key]));\n                form.appendChild(input);\n            }\n            objectForEach(params, function(key, value) {\n                var input = document.createElement(\"input\");\n                input.name = key;\n                input.value = value;\n                form.appendChild(input);\n            });\n            document.body.appendChild(form);\n            options['submitter'] ? options['submitter'](form) : form.submit();\n            setTimeout(function () { form.parentNode.removeChild(form); }, 0);\n        }\n    }\n}());\n\nko.exportSymbol('utils', ko.utils);\nko.exportSymbol('utils.arrayForEach', ko.utils.arrayForEach);\nko.exportSymbol('utils.arrayFirst', ko.utils.arrayFirst);\nko.exportSymbol('utils.arrayFilter', ko.utils.arrayFilter);\nko.exportSymbol('utils.arrayGetDistinctValues', ko.utils.arrayGetDistinctValues);\nko.exportSymbol('utils.arrayIndexOf', ko.utils.arrayIndexOf);\nko.exportSymbol('utils.arrayMap', ko.utils.arrayMap);\nko.exportSymbol('utils.arrayPushAll', ko.utils.arrayPushAll);\nko.exportSymbol('utils.arrayRemoveItem', ko.utils.arrayRemoveItem);\nko.exportSymbol('utils.extend', ko.utils.extend);\nko.exportSymbol('utils.fieldsIncludedWithJsonPost', ko.utils.fieldsIncludedWithJsonPost);\nko.exportSymbol('utils.getFormFields', ko.utils.getFormFields);\nko.exportSymbol('utils.peekObservable', ko.utils.peekObservable);\nko.exportSymbol('utils.postJson', ko.utils.postJson);\nko.exportSymbol('utils.parseJson', ko.utils.parseJson);\nko.exportSymbol('utils.registerEventHandler', ko.utils.registerEventHandler);\nko.exportSymbol('utils.stringifyJson', ko.utils.stringifyJson);\nko.exportSymbol('utils.range', ko.utils.range);\nko.exportSymbol('utils.toggleDomNodeCssClass', ko.utils.toggleDomNodeCssClass);\nko.exportSymbol('utils.triggerEvent', ko.utils.triggerEvent);\nko.exportSymbol('utils.unwrapObservable', ko.utils.unwrapObservable);\nko.exportSymbol('utils.objectForEach', ko.utils.objectForEach);\nko.exportSymbol('utils.addOrRemoveItem', ko.utils.addOrRemoveItem);\nko.exportSymbol('unwrap', ko.utils.unwrapObservable); // Convenient shorthand, because this is used so commonly\n\nif (!Function.prototype['bind']) {\n    // Function.prototype.bind is a standard part of ECMAScript 5th Edition (December 2009, http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf)\n    // In case the browser doesn't implement it natively, provide a JavaScript implementation. This implementation is based on the one in prototype.js\n    Function.prototype['bind'] = function (object) {\n        var originalFunction = this, args = Array.prototype.slice.call(arguments), object = args.shift();\n        return function () {\n            return originalFunction.apply(object, args.concat(Array.prototype.slice.call(arguments)));\n        };\n    };\n}\n\nko.utils.domData = new (function () {\n    var uniqueId = 0;\n    var dataStoreKeyExpandoPropertyName = \"__ko__\" + (new Date).getTime();\n    var dataStore = {};\n\n    function getAll(node, createIfNotFound) {\n        var dataStoreKey = node[dataStoreKeyExpandoPropertyName];\n        var hasExistingDataStore = dataStoreKey && (dataStoreKey !== \"null\") && dataStore[dataStoreKey];\n        if (!hasExistingDataStore) {\n            if (!createIfNotFound)\n                return undefined;\n            dataStoreKey = node[dataStoreKeyExpandoPropertyName] = \"ko\" + uniqueId++;\n            dataStore[dataStoreKey] = {};\n        }\n        return dataStore[dataStoreKey];\n    }\n\n    return {\n        get: function (node, key) {\n            var allDataForNode = getAll(node, false);\n            return allDataForNode === undefined ? undefined : allDataForNode[key];\n        },\n        set: function (node, key, value) {\n            if (value === undefined) {\n                // Make sure we don't actually create a new domData key if we are actually deleting a value\n                if (getAll(node, false) === undefined)\n                    return;\n            }\n            var allDataForNode = getAll(node, true);\n            allDataForNode[key] = value;\n        },\n        clear: function (node) {\n            var dataStoreKey = node[dataStoreKeyExpandoPropertyName];\n            if (dataStoreKey) {\n                delete dataStore[dataStoreKey];\n                node[dataStoreKeyExpandoPropertyName] = null;\n                return true; // Exposing \"did clean\" flag purely so specs can infer whether things have been cleaned up as intended\n            }\n            return false;\n        },\n\n        nextKey: function () {\n            return (uniqueId++) + dataStoreKeyExpandoPropertyName;\n        }\n    };\n})();\n\nko.exportSymbol('utils.domData', ko.utils.domData);\nko.exportSymbol('utils.domData.clear', ko.utils.domData.clear); // Exporting only so specs can clear up after themselves fully\n\nko.utils.domNodeDisposal = new (function () {\n    var domDataKey = ko.utils.domData.nextKey();\n    var cleanableNodeTypes = { 1: true, 8: true, 9: true };       // Element, Comment, Document\n    var cleanableNodeTypesWithDescendants = { 1: true, 9: true }; // Element, Document\n\n    function getDisposeCallbacksCollection(node, createIfNotFound) {\n        var allDisposeCallbacks = ko.utils.domData.get(node, domDataKey);\n        if ((allDisposeCallbacks === undefined) && createIfNotFound) {\n            allDisposeCallbacks = [];\n            ko.utils.domData.set(node, domDataKey, allDisposeCallbacks);\n        }\n        return allDisposeCallbacks;\n    }\n    function destroyCallbacksCollection(node) {\n        ko.utils.domData.set(node, domDataKey, undefined);\n    }\n\n    function cleanSingleNode(node) {\n        // Run all the dispose callbacks\n        var callbacks = getDisposeCallbacksCollection(node, false);\n        if (callbacks) {\n            callbacks = callbacks.slice(0); // Clone, as the array may be modified during iteration (typically, callbacks will remove themselves)\n            for (var i = 0; i < callbacks.length; i++)\n                callbacks[i](node);\n        }\n\n        // Also erase the DOM data\n        ko.utils.domData.clear(node);\n\n        // Special support for jQuery here because it's so commonly used.\n        // Many jQuery plugins (including jquery.tmpl) store data using jQuery's equivalent of domData\n        // so notify it to tear down any resources associated with the node & descendants here.\n        if ((typeof jQuery == \"function\") && (typeof jQuery['cleanData'] == \"function\"))\n            jQuery['cleanData']([node]);\n\n        // Also clear any immediate-child comment nodes, as these wouldn't have been found by\n        // node.getElementsByTagName(\"*\") in cleanNode() (comment nodes aren't elements)\n        if (cleanableNodeTypesWithDescendants[node.nodeType])\n            cleanImmediateCommentTypeChildren(node);\n    }\n\n    function cleanImmediateCommentTypeChildren(nodeWithChildren) {\n        var child, nextChild = nodeWithChildren.firstChild;\n        while (child = nextChild) {\n            nextChild = child.nextSibling;\n            if (child.nodeType === 8)\n                cleanSingleNode(child);\n        }\n    }\n\n    return {\n        addDisposeCallback : function(node, callback) {\n            if (typeof callback != \"function\")\n                throw new Error(\"Callback must be a function\");\n            getDisposeCallbacksCollection(node, true).push(callback);\n        },\n\n        removeDisposeCallback : function(node, callback) {\n            var callbacksCollection = getDisposeCallbacksCollection(node, false);\n            if (callbacksCollection) {\n                ko.utils.arrayRemoveItem(callbacksCollection, callback);\n                if (callbacksCollection.length == 0)\n                    destroyCallbacksCollection(node);\n            }\n        },\n\n        cleanNode : function(node) {\n            // First clean this node, where applicable\n            if (cleanableNodeTypes[node.nodeType]) {\n                cleanSingleNode(node);\n\n                // ... then its descendants, where applicable\n                if (cleanableNodeTypesWithDescendants[node.nodeType]) {\n                    // Clone the descendants list in case it changes during iteration\n                    var descendants = [];\n                    ko.utils.arrayPushAll(descendants, node.getElementsByTagName(\"*\"));\n                    for (var i = 0, j = descendants.length; i < j; i++)\n                        cleanSingleNode(descendants[i]);\n                }\n            }\n            return node;\n        },\n\n        removeNode : function(node) {\n            ko.cleanNode(node);\n            if (node.parentNode)\n                node.parentNode.removeChild(node);\n        }\n    }\n})();\nko.cleanNode = ko.utils.domNodeDisposal.cleanNode; // Shorthand name for convenience\nko.removeNode = ko.utils.domNodeDisposal.removeNode; // Shorthand name for convenience\nko.exportSymbol('cleanNode', ko.cleanNode);\nko.exportSymbol('removeNode', ko.removeNode);\nko.exportSymbol('utils.domNodeDisposal', ko.utils.domNodeDisposal);\nko.exportSymbol('utils.domNodeDisposal.addDisposeCallback', ko.utils.domNodeDisposal.addDisposeCallback);\nko.exportSymbol('utils.domNodeDisposal.removeDisposeCallback', ko.utils.domNodeDisposal.removeDisposeCallback);\n(function () {\n    var leadingCommentRegex = /^(\\s*)<!--(.*?)-->/;\n\n    function simpleHtmlParse(html) {\n        // Based on jQuery's \"clean\" function, but only accounting for table-related elements.\n        // If you have referenced jQuery, this won't be used anyway - KO will use jQuery's \"clean\" function directly\n\n        // Note that there's still an issue in IE < 9 whereby it will discard comment nodes that are the first child of\n        // a descendant node. For example: \"<div><!-- mycomment -->abc</div>\" will get parsed as \"<div>abc</div>\"\n        // This won't affect anyone who has referenced jQuery, and there's always the workaround of inserting a dummy node\n        // (possibly a text node) in front of the comment. So, KO does not attempt to workaround this IE issue automatically at present.\n\n        // Trim whitespace, otherwise indexOf won't work as expected\n        var tags = ko.utils.stringTrim(html).toLowerCase(), div = document.createElement(\"div\");\n\n        // Finds the first match from the left column, and returns the corresponding \"wrap\" data from the right column\n        var wrap = tags.match(/^<(thead|tbody|tfoot)/)              && [1, \"<table>\", \"</table>\"] ||\n                   !tags.indexOf(\"<tr\")                             && [2, \"<table><tbody>\", \"</tbody></table>\"] ||\n                   (!tags.indexOf(\"<td\") || !tags.indexOf(\"<th\"))   && [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"] ||\n                   /* anything else */                                 [0, \"\", \"\"];\n\n        // Go to html and back, then peel off extra wrappers\n        // Note that we always prefix with some dummy text, because otherwise, IE<9 will strip out leading comment nodes in descendants. Total madness.\n        var markup = \"ignored<div>\" + wrap[1] + html + wrap[2] + \"</div>\";\n        if (typeof window['innerShiv'] == \"function\") {\n            div.appendChild(window['innerShiv'](markup));\n        } else {\n            div.innerHTML = markup;\n        }\n\n        // Move to the right depth\n        while (wrap[0]--)\n            div = div.lastChild;\n\n        return ko.utils.makeArray(div.lastChild.childNodes);\n    }\n\n    function jQueryHtmlParse(html) {\n        // jQuery's \"parseHTML\" function was introduced in jQuery 1.8.0 and is a documented public API.\n        if (jQuery['parseHTML']) {\n            return jQuery['parseHTML'](html) || []; // Ensure we always return an array and never null\n        } else {\n            // For jQuery < 1.8.0, we fall back on the undocumented internal \"clean\" function.\n            var elems = jQuery['clean']([html]);\n\n            // As of jQuery 1.7.1, jQuery parses the HTML by appending it to some dummy parent nodes held in an in-memory document fragment.\n            // Unfortunately, it never clears the dummy parent nodes from the document fragment, so it leaks memory over time.\n            // Fix this by finding the top-most dummy parent element, and detaching it from its owner fragment.\n            if (elems && elems[0]) {\n                // Find the top-most parent element that's a direct child of a document fragment\n                var elem = elems[0];\n                while (elem.parentNode && elem.parentNode.nodeType !== 11 /* i.e., DocumentFragment */)\n                    elem = elem.parentNode;\n                // ... then detach it\n                if (elem.parentNode)\n                    elem.parentNode.removeChild(elem);\n            }\n\n            return elems;\n        }\n    }\n\n    ko.utils.parseHtmlFragment = function(html) {\n        return typeof jQuery != 'undefined' ? jQueryHtmlParse(html)   // As below, benefit from jQuery's optimisations where possible\n                                            : simpleHtmlParse(html);  // ... otherwise, this simple logic will do in most common cases.\n    };\n\n    ko.utils.setHtml = function(node, html) {\n        ko.utils.emptyDomNode(node);\n\n        // There's no legitimate reason to display a stringified observable without unwrapping it, so we'll unwrap it\n        html = ko.utils.unwrapObservable(html);\n\n        if ((html !== null) && (html !== undefined)) {\n            if (typeof html != 'string')\n                html = html.toString();\n\n            // jQuery contains a lot of sophisticated code to parse arbitrary HTML fragments,\n            // for example <tr> elements which are not normally allowed to exist on their own.\n            // If you've referenced jQuery we'll use that rather than duplicating its code.\n            if (typeof jQuery != 'undefined') {\n                jQuery(node)['html'](html);\n            } else {\n                // ... otherwise, use KO's own parsing logic.\n                var parsedNodes = ko.utils.parseHtmlFragment(html);\n                for (var i = 0; i < parsedNodes.length; i++)\n                    node.appendChild(parsedNodes[i]);\n            }\n        }\n    };\n})();\n\nko.exportSymbol('utils.parseHtmlFragment', ko.utils.parseHtmlFragment);\nko.exportSymbol('utils.setHtml', ko.utils.setHtml);\n\nko.memoization = (function () {\n    var memos = {};\n\n    function randomMax8HexChars() {\n        return (((1 + Math.random()) * 0x100000000) | 0).toString(16).substring(1);\n    }\n    function generateRandomId() {\n        return randomMax8HexChars() + randomMax8HexChars();\n    }\n    function findMemoNodes(rootNode, appendToArray) {\n        if (!rootNode)\n            return;\n        if (rootNode.nodeType == 8) {\n            var memoId = ko.memoization.parseMemoText(rootNode.nodeValue);\n            if (memoId != null)\n                appendToArray.push({ domNode: rootNode, memoId: memoId });\n        } else if (rootNode.nodeType == 1) {\n            for (var i = 0, childNodes = rootNode.childNodes, j = childNodes.length; i < j; i++)\n                findMemoNodes(childNodes[i], appendToArray);\n        }\n    }\n\n    return {\n        memoize: function (callback) {\n            if (typeof callback != \"function\")\n                throw new Error(\"You can only pass a function to ko.memoization.memoize()\");\n            var memoId = generateRandomId();\n            memos[memoId] = callback;\n            return \"<!--[ko_memo:\" + memoId + \"]-->\";\n        },\n\n        unmemoize: function (memoId, callbackParams) {\n            var callback = memos[memoId];\n            if (callback === undefined)\n                throw new Error(\"Couldn't find any memo with ID \" + memoId + \". Perhaps it's already been unmemoized.\");\n            try {\n                callback.apply(null, callbackParams || []);\n                return true;\n            }\n            finally { delete memos[memoId]; }\n        },\n\n        unmemoizeDomNodeAndDescendants: function (domNode, extraCallbackParamsArray) {\n            var memos = [];\n            findMemoNodes(domNode, memos);\n            for (var i = 0, j = memos.length; i < j; i++) {\n                var node = memos[i].domNode;\n                var combinedParams = [node];\n                if (extraCallbackParamsArray)\n                    ko.utils.arrayPushAll(combinedParams, extraCallbackParamsArray);\n                ko.memoization.unmemoize(memos[i].memoId, combinedParams);\n                node.nodeValue = \"\"; // Neuter this node so we don't try to unmemoize it again\n                if (node.parentNode)\n                    node.parentNode.removeChild(node); // If possible, erase it totally (not always possible - someone else might just hold a reference to it then call unmemoizeDomNodeAndDescendants again)\n            }\n        },\n\n        parseMemoText: function (memoText) {\n            var match = memoText.match(/^\\[ko_memo\\:(.*?)\\]$/);\n            return match ? match[1] : null;\n        }\n    };\n})();\n\nko.exportSymbol('memoization', ko.memoization);\nko.exportSymbol('memoization.memoize', ko.memoization.memoize);\nko.exportSymbol('memoization.unmemoize', ko.memoization.unmemoize);\nko.exportSymbol('memoization.parseMemoText', ko.memoization.parseMemoText);\nko.exportSymbol('memoization.unmemoizeDomNodeAndDescendants', ko.memoization.unmemoizeDomNodeAndDescendants);\nko.extenders = {\n    'throttle': function(target, timeout) {\n        // Throttling means two things:\n\n        // (1) For dependent observables, we throttle *evaluations* so that, no matter how fast its dependencies\n        //     notify updates, the target doesn't re-evaluate (and hence doesn't notify) faster than a certain rate\n        target['throttleEvaluation'] = timeout;\n\n        // (2) For writable targets (observables, or writable dependent observables), we throttle *writes*\n        //     so the target cannot change value synchronously or faster than a certain rate\n        var writeTimeoutInstance = null;\n        return ko.dependentObservable({\n            'read': target,\n            'write': function(value) {\n                clearTimeout(writeTimeoutInstance);\n                writeTimeoutInstance = setTimeout(function() {\n                    target(value);\n                }, timeout);\n            }\n        });\n    },\n\n    'notify': function(target, notifyWhen) {\n        target[\"equalityComparer\"] = notifyWhen == \"always\" ?\n            null :  // null equalityComparer means to always notify\n            valuesArePrimitiveAndEqual;\n    }\n};\n\nvar primitiveTypes = { 'undefined':1, 'boolean':1, 'number':1, 'string':1 };\nfunction valuesArePrimitiveAndEqual(a, b) {\n    var oldValueIsPrimitive = (a === null) || (typeof(a) in primitiveTypes);\n    return oldValueIsPrimitive ? (a === b) : false;\n}\n\nfunction applyExtenders(requestedExtenders) {\n    var target = this;\n    if (requestedExtenders) {\n        ko.utils.objectForEach(requestedExtenders, function(key, value) {\n            var extenderHandler = ko.extenders[key];\n            if (typeof extenderHandler == 'function') {\n                target = extenderHandler(target, value) || target;\n            }\n        });\n    }\n    return target;\n}\n\nko.exportSymbol('extenders', ko.extenders);\n\nko.subscription = function (target, callback, disposeCallback) {\n    this.target = target;\n    this.callback = callback;\n    this.disposeCallback = disposeCallback;\n    ko.exportProperty(this, 'dispose', this.dispose);\n};\nko.subscription.prototype.dispose = function () {\n    this.isDisposed = true;\n    this.disposeCallback();\n};\n\nko.subscribable = function () {\n    this._subscriptions = {};\n\n    ko.utils.extend(this, ko.subscribable['fn']);\n    ko.exportProperty(this, 'subscribe', this.subscribe);\n    ko.exportProperty(this, 'extend', this.extend);\n    ko.exportProperty(this, 'getSubscriptionsCount', this.getSubscriptionsCount);\n}\n\nvar defaultEvent = \"change\";\n\nko.subscribable['fn'] = {\n    subscribe: function (callback, callbackTarget, event) {\n        event = event || defaultEvent;\n        var boundCallback = callbackTarget ? callback.bind(callbackTarget) : callback;\n\n        var subscription = new ko.subscription(this, boundCallback, function () {\n            ko.utils.arrayRemoveItem(this._subscriptions[event], subscription);\n        }.bind(this));\n\n        if (!this._subscriptions[event])\n            this._subscriptions[event] = [];\n        this._subscriptions[event].push(subscription);\n        return subscription;\n    },\n\n    \"notifySubscribers\": function (valueToNotify, event) {\n        event = event || defaultEvent;\n        if (this.hasSubscriptionsForEvent(event)) {\n            try {\n                ko.dependencyDetection.begin();\n                for (var a = this._subscriptions[event].slice(0), i = 0, subscription; subscription = a[i]; ++i) {\n                    // In case a subscription was disposed during the arrayForEach cycle, check\n                    // for isDisposed on each subscription before invoking its callback\n                    if (subscription && (subscription.isDisposed !== true))\n                        subscription.callback(valueToNotify);\n                }\n            } finally {\n                ko.dependencyDetection.end();\n            }\n        }\n    },\n\n    hasSubscriptionsForEvent: function(event) {\n        return this._subscriptions[event] && this._subscriptions[event].length;\n    },\n\n    getSubscriptionsCount: function () {\n        var total = 0;\n        ko.utils.objectForEach(this._subscriptions, function(eventName, subscriptions) {\n            total += subscriptions.length;\n        });\n        return total;\n    },\n\n    extend: applyExtenders\n};\n\n\nko.isSubscribable = function (instance) {\n    return instance != null && typeof instance.subscribe == \"function\" && typeof instance[\"notifySubscribers\"] == \"function\";\n};\n\nko.exportSymbol('subscribable', ko.subscribable);\nko.exportSymbol('isSubscribable', ko.isSubscribable);\n\nko.dependencyDetection = (function () {\n    var _frames = [];\n\n    return {\n        begin: function (callback) {\n            _frames.push(callback && { callback: callback, distinctDependencies:[] });\n        },\n\n        end: function () {\n            _frames.pop();\n        },\n\n        registerDependency: function (subscribable) {\n            if (!ko.isSubscribable(subscribable))\n                throw new Error(\"Only subscribable things can act as dependencies\");\n            if (_frames.length > 0) {\n                var topFrame = _frames[_frames.length - 1];\n                if (!topFrame || ko.utils.arrayIndexOf(topFrame.distinctDependencies, subscribable) >= 0)\n                    return;\n                topFrame.distinctDependencies.push(subscribable);\n                topFrame.callback(subscribable);\n            }\n        },\n\n        ignore: function(callback, callbackTarget, callbackArgs) {\n            try {\n                _frames.push(null);\n                return callback.apply(callbackTarget, callbackArgs || []);\n            } finally {\n                _frames.pop();\n            }\n        }\n    };\n})();\nko.observable = function (initialValue) {\n    var _latestValue = initialValue;\n\n    function observable() {\n        if (arguments.length > 0) {\n            // Write\n\n            // Ignore writes if the value hasn't changed\n            if (!observable['equalityComparer'] || !observable['equalityComparer'](_latestValue, arguments[0])) {\n                observable.valueWillMutate();\n                _latestValue = arguments[0];\n                if (DEBUG) observable._latestValue = _latestValue;\n                observable.valueHasMutated();\n            }\n            return this; // Permits chained assignments\n        }\n        else {\n            // Read\n            ko.dependencyDetection.registerDependency(observable); // The caller only needs to be notified of changes if they did a \"read\" operation\n            return _latestValue;\n        }\n    }\n    if (DEBUG) observable._latestValue = _latestValue;\n    ko.subscribable.call(observable);\n    observable.peek = function() { return _latestValue };\n    observable.valueHasMutated = function () { observable[\"notifySubscribers\"](_latestValue); }\n    observable.valueWillMutate = function () { observable[\"notifySubscribers\"](_latestValue, \"beforeChange\"); }\n    ko.utils.extend(observable, ko.observable['fn']);\n\n    ko.exportProperty(observable, 'peek', observable.peek);\n    ko.exportProperty(observable, \"valueHasMutated\", observable.valueHasMutated);\n    ko.exportProperty(observable, \"valueWillMutate\", observable.valueWillMutate);\n\n    return observable;\n}\n\nko.observable['fn'] = {\n    \"equalityComparer\": valuesArePrimitiveAndEqual\n};\n\nvar protoProperty = ko.observable.protoProperty = \"__ko_proto__\";\nko.observable['fn'][protoProperty] = ko.observable;\n\nko.hasPrototype = function(instance, prototype) {\n    if ((instance === null) || (instance === undefined) || (instance[protoProperty] === undefined)) return false;\n    if (instance[protoProperty] === prototype) return true;\n    return ko.hasPrototype(instance[protoProperty], prototype); // Walk the prototype chain\n};\n\nko.isObservable = function (instance) {\n    return ko.hasPrototype(instance, ko.observable);\n}\nko.isWriteableObservable = function (instance) {\n    // Observable\n    if ((typeof instance == \"function\") && instance[protoProperty] === ko.observable)\n        return true;\n    // Writeable dependent observable\n    if ((typeof instance == \"function\") && (instance[protoProperty] === ko.dependentObservable) && (instance.hasWriteFunction))\n        return true;\n    // Anything else\n    return false;\n}\n\n\nko.exportSymbol('observable', ko.observable);\nko.exportSymbol('isObservable', ko.isObservable);\nko.exportSymbol('isWriteableObservable', ko.isWriteableObservable);\nko.observableArray = function (initialValues) {\n    initialValues = initialValues || [];\n\n    if (typeof initialValues != 'object' || !('length' in initialValues))\n        throw new Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");\n\n    var result = ko.observable(initialValues);\n    ko.utils.extend(result, ko.observableArray['fn']);\n    return result.extend({'trackArrayChanges':true});\n};\n\nko.observableArray['fn'] = {\n    'remove': function (valueOrPredicate) {\n        var underlyingArray = this.peek();\n        var removedValues = [];\n        var predicate = typeof valueOrPredicate == \"function\" && !ko.isObservable(valueOrPredicate) ? valueOrPredicate : function (value) { return value === valueOrPredicate; };\n        for (var i = 0; i < underlyingArray.length; i++) {\n            var value = underlyingArray[i];\n            if (predicate(value)) {\n                if (removedValues.length === 0) {\n                    this.valueWillMutate();\n                }\n                removedValues.push(value);\n                underlyingArray.splice(i, 1);\n                i--;\n            }\n        }\n        if (removedValues.length) {\n            this.valueHasMutated();\n        }\n        return removedValues;\n    },\n\n    'removeAll': function (arrayOfValues) {\n        // If you passed zero args, we remove everything\n        if (arrayOfValues === undefined) {\n            var underlyingArray = this.peek();\n            var allValues = underlyingArray.slice(0);\n            this.valueWillMutate();\n            underlyingArray.splice(0, underlyingArray.length);\n            this.valueHasMutated();\n            return allValues;\n        }\n        // If you passed an arg, we interpret it as an array of entries to remove\n        if (!arrayOfValues)\n            return [];\n        return this['remove'](function (value) {\n            return ko.utils.arrayIndexOf(arrayOfValues, value) >= 0;\n        });\n    },\n\n    'destroy': function (valueOrPredicate) {\n        var underlyingArray = this.peek();\n        var predicate = typeof valueOrPredicate == \"function\" && !ko.isObservable(valueOrPredicate) ? valueOrPredicate : function (value) { return value === valueOrPredicate; };\n        this.valueWillMutate();\n        for (var i = underlyingArray.length - 1; i >= 0; i--) {\n            var value = underlyingArray[i];\n            if (predicate(value))\n                underlyingArray[i][\"_destroy\"] = true;\n        }\n        this.valueHasMutated();\n    },\n\n    'destroyAll': function (arrayOfValues) {\n        // If you passed zero args, we destroy everything\n        if (arrayOfValues === undefined)\n            return this['destroy'](function() { return true });\n\n        // If you passed an arg, we interpret it as an array of entries to destroy\n        if (!arrayOfValues)\n            return [];\n        return this['destroy'](function (value) {\n            return ko.utils.arrayIndexOf(arrayOfValues, value) >= 0;\n        });\n    },\n\n    'indexOf': function (item) {\n        var underlyingArray = this();\n        return ko.utils.arrayIndexOf(underlyingArray, item);\n    },\n\n    'replace': function(oldItem, newItem) {\n        var index = this['indexOf'](oldItem);\n        if (index >= 0) {\n            this.valueWillMutate();\n            this.peek()[index] = newItem;\n            this.valueHasMutated();\n        }\n    }\n};\n\n// Populate ko.observableArray.fn with read/write functions from native arrays\n// Important: Do not add any additional functions here that may reasonably be used to *read* data from the array\n// because we'll eval them without causing subscriptions, so ko.computed output could end up getting stale\nko.utils.arrayForEach([\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"], function (methodName) {\n    ko.observableArray['fn'][methodName] = function () {\n        // Use \"peek\" to avoid creating a subscription in any computed that we're executing in the context of\n        // (for consistency with mutating regular observables)\n        var underlyingArray = this.peek();\n        this.valueWillMutate();\n        this.cacheDiffForKnownOperation(underlyingArray, methodName, arguments);\n        var methodCallResult = underlyingArray[methodName].apply(underlyingArray, arguments);\n        this.valueHasMutated();\n        return methodCallResult;\n    };\n});\n\n// Populate ko.observableArray.fn with read-only functions from native arrays\nko.utils.arrayForEach([\"slice\"], function (methodName) {\n    ko.observableArray['fn'][methodName] = function () {\n        var underlyingArray = this();\n        return underlyingArray[methodName].apply(underlyingArray, arguments);\n    };\n});\n\nko.exportSymbol('observableArray', ko.observableArray);\nvar arrayChangeEventName = 'arrayChange';\nko.extenders['trackArrayChanges'] = function(target) {\n    // Only modify the target observable once\n    if (target.cacheDiffForKnownOperation) {\n        return;\n    }\n    var trackingChanges = false,\n        cachedDiff = null,\n        pendingNotifications = 0,\n        underlyingSubscribeFunction = target.subscribe;\n\n    // Intercept \"subscribe\" calls, and for array change events, ensure change tracking is enabled\n    target.subscribe = target['subscribe'] = function(callback, callbackTarget, event) {\n        if (event === arrayChangeEventName) {\n            trackChanges();\n        }\n        return underlyingSubscribeFunction.apply(this, arguments);\n    };\n\n    function trackChanges() {\n        // Calling 'trackChanges' multiple times is the same as calling it once\n        if (trackingChanges) {\n            return;\n        }\n\n        trackingChanges = true;\n\n        // Intercept \"notifySubscribers\" to track how many times it was called.\n        var underlyingNotifySubscribersFunction = target['notifySubscribers'];\n        target['notifySubscribers'] = function(valueToNotify, event) {\n            if (!event || event === defaultEvent) {\n                ++pendingNotifications;\n            }\n            return underlyingNotifySubscribersFunction.apply(this, arguments);\n        };\n\n        // Each time the array changes value, capture a clone so that on the next\n        // change it's possible to produce a diff\n        var previousContents = [].concat(target.peek() || []);\n        cachedDiff = null;\n        target.subscribe(function(currentContents) {\n            // Make a copy of the current contents and ensure it's an array\n            currentContents = [].concat(currentContents || []);\n\n            // Compute the diff and issue notifications, but only if someone is listening\n            if (target.hasSubscriptionsForEvent(arrayChangeEventName)) {\n                var changes = getChanges(previousContents, currentContents);\n                if (changes.length) {\n                    target['notifySubscribers'](changes, arrayChangeEventName);\n                }\n            }\n\n            // Eliminate references to the old, removed items, so they can be GCed\n            previousContents = currentContents;\n            cachedDiff = null;\n            pendingNotifications = 0;\n        });\n    }\n\n    function getChanges(previousContents, currentContents) {\n        // We try to re-use cached diffs.\n        // The only scenario where pendingNotifications > 1 is when using the KO 'deferred updates' plugin,\n        // which without this check would not be compatible with arrayChange notifications. Without that\n        // plugin, notifications are always issued immediately so we wouldn't be queueing up more than one.\n        if (!cachedDiff || pendingNotifications > 1) {\n            cachedDiff = ko.utils.compareArrays(previousContents, currentContents, { 'sparse': true });\n        }\n\n        return cachedDiff;\n    }\n\n    target.cacheDiffForKnownOperation = function(rawArray, operationName, args) {\n        // Only run if we're currently tracking changes for this observable array\n        // and there aren't any pending deferred notifications.\n        if (!trackingChanges || pendingNotifications) {\n            return;\n        }\n        var diff = [],\n            arrayLength = rawArray.length,\n            argsLength = args.length,\n            offset = 0;\n\n        function pushDiff(status, value, index) {\n            diff.push({ 'status': status, 'value': value, 'index': index });\n        }\n        switch (operationName) {\n            case 'push':\n                offset = arrayLength;\n            case 'unshift':\n                for (var index = 0; index < argsLength; index++) {\n                    pushDiff('added', args[index], offset + index);\n                }\n                break;\n\n            case 'pop':\n                offset = arrayLength - 1;\n            case 'shift':\n                if (arrayLength) {\n                    pushDiff('deleted', rawArray[offset], offset);\n                }\n                break;\n\n            case 'splice':\n                // Negative start index means 'from end of array'. After that we clamp to [0...arrayLength].\n                // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n                var startIndex = Math.min(Math.max(0, args[0] < 0 ? arrayLength + args[0] : args[0]), arrayLength),\n                    endDeleteIndex = argsLength === 1 ? arrayLength : Math.min(startIndex + (args[1] || 0), arrayLength),\n                    endAddIndex = startIndex + argsLength - 2,\n                    endIndex = Math.max(endDeleteIndex, endAddIndex);\n                for (var index = startIndex, argsIndex = 2; index < endIndex; ++index, ++argsIndex) {\n                    if (index < endDeleteIndex)\n                        pushDiff('deleted', rawArray[index], index);\n                    if (index < endAddIndex)\n                        pushDiff('added', args[argsIndex], index);\n                }\n                break;\n\n            default:\n                return;\n        }\n        cachedDiff = diff;\n    };\n};\nko.dependentObservable = function (evaluatorFunctionOrOptions, evaluatorFunctionTarget, options) {\n    var _latestValue,\n        _hasBeenEvaluated = false,\n        _isBeingEvaluated = false,\n        _suppressDisposalUntilDisposeWhenReturnsFalse = false,\n        readFunction = evaluatorFunctionOrOptions;\n\n    if (readFunction && typeof readFunction == \"object\") {\n        // Single-parameter syntax - everything is on this \"options\" param\n        options = readFunction;\n        readFunction = options[\"read\"];\n    } else {\n        // Multi-parameter syntax - construct the options according to the params passed\n        options = options || {};\n        if (!readFunction)\n            readFunction = options[\"read\"];\n    }\n    if (typeof readFunction != \"function\")\n        throw new Error(\"Pass a function that returns the value of the ko.computed\");\n\n    function addSubscriptionToDependency(subscribable) {\n        _subscriptionsToDependencies.push(subscribable.subscribe(evaluatePossiblyAsync));\n    }\n\n    function disposeAllSubscriptionsToDependencies() {\n        ko.utils.arrayForEach(_subscriptionsToDependencies, function (subscription) {\n            subscription.dispose();\n        });\n        _subscriptionsToDependencies = [];\n    }\n\n    function evaluatePossiblyAsync() {\n        var throttleEvaluationTimeout = dependentObservable['throttleEvaluation'];\n        if (throttleEvaluationTimeout && throttleEvaluationTimeout >= 0) {\n            clearTimeout(evaluationTimeoutInstance);\n            evaluationTimeoutInstance = setTimeout(evaluateImmediate, throttleEvaluationTimeout);\n        } else\n            evaluateImmediate();\n    }\n\n    function evaluateImmediate() {\n        if (_isBeingEvaluated) {\n            // If the evaluation of a ko.computed causes side effects, it's possible that it will trigger its own re-evaluation.\n            // This is not desirable (it's hard for a developer to realise a chain of dependencies might cause this, and they almost\n            // certainly didn't intend infinite re-evaluations). So, for predictability, we simply prevent ko.computeds from causing\n            // their own re-evaluation. Further discussion at https://github.com/SteveSanderson/knockout/pull/387\n            return;\n        }\n\n        if (disposeWhen && disposeWhen()) {\n            // See comment below about _suppressDisposalUntilDisposeWhenReturnsFalse\n            if (!_suppressDisposalUntilDisposeWhenReturnsFalse) {\n                dispose();\n                _hasBeenEvaluated = true;\n                return;\n            }\n        } else {\n            // It just did return false, so we can stop suppressing now\n            _suppressDisposalUntilDisposeWhenReturnsFalse = false;\n        }\n\n        _isBeingEvaluated = true;\n        try {\n            // Initially, we assume that none of the subscriptions are still being used (i.e., all are candidates for disposal).\n            // Then, during evaluation, we cross off any that are in fact still being used.\n            var disposalCandidates = ko.utils.arrayMap(_subscriptionsToDependencies, function(item) {return item.target;});\n\n            ko.dependencyDetection.begin(function(subscribable) {\n                var inOld;\n                if ((inOld = ko.utils.arrayIndexOf(disposalCandidates, subscribable)) >= 0)\n                    disposalCandidates[inOld] = undefined; // Don't want to dispose this subscription, as it's still being used\n                else\n                    addSubscriptionToDependency(subscribable); // Brand new subscription - add it\n            });\n\n            var newValue = evaluatorFunctionTarget ? readFunction.call(evaluatorFunctionTarget) : readFunction();\n\n            // For each subscription no longer being used, remove it from the active subscriptions list and dispose it\n            for (var i = disposalCandidates.length - 1; i >= 0; i--) {\n                if (disposalCandidates[i])\n                    _subscriptionsToDependencies.splice(i, 1)[0].dispose();\n            }\n            _hasBeenEvaluated = true;\n\n            if (!dependentObservable['equalityComparer'] || !dependentObservable['equalityComparer'](_latestValue, newValue)) {\n                dependentObservable[\"notifySubscribers\"](_latestValue, \"beforeChange\");\n\n                _latestValue = newValue;\n                if (DEBUG) dependentObservable._latestValue = _latestValue;\n                dependentObservable[\"notifySubscribers\"](_latestValue);\n            }\n        } finally {\n            ko.dependencyDetection.end();\n            _isBeingEvaluated = false;\n        }\n\n        if (!_subscriptionsToDependencies.length)\n            dispose();\n    }\n\n    function dependentObservable() {\n        if (arguments.length > 0) {\n            if (typeof writeFunction === \"function\") {\n                // Writing a value\n                writeFunction.apply(evaluatorFunctionTarget, arguments);\n            } else {\n                throw new Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");\n            }\n            return this; // Permits chained assignments\n        } else {\n            // Reading the value\n            if (!_hasBeenEvaluated)\n                evaluateImmediate();\n            ko.dependencyDetection.registerDependency(dependentObservable);\n            return _latestValue;\n        }\n    }\n\n    function peek() {\n        if (!_hasBeenEvaluated)\n            evaluateImmediate();\n        return _latestValue;\n    }\n\n    function isActive() {\n        return !_hasBeenEvaluated || _subscriptionsToDependencies.length > 0;\n    }\n\n    // By here, \"options\" is always non-null\n    var writeFunction = options[\"write\"],\n        disposeWhenNodeIsRemoved = options[\"disposeWhenNodeIsRemoved\"] || options.disposeWhenNodeIsRemoved || null,\n        disposeWhenOption = options[\"disposeWhen\"] || options.disposeWhen,\n        disposeWhen = disposeWhenOption,\n        dispose = disposeAllSubscriptionsToDependencies,\n        _subscriptionsToDependencies = [],\n        evaluationTimeoutInstance = null;\n\n    if (!evaluatorFunctionTarget)\n        evaluatorFunctionTarget = options[\"owner\"];\n\n    dependentObservable.peek = peek;\n    dependentObservable.getDependenciesCount = function () { return _subscriptionsToDependencies.length; };\n    dependentObservable.hasWriteFunction = typeof options[\"write\"] === \"function\";\n    dependentObservable.dispose = function () { dispose(); };\n    dependentObservable.isActive = isActive;\n\n    ko.subscribable.call(dependentObservable);\n    ko.utils.extend(dependentObservable, ko.dependentObservable['fn']);\n\n    ko.exportProperty(dependentObservable, 'peek', dependentObservable.peek);\n    ko.exportProperty(dependentObservable, 'dispose', dependentObservable.dispose);\n    ko.exportProperty(dependentObservable, 'isActive', dependentObservable.isActive);\n    ko.exportProperty(dependentObservable, 'getDependenciesCount', dependentObservable.getDependenciesCount);\n\n    // Add a \"disposeWhen\" callback that, on each evaluation, disposes if the node was removed without using ko.removeNode.\n    if (disposeWhenNodeIsRemoved) {\n        // Since this computed is associated with a DOM node, and we don't want to dispose the computed\n        // until the DOM node is *removed* from the document (as opposed to never having been in the document),\n        // we'll prevent disposal until \"disposeWhen\" first returns false.\n        _suppressDisposalUntilDisposeWhenReturnsFalse = true;\n\n        // Only watch for the node's disposal if the value really is a node. It might not be,\n        // e.g., { disposeWhenNodeIsRemoved: true } can be used to opt into the \"only dispose\n        // after first false result\" behaviour even if there's no specific node to watch. This\n        // technique is intended for KO's internal use only and shouldn't be documented or used\n        // by application code, as it's likely to change in a future version of KO.\n        if (disposeWhenNodeIsRemoved.nodeType) {\n            disposeWhen = function () {\n                return !ko.utils.domNodeIsAttachedToDocument(disposeWhenNodeIsRemoved) || (disposeWhenOption && disposeWhenOption());\n            };\n        }\n    }\n\n    // Evaluate, unless deferEvaluation is true\n    if (options['deferEvaluation'] !== true)\n        evaluateImmediate();\n\n    // Attach a DOM node disposal callback so that the computed will be proactively disposed as soon as the node is\n    // removed using ko.removeNode. But skip if isActive is false (there will never be any dependencies to dispose).\n    if (disposeWhenNodeIsRemoved && isActive()) {\n        dispose = function() {\n            ko.utils.domNodeDisposal.removeDisposeCallback(disposeWhenNodeIsRemoved, dispose);\n            disposeAllSubscriptionsToDependencies();\n        };\n        ko.utils.domNodeDisposal.addDisposeCallback(disposeWhenNodeIsRemoved, dispose);\n    }\n\n    return dependentObservable;\n};\n\nko.isComputed = function(instance) {\n    return ko.hasPrototype(instance, ko.dependentObservable);\n};\n\nvar protoProp = ko.observable.protoProperty; // == \"__ko_proto__\"\nko.dependentObservable[protoProp] = ko.observable;\n\nko.dependentObservable['fn'] = {\n    \"equalityComparer\": valuesArePrimitiveAndEqual\n};\nko.dependentObservable['fn'][protoProp] = ko.dependentObservable;\n\nko.exportSymbol('dependentObservable', ko.dependentObservable);\nko.exportSymbol('computed', ko.dependentObservable); // Make \"ko.computed\" an alias for \"ko.dependentObservable\"\nko.exportSymbol('isComputed', ko.isComputed);\n\n(function() {\n    var maxNestedObservableDepth = 10; // Escape the (unlikely) pathalogical case where an observable's current value is itself (or similar reference cycle)\n\n    ko.toJS = function(rootObject) {\n        if (arguments.length == 0)\n            throw new Error(\"When calling ko.toJS, pass the object you want to convert.\");\n\n        // We just unwrap everything at every level in the object graph\n        return mapJsObjectGraph(rootObject, function(valueToMap) {\n            // Loop because an observable's value might in turn be another observable wrapper\n            for (var i = 0; ko.isObservable(valueToMap) && (i < maxNestedObservableDepth); i++)\n                valueToMap = valueToMap();\n            return valueToMap;\n        });\n    };\n\n    ko.toJSON = function(rootObject, replacer, space) {     // replacer and space are optional\n        var plainJavaScriptObject = ko.toJS(rootObject);\n        return ko.utils.stringifyJson(plainJavaScriptObject, replacer, space);\n    };\n\n    function mapJsObjectGraph(rootObject, mapInputCallback, visitedObjects) {\n        visitedObjects = visitedObjects || new objectLookup();\n\n        rootObject = mapInputCallback(rootObject);\n        var canHaveProperties = (typeof rootObject == \"object\") && (rootObject !== null) && (rootObject !== undefined) && (!(rootObject instanceof Date)) && (!(rootObject instanceof String)) && (!(rootObject instanceof Number)) && (!(rootObject instanceof Boolean));\n        if (!canHaveProperties)\n            return rootObject;\n\n        var outputProperties = rootObject instanceof Array ? [] : {};\n        visitedObjects.save(rootObject, outputProperties);\n\n        visitPropertiesOrArrayEntries(rootObject, function(indexer) {\n            var propertyValue = mapInputCallback(rootObject[indexer]);\n\n            switch (typeof propertyValue) {\n                case \"boolean\":\n                case \"number\":\n                case \"string\":\n                case \"function\":\n                    outputProperties[indexer] = propertyValue;\n                    break;\n                case \"object\":\n                case \"undefined\":\n                    var previouslyMappedValue = visitedObjects.get(propertyValue);\n                    outputProperties[indexer] = (previouslyMappedValue !== undefined)\n                        ? previouslyMappedValue\n                        : mapJsObjectGraph(propertyValue, mapInputCallback, visitedObjects);\n                    break;\n            }\n        });\n\n        return outputProperties;\n    }\n\n    function visitPropertiesOrArrayEntries(rootObject, visitorCallback) {\n        if (rootObject instanceof Array) {\n            for (var i = 0; i < rootObject.length; i++)\n                visitorCallback(i);\n\n            // For arrays, also respect toJSON property for custom mappings (fixes #278)\n            if (typeof rootObject['toJSON'] == 'function')\n                visitorCallback('toJSON');\n        } else {\n            for (var propertyName in rootObject) {\n                visitorCallback(propertyName);\n            }\n        }\n    };\n\n    function objectLookup() {\n        this.keys = [];\n        this.values = [];\n    };\n\n    objectLookup.prototype = {\n        constructor: objectLookup,\n        save: function(key, value) {\n            var existingIndex = ko.utils.arrayIndexOf(this.keys, key);\n            if (existingIndex >= 0)\n                this.values[existingIndex] = value;\n            else {\n                this.keys.push(key);\n                this.values.push(value);\n            }\n        },\n        get: function(key) {\n            var existingIndex = ko.utils.arrayIndexOf(this.keys, key);\n            return (existingIndex >= 0) ? this.values[existingIndex] : undefined;\n        }\n    };\n})();\n\nko.exportSymbol('toJS', ko.toJS);\nko.exportSymbol('toJSON', ko.toJSON);\n(function () {\n    var hasDomDataExpandoProperty = '__ko__hasDomDataOptionValue__';\n\n    // Normally, SELECT elements and their OPTIONs can only take value of type 'string' (because the values\n    // are stored on DOM attributes). ko.selectExtensions provides a way for SELECTs/OPTIONs to have values\n    // that are arbitrary objects. This is very convenient when implementing things like cascading dropdowns.\n    ko.selectExtensions = {\n        readValue : function(element) {\n            switch (ko.utils.tagNameLower(element)) {\n                case 'option':\n                    if (element[hasDomDataExpandoProperty] === true)\n                        return ko.utils.domData.get(element, ko.bindingHandlers.options.optionValueDomDataKey);\n                    return ko.utils.ieVersion <= 7\n                        ? (element.getAttributeNode('value') && element.getAttributeNode('value').specified ? element.value : element.text)\n                        : element.value;\n                case 'select':\n                    return element.selectedIndex >= 0 ? ko.selectExtensions.readValue(element.options[element.selectedIndex]) : undefined;\n                default:\n                    return element.value;\n            }\n        },\n\n        writeValue: function(element, value) {\n            switch (ko.utils.tagNameLower(element)) {\n                case 'option':\n                    switch(typeof value) {\n                        case \"string\":\n                            ko.utils.domData.set(element, ko.bindingHandlers.options.optionValueDomDataKey, undefined);\n                            if (hasDomDataExpandoProperty in element) { // IE <= 8 throws errors if you delete non-existent properties from a DOM node\n                                delete element[hasDomDataExpandoProperty];\n                            }\n                            element.value = value;\n                            break;\n                        default:\n                            // Store arbitrary object using DomData\n                            ko.utils.domData.set(element, ko.bindingHandlers.options.optionValueDomDataKey, value);\n                            element[hasDomDataExpandoProperty] = true;\n\n                            // Special treatment of numbers is just for backward compatibility. KO 1.2.1 wrote numerical values to element.value.\n                            element.value = typeof value === \"number\" ? value : \"\";\n                            break;\n                    }\n                    break;\n                case 'select':\n                    if (value === \"\")\n                        value = undefined;\n                    if (value === null || value === undefined)\n                        element.selectedIndex = -1;\n                    for (var i = element.options.length - 1; i >= 0; i--) {\n                        if (ko.selectExtensions.readValue(element.options[i]) == value) {\n                            element.selectedIndex = i;\n                            break;\n                        }\n                    }\n                    // for drop-down select, ensure first is selected\n                    if (!(element.size > 1) && element.selectedIndex === -1) {\n                        element.selectedIndex = 0;\n                    }\n                    break;\n                default:\n                    if ((value === null) || (value === undefined))\n                        value = \"\";\n                    element.value = value;\n                    break;\n            }\n        }\n    };\n})();\n\nko.exportSymbol('selectExtensions', ko.selectExtensions);\nko.exportSymbol('selectExtensions.readValue', ko.selectExtensions.readValue);\nko.exportSymbol('selectExtensions.writeValue', ko.selectExtensions.writeValue);\nko.expressionRewriting = (function () {\n    var javaScriptReservedWords = [\"true\", \"false\", \"null\", \"undefined\"];\n\n    // Matches something that can be assigned to--either an isolated identifier or something ending with a property accessor\n    // This is designed to be simple and avoid false negatives, but could produce false positives (e.g., a+b.c).\n    // This also will not properly handle nested brackets (e.g., obj1[obj2['prop']]; see #911).\n    var javaScriptAssignmentTarget = /^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i;\n\n    function getWriteableValue(expression) {\n        if (ko.utils.arrayIndexOf(javaScriptReservedWords, expression) >= 0)\n            return false;\n        var match = expression.match(javaScriptAssignmentTarget);\n        return match === null ? false : match[1] ? ('Object(' + match[1] + ')' + match[2]) : expression;\n    }\n\n    // The following regular expressions will be used to split an object-literal string into tokens\n\n        // These two match strings, either with double quotes or single quotes\n    var stringDouble = '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"',\n        stringSingle = \"'(?:[^'\\\\\\\\]|\\\\\\\\.)*'\",\n        // Matches a regular expression (text enclosed by slashes), but will also match sets of divisions\n        // as a regular expression (this is handled by the parsing loop below).\n        stringRegexp = '/(?:[^/\\\\\\\\]|\\\\\\\\.)*/\\w*',\n        // These characters have special meaning to the parser and must not appear in the middle of a\n        // token, except as part of a string.\n        specials = ',\"\\'{}()/:[\\\\]',\n        // Match text (at least two characters) that does not contain any of the above special characters,\n        // although some of the special characters are allowed to start it (all but the colon and comma).\n        // The text can contain spaces, but leading or trailing spaces are skipped.\n        everyThingElse = '[^\\\\s:,/][^' + specials + ']*[^\\\\s' + specials + ']',\n        // Match any non-space character not matched already. This will match colons and commas, since they're\n        // not matched by \"everyThingElse\", but will also match any other single character that wasn't already\n        // matched (for example: in \"a: 1, b: 2\", each of the non-space characters will be matched by oneNotSpace).\n        oneNotSpace = '[^\\\\s]',\n\n        // Create the actual regular expression by or-ing the above strings. The order is important.\n        bindingToken = RegExp(stringDouble + '|' + stringSingle + '|' + stringRegexp + '|' + everyThingElse + '|' + oneNotSpace, 'g'),\n\n        // Match end of previous token to determine whether a slash is a division or regex.\n        divisionLookBehind = /[\\])\"'A-Za-z0-9_$]+$/,\n        keywordRegexLookBehind = {'in':1,'return':1,'typeof':1};\n\n    function parseObjectLiteral(objectLiteralString) {\n        // Trim leading and trailing spaces from the string\n        var str = ko.utils.stringTrim(objectLiteralString);\n\n        // Trim braces '{' surrounding the whole object literal\n        if (str.charCodeAt(0) === 123) str = str.slice(1, -1);\n\n        // Split into tokens\n        var result = [], toks = str.match(bindingToken), key, values, depth = 0;\n\n        if (toks) {\n            // Append a comma so that we don't need a separate code block to deal with the last item\n            toks.push(',');\n\n            for (var i = 0, tok; tok = toks[i]; ++i) {\n                var c = tok.charCodeAt(0);\n                // A comma signals the end of a key/value pair if depth is zero\n                if (c === 44) { // \",\"\n                    if (depth <= 0) {\n                        if (key)\n                            result.push(values ? {key: key, value: values.join('')} : {'unknown': key});\n                        key = values = depth = 0;\n                        continue;\n                    }\n                // Simply skip the colon that separates the name and value\n                } else if (c === 58) { // \":\"\n                    if (!values)\n                        continue;\n                // A set of slashes is initially matched as a regular expression, but could be division\n                } else if (c === 47 && i && tok.length > 1) {  // \"/\"\n                    // Look at the end of the previous token to determine if the slash is actually division\n                    var match = toks[i-1].match(divisionLookBehind);\n                    if (match && !keywordRegexLookBehind[match[0]]) {\n                        // The slash is actually a division punctuator; re-parse the remainder of the string (not including the slash)\n                        str = str.substr(str.indexOf(tok) + 1);\n                        toks = str.match(bindingToken);\n                        toks.push(',');\n                        i = -1;\n                        // Continue with just the slash\n                        tok = '/';\n                    }\n                // Increment depth for parentheses, braces, and brackets so that interior commas are ignored\n                } else if (c === 40 || c === 123 || c === 91) { // '(', '{', '['\n                    ++depth;\n                } else if (c === 41 || c === 125 || c === 93) { // ')', '}', ']'\n                    --depth;\n                // The key must be a single token; if it's a string, trim the quotes\n                } else if (!key && !values) {\n                    key = (c === 34 || c === 39) /* '\"', \"'\" */ ? tok.slice(1, -1) : tok;\n                    continue;\n                }\n                if (values)\n                    values.push(tok);\n                else\n                    values = [tok];\n            }\n        }\n        return result;\n    }\n\n    // Two-way bindings include a write function that allow the handler to update the value even if it's not an observable.\n    var twoWayBindings = {};\n\n    function preProcessBindings(bindingsStringOrKeyValueArray, bindingOptions) {\n        bindingOptions = bindingOptions || {};\n\n        function processKeyValue(key, val) {\n            var writableVal;\n            function callPreprocessHook(obj) {\n                return (obj && obj['preprocess']) ? (val = obj['preprocess'](val, key, processKeyValue)) : true;\n            }\n            if (!callPreprocessHook(ko['getBindingHandler'](key)))\n                return;\n\n            if (twoWayBindings[key] && (writableVal = getWriteableValue(val))) {\n                // For two-way bindings, provide a write method in case the value\n                // isn't a writable observable.\n                propertyAccessorResultStrings.push(\"'\" + key + \"':function(_z){\" + writableVal + \"=_z}\");\n            }\n\n            // Values are wrapped in a function so that each value can be accessed independently\n            if (makeValueAccessors) {\n                val = 'function(){return ' + val + ' }';\n            }\n            resultStrings.push(\"'\" + key + \"':\" + val);\n        }\n\n        var resultStrings = [],\n            propertyAccessorResultStrings = [],\n            makeValueAccessors = bindingOptions['valueAccessors'],\n            keyValueArray = typeof bindingsStringOrKeyValueArray === \"string\" ?\n                parseObjectLiteral(bindingsStringOrKeyValueArray) : bindingsStringOrKeyValueArray;\n\n        ko.utils.arrayForEach(keyValueArray, function(keyValue) {\n            processKeyValue(keyValue.key || keyValue['unknown'], keyValue.value);\n        });\n\n        if (propertyAccessorResultStrings.length)\n            processKeyValue('_ko_property_writers', \"{\" + propertyAccessorResultStrings.join(\",\") + \"}\");\n\n        return resultStrings.join(\",\");\n    }\n\n    return {\n        bindingRewriteValidators: [],\n\n        twoWayBindings: twoWayBindings,\n\n        parseObjectLiteral: parseObjectLiteral,\n\n        preProcessBindings: preProcessBindings,\n\n        keyValueArrayContainsKey: function(keyValueArray, key) {\n            for (var i = 0; i < keyValueArray.length; i++)\n                if (keyValueArray[i]['key'] == key)\n                    return true;\n            return false;\n        },\n\n        // Internal, private KO utility for updating model properties from within bindings\n        // property:            If the property being updated is (or might be) an observable, pass it here\n        //                      If it turns out to be a writable observable, it will be written to directly\n        // allBindings:         An object with a get method to retrieve bindings in the current execution context.\n        //                      This will be searched for a '_ko_property_writers' property in case you're writing to a non-observable\n        // key:                 The key identifying the property to be written. Example: for { hasFocus: myValue }, write to 'myValue' by specifying the key 'hasFocus'\n        // value:               The value to be written\n        // checkIfDifferent:    If true, and if the property being written is a writable observable, the value will only be written if\n        //                      it is !== existing value on that writable observable\n        writeValueToProperty: function(property, allBindings, key, value, checkIfDifferent) {\n            if (!property || !ko.isObservable(property)) {\n                var propWriters = allBindings.get('_ko_property_writers');\n                if (propWriters && propWriters[key])\n                    propWriters[key](value);\n            } else if (ko.isWriteableObservable(property) && (!checkIfDifferent || property.peek() !== value)) {\n                property(value);\n            }\n        }\n    };\n})();\n\nko.exportSymbol('expressionRewriting', ko.expressionRewriting);\nko.exportSymbol('expressionRewriting.bindingRewriteValidators', ko.expressionRewriting.bindingRewriteValidators);\nko.exportSymbol('expressionRewriting.parseObjectLiteral', ko.expressionRewriting.parseObjectLiteral);\nko.exportSymbol('expressionRewriting.preProcessBindings', ko.expressionRewriting.preProcessBindings);\n\n// Making bindings explicitly declare themselves as \"two way\" isn't ideal in the long term (it would be better if\n// all bindings could use an official 'property writer' API without needing to declare that they might). However,\n// since this is not, and has never been, a public API (_ko_property_writers was never documented), it's acceptable\n// as an internal implementation detail in the short term.\n// For those developers who rely on _ko_property_writers in their custom bindings, we expose _twoWayBindings as an\n// undocumented feature that makes it relatively easy to upgrade to KO 3.0. However, this is still not an official\n// public API, and we reserve the right to remove it at any time if we create a real public property writers API.\nko.exportSymbol('expressionRewriting._twoWayBindings', ko.expressionRewriting.twoWayBindings);\n\n// For backward compatibility, define the following aliases. (Previously, these function names were misleading because\n// they referred to JSON specifically, even though they actually work with arbitrary JavaScript object literal expressions.)\nko.exportSymbol('jsonExpressionRewriting', ko.expressionRewriting);\nko.exportSymbol('jsonExpressionRewriting.insertPropertyAccessorsIntoJson', ko.expressionRewriting.preProcessBindings);\n(function() {\n    // \"Virtual elements\" is an abstraction on top of the usual DOM API which understands the notion that comment nodes\n    // may be used to represent hierarchy (in addition to the DOM's natural hierarchy).\n    // If you call the DOM-manipulating functions on ko.virtualElements, you will be able to read and write the state\n    // of that virtual hierarchy\n    //\n    // The point of all this is to support containerless templates (e.g., <!-- ko foreach:someCollection -->blah<!-- /ko -->)\n    // without having to scatter special cases all over the binding and templating code.\n\n    // IE 9 cannot reliably read the \"nodeValue\" property of a comment node (see https://github.com/SteveSanderson/knockout/issues/186)\n    // but it does give them a nonstandard alternative property called \"text\" that it can read reliably. Other browsers don't have that property.\n    // So, use node.text where available, and node.nodeValue elsewhere\n    var commentNodesHaveTextProperty = document && document.createComment(\"test\").text === \"<!--test-->\";\n\n    var startCommentRegex = commentNodesHaveTextProperty ? /^<!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*-->$/ : /^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/;\n    var endCommentRegex =   commentNodesHaveTextProperty ? /^<!--\\s*\\/ko\\s*-->$/ : /^\\s*\\/ko\\s*$/;\n    var htmlTagsWithOptionallyClosingChildren = { 'ul': true, 'ol': true };\n\n    function isStartComment(node) {\n        return (node.nodeType == 8) && startCommentRegex.test(commentNodesHaveTextProperty ? node.text : node.nodeValue);\n    }\n\n    function isEndComment(node) {\n        return (node.nodeType == 8) && endCommentRegex.test(commentNodesHaveTextProperty ? node.text : node.nodeValue);\n    }\n\n    function getVirtualChildren(startComment, allowUnbalanced) {\n        var currentNode = startComment;\n        var depth = 1;\n        var children = [];\n        while (currentNode = currentNode.nextSibling) {\n            if (isEndComment(currentNode)) {\n                depth--;\n                if (depth === 0)\n                    return children;\n            }\n\n            children.push(currentNode);\n\n            if (isStartComment(currentNode))\n                depth++;\n        }\n        if (!allowUnbalanced)\n            throw new Error(\"Cannot find closing comment tag to match: \" + startComment.nodeValue);\n        return null;\n    }\n\n    function getMatchingEndComment(startComment, allowUnbalanced) {\n        var allVirtualChildren = getVirtualChildren(startComment, allowUnbalanced);\n        if (allVirtualChildren) {\n            if (allVirtualChildren.length > 0)\n                return allVirtualChildren[allVirtualChildren.length - 1].nextSibling;\n            return startComment.nextSibling;\n        } else\n            return null; // Must have no matching end comment, and allowUnbalanced is true\n    }\n\n    function getUnbalancedChildTags(node) {\n        // e.g., from <div>OK</div><!-- ko blah --><span>Another</span>, returns: <!-- ko blah --><span>Another</span>\n        //       from <div>OK</div><!-- /ko --><!-- /ko -->,             returns: <!-- /ko --><!-- /ko -->\n        var childNode = node.firstChild, captureRemaining = null;\n        if (childNode) {\n            do {\n                if (captureRemaining)                   // We already hit an unbalanced node and are now just scooping up all subsequent nodes\n                    captureRemaining.push(childNode);\n                else if (isStartComment(childNode)) {\n                    var matchingEndComment = getMatchingEndComment(childNode, /* allowUnbalanced: */ true);\n                    if (matchingEndComment)             // It's a balanced tag, so skip immediately to the end of this virtual set\n                        childNode = matchingEndComment;\n                    else\n                        captureRemaining = [childNode]; // It's unbalanced, so start capturing from this point\n                } else if (isEndComment(childNode)) {\n                    captureRemaining = [childNode];     // It's unbalanced (if it wasn't, we'd have skipped over it already), so start capturing\n                }\n            } while (childNode = childNode.nextSibling);\n        }\n        return captureRemaining;\n    }\n\n    ko.virtualElements = {\n        allowedBindings: {},\n\n        childNodes: function(node) {\n            return isStartComment(node) ? getVirtualChildren(node) : node.childNodes;\n        },\n\n        emptyNode: function(node) {\n            if (!isStartComment(node))\n                ko.utils.emptyDomNode(node);\n            else {\n                var virtualChildren = ko.virtualElements.childNodes(node);\n                for (var i = 0, j = virtualChildren.length; i < j; i++)\n                    ko.removeNode(virtualChildren[i]);\n            }\n        },\n\n        setDomNodeChildren: function(node, childNodes) {\n            if (!isStartComment(node))\n                ko.utils.setDomNodeChildren(node, childNodes);\n            else {\n                ko.virtualElements.emptyNode(node);\n                var endCommentNode = node.nextSibling; // Must be the next sibling, as we just emptied the children\n                for (var i = 0, j = childNodes.length; i < j; i++)\n                    endCommentNode.parentNode.insertBefore(childNodes[i], endCommentNode);\n            }\n        },\n\n        prepend: function(containerNode, nodeToPrepend) {\n            if (!isStartComment(containerNode)) {\n                if (containerNode.firstChild)\n                    containerNode.insertBefore(nodeToPrepend, containerNode.firstChild);\n                else\n                    containerNode.appendChild(nodeToPrepend);\n            } else {\n                // Start comments must always have a parent and at least one following sibling (the end comment)\n                containerNode.parentNode.insertBefore(nodeToPrepend, containerNode.nextSibling);\n            }\n        },\n\n        insertAfter: function(containerNode, nodeToInsert, insertAfterNode) {\n            if (!insertAfterNode) {\n                ko.virtualElements.prepend(containerNode, nodeToInsert);\n            } else if (!isStartComment(containerNode)) {\n                // Insert after insertion point\n                if (insertAfterNode.nextSibling)\n                    containerNode.insertBefore(nodeToInsert, insertAfterNode.nextSibling);\n                else\n                    containerNode.appendChild(nodeToInsert);\n            } else {\n                // Children of start comments must always have a parent and at least one following sibling (the end comment)\n                containerNode.parentNode.insertBefore(nodeToInsert, insertAfterNode.nextSibling);\n            }\n        },\n\n        firstChild: function(node) {\n            if (!isStartComment(node))\n                return node.firstChild;\n            if (!node.nextSibling || isEndComment(node.nextSibling))\n                return null;\n            return node.nextSibling;\n        },\n\n        nextSibling: function(node) {\n            if (isStartComment(node))\n                node = getMatchingEndComment(node);\n            if (node.nextSibling && isEndComment(node.nextSibling))\n                return null;\n            return node.nextSibling;\n        },\n\n        hasBindingValue: isStartComment,\n\n        virtualNodeBindingValue: function(node) {\n            var regexMatch = (commentNodesHaveTextProperty ? node.text : node.nodeValue).match(startCommentRegex);\n            return regexMatch ? regexMatch[1] : null;\n        },\n\n        normaliseVirtualElementDomStructure: function(elementVerified) {\n            // Workaround for https://github.com/SteveSanderson/knockout/issues/155\n            // (IE <= 8 or IE 9 quirks mode parses your HTML weirdly, treating closing </li> tags as if they don't exist, thereby moving comment nodes\n            // that are direct descendants of <ul> into the preceding <li>)\n            if (!htmlTagsWithOptionallyClosingChildren[ko.utils.tagNameLower(elementVerified)])\n                return;\n\n            // Scan immediate children to see if they contain unbalanced comment tags. If they do, those comment tags\n            // must be intended to appear *after* that child, so move them there.\n            var childNode = elementVerified.firstChild;\n            if (childNode) {\n                do {\n                    if (childNode.nodeType === 1) {\n                        var unbalancedTags = getUnbalancedChildTags(childNode);\n                        if (unbalancedTags) {\n                            // Fix up the DOM by moving the unbalanced tags to where they most likely were intended to be placed - *after* the child\n                            var nodeToInsertBefore = childNode.nextSibling;\n                            for (var i = 0; i < unbalancedTags.length; i++) {\n                                if (nodeToInsertBefore)\n                                    elementVerified.insertBefore(unbalancedTags[i], nodeToInsertBefore);\n                                else\n                                    elementVerified.appendChild(unbalancedTags[i]);\n                            }\n                        }\n                    }\n                } while (childNode = childNode.nextSibling);\n            }\n        }\n    };\n})();\nko.exportSymbol('virtualElements', ko.virtualElements);\nko.exportSymbol('virtualElements.allowedBindings', ko.virtualElements.allowedBindings);\nko.exportSymbol('virtualElements.emptyNode', ko.virtualElements.emptyNode);\n//ko.exportSymbol('virtualElements.firstChild', ko.virtualElements.firstChild);     // firstChild is not minified\nko.exportSymbol('virtualElements.insertAfter', ko.virtualElements.insertAfter);\n//ko.exportSymbol('virtualElements.nextSibling', ko.virtualElements.nextSibling);   // nextSibling is not minified\nko.exportSymbol('virtualElements.prepend', ko.virtualElements.prepend);\nko.exportSymbol('virtualElements.setDomNodeChildren', ko.virtualElements.setDomNodeChildren);\n(function() {\n    var defaultBindingAttributeName = \"data-bind\";\n\n    ko.bindingProvider = function() {\n        this.bindingCache = {};\n    };\n\n    ko.utils.extend(ko.bindingProvider.prototype, {\n        'nodeHasBindings': function(node) {\n            switch (node.nodeType) {\n                case 1: return node.getAttribute(defaultBindingAttributeName) != null;   // Element\n                case 8: return ko.virtualElements.hasBindingValue(node); // Comment node\n                default: return false;\n            }\n        },\n\n        'getBindings': function(node, bindingContext) {\n            var bindingsString = this['getBindingsString'](node, bindingContext);\n            return bindingsString ? this['parseBindingsString'](bindingsString, bindingContext, node) : null;\n        },\n\n        'getBindingAccessors': function(node, bindingContext) {\n            var bindingsString = this['getBindingsString'](node, bindingContext);\n            return bindingsString ? this['parseBindingsString'](bindingsString, bindingContext, node, {'valueAccessors':true}) : null;\n        },\n\n        // The following function is only used internally by this default provider.\n        // It's not part of the interface definition for a general binding provider.\n        'getBindingsString': function(node, bindingContext) {\n            switch (node.nodeType) {\n                case 1: return node.getAttribute(defaultBindingAttributeName);   // Element\n                case 8: return ko.virtualElements.virtualNodeBindingValue(node); // Comment node\n                default: return null;\n            }\n        },\n\n        // The following function is only used internally by this default provider.\n        // It's not part of the interface definition for a general binding provider.\n        'parseBindingsString': function(bindingsString, bindingContext, node, options) {\n            try {\n                var bindingFunction = createBindingsStringEvaluatorViaCache(bindingsString, this.bindingCache, options);\n                return bindingFunction(bindingContext, node);\n            } catch (ex) {\n                ex.message = \"Unable to parse bindings.\\nBindings value: \" + bindingsString + \"\\nMessage: \" + ex.message;\n                throw ex;\n            }\n        }\n    });\n\n    ko.bindingProvider['instance'] = new ko.bindingProvider();\n\n    function createBindingsStringEvaluatorViaCache(bindingsString, cache, options) {\n        var cacheKey = bindingsString + (options && options['valueAccessors'] || '');\n        return cache[cacheKey]\n            || (cache[cacheKey] = createBindingsStringEvaluator(bindingsString, options));\n    }\n\n    function createBindingsStringEvaluator(bindingsString, options) {\n        // Build the source for a function that evaluates \"expression\"\n        // For each scope variable, add an extra level of \"with\" nesting\n        // Example result: with(sc1) { with(sc0) { return (expression) } }\n        var rewrittenBindings = ko.expressionRewriting.preProcessBindings(bindingsString, options),\n            functionBody = \"with($context){with($data||{}){return{\" + rewrittenBindings + \"}}}\";\n        return new Function(\"$context\", \"$element\", functionBody);\n    }\n})();\n\nko.exportSymbol('bindingProvider', ko.bindingProvider);\n(function () {\n    ko.bindingHandlers = {};\n\n    // The following element types will not be recursed into during binding. In the future, we\n    // may consider adding <template> to this list, because such elements' contents are always\n    // intended to be bound in a different context from where they appear in the document.\n    var bindingDoesNotRecurseIntoElementTypes = {\n        // Don't want bindings that operate on text nodes to mutate <script> contents,\n        // because it's unexpected and a potential XSS issue\n        'script': true\n    };\n\n    // Use an overridable method for retrieving binding handlers so that a plugins may support dynamically created handlers\n    ko['getBindingHandler'] = function(bindingKey) {\n        return ko.bindingHandlers[bindingKey];\n    };\n\n    // The ko.bindingContext constructor is only called directly to create the root context. For child\n    // contexts, use bindingContext.createChildContext or bindingContext.extend.\n    ko.bindingContext = function(dataItemOrAccessor, parentContext, dataItemAlias, extendCallback) {\n\n        // The binding context object includes static properties for the current, parent, and root view models.\n        // If a view model is actually stored in an observable, the corresponding binding context object, and\n        // any child contexts, must be updated when the view model is changed.\n        function updateContext() {\n            // Most of the time, the context will directly get a view model object, but if a function is given,\n            // we call the function to retrieve the view model. If the function accesses any obsevables (or is\n            // itself an observable), the dependency is tracked, and those observables can later cause the binding\n            // context to be updated.\n            var dataItem = isFunc ? dataItemOrAccessor() : dataItemOrAccessor;\n\n            if (parentContext) {\n                // When a \"parent\" context is given, register a dependency on the parent context. Thus whenever the\n                // parent context is updated, this context will also be updated.\n                if (parentContext._subscribable)\n                    parentContext._subscribable();\n\n                // Copy $root and any custom properties from the parent context\n                ko.utils.extend(self, parentContext);\n\n                // Because the above copy overwrites our own properties, we need to reset them.\n                // During the first execution, \"subscribable\" isn't set, so don't bother doing the update then.\n                if (subscribable) {\n                    self._subscribable = subscribable;\n                }\n            } else {\n                self['$parents'] = [];\n                self['$root'] = dataItem;\n\n                // Export 'ko' in the binding context so it will be available in bindings and templates\n                // even if 'ko' isn't exported as a global, such as when using an AMD loader.\n                // See https://github.com/SteveSanderson/knockout/issues/490\n                self['ko'] = ko;\n            }\n            self['$rawData'] = dataItemOrAccessor;\n            self['$data'] = dataItem;\n            if (dataItemAlias)\n                self[dataItemAlias] = dataItem;\n\n            // The extendCallback function is provided when creating a child context or extending a context.\n            // It handles the specific actions needed to finish setting up the binding context. Actions in this\n            // function could also add dependencies to this binding context.\n            if (extendCallback)\n                extendCallback(self, parentContext, dataItem);\n\n            return self['$data'];\n        }\n        function disposeWhen() {\n            return nodes && !ko.utils.anyDomNodeIsAttachedToDocument(nodes);\n        }\n\n        var self = this,\n            isFunc = typeof(dataItemOrAccessor) == \"function\",\n            nodes,\n            subscribable = ko.dependentObservable(updateContext, null, { disposeWhen: disposeWhen, disposeWhenNodeIsRemoved: true });\n\n        // At this point, the binding context has been initialized, and the \"subscribable\" computed observable is\n        // subscribed to any observables that were accessed in the process. If there is nothing to track, the\n        // computed will be inactive, and we can safely throw it away. If it's active, the computed is stored in\n        // the context object.\n        if (subscribable.isActive()) {\n            self._subscribable = subscribable;\n\n            // Always notify because even if the model ($data) hasn't changed, other context properties might have changed\n            subscribable['equalityComparer'] = null;\n\n            // We need to be able to dispose of this computed observable when it's no longer needed. This would be\n            // easy if we had a single node to watch, but binding contexts can be used by many different nodes, and\n            // we cannot assume that those nodes have any relation to each other. So instead we track any node that\n            // the context is attached to, and dispose the computed when all of those nodes have been cleaned.\n\n            // Add properties to *subscribable* instead of *self* because any properties added to *self* may be overwritten on updates\n            nodes = [];\n            subscribable._addNode = function(node) {\n                nodes.push(node);\n                ko.utils.domNodeDisposal.addDisposeCallback(node, function(node) {\n                    ko.utils.arrayRemoveItem(nodes, node);\n                    if (!nodes.length) {\n                        subscribable.dispose();\n                        self._subscribable = subscribable = undefined;\n                    }\n                });\n            };\n        }\n    }\n\n    // Extend the binding context hierarchy with a new view model object. If the parent context is watching\n    // any obsevables, the new child context will automatically get a dependency on the parent context.\n    // But this does not mean that the $data value of the child context will also get updated. If the child\n    // view model also depends on the parent view model, you must provide a function that returns the correct\n    // view model on each update.\n    ko.bindingContext.prototype['createChildContext'] = function (dataItemOrAccessor, dataItemAlias, extendCallback) {\n        return new ko.bindingContext(dataItemOrAccessor, this, dataItemAlias, function(self, parentContext) {\n            // Extend the context hierarchy by setting the appropriate pointers\n            self['$parentContext'] = parentContext;\n            self['$parent'] = parentContext['$data'];\n            self['$parents'] = (parentContext['$parents'] || []).slice(0);\n            self['$parents'].unshift(self['$parent']);\n            if (extendCallback)\n                extendCallback(self);\n        });\n    };\n\n    // Extend the binding context with new custom properties. This doesn't change the context hierarchy.\n    // Similarly to \"child\" contexts, provide a function here to make sure that the correct values are set\n    // when an observable view model is updated.\n    ko.bindingContext.prototype['extend'] = function(properties) {\n        return new ko.bindingContext(this['$rawData'], this, null, function(self) {\n            ko.utils.extend(self, typeof(properties) == \"function\" ? properties() : properties);\n        });\n    };\n\n    // Returns the valueAccesor function for a binding value\n    function makeValueAccessor(value) {\n        return function() {\n            return value;\n        };\n    }\n\n    // Returns the value of a valueAccessor function\n    function evaluateValueAccessor(valueAccessor) {\n        return valueAccessor();\n    }\n\n    // Given a function that returns bindings, create and return a new object that contains\n    // binding value-accessors functions. Each accessor function calls the original function\n    // so that it always gets the latest value and all dependencies are captured. This is used\n    // by ko.applyBindingsToNode and getBindingsAndMakeAccessors.\n    function makeAccessorsFromFunction(callback) {\n        return ko.utils.objectMap(ko.dependencyDetection.ignore(callback), function(value, key) {\n            return function() {\n                return callback()[key];\n            };\n        });\n    }\n\n    // Given a bindings function or object, create and return a new object that contains\n    // binding value-accessors functions. This is used by ko.applyBindingsToNode.\n    function makeBindingAccessors(bindings, context, node) {\n        if (typeof bindings === 'function') {\n            return makeAccessorsFromFunction(bindings.bind(null, context, node));\n        } else {\n            return ko.utils.objectMap(bindings, makeValueAccessor);\n        }\n    }\n\n    // This function is used if the binding provider doesn't include a getBindingAccessors function.\n    // It must be called with 'this' set to the provider instance.\n    function getBindingsAndMakeAccessors(node, context) {\n        return makeAccessorsFromFunction(this['getBindings'].bind(this, node, context));\n    }\n\n    function validateThatBindingIsAllowedForVirtualElements(bindingName) {\n        var validator = ko.virtualElements.allowedBindings[bindingName];\n        if (!validator)\n            throw new Error(\"The binding '\" + bindingName + \"' cannot be used with virtual elements\")\n    }\n\n    function applyBindingsToDescendantsInternal (bindingContext, elementOrVirtualElement, bindingContextsMayDifferFromDomParentElement) {\n        var currentChild,\n            nextInQueue = ko.virtualElements.firstChild(elementOrVirtualElement),\n            provider = ko.bindingProvider['instance'],\n            preprocessNode = provider['preprocessNode'];\n\n        // Preprocessing allows a binding provider to mutate a node before bindings are applied to it. For example it's\n        // possible to insert new siblings after it, and/or replace the node with a different one. This can be used to\n        // implement custom binding syntaxes, such as {{ value }} for string interpolation, or custom element types that\n        // trigger insertion of <template> contents at that point in the document.\n        if (preprocessNode) {\n            while (currentChild = nextInQueue) {\n                nextInQueue = ko.virtualElements.nextSibling(currentChild);\n                preprocessNode.call(provider, currentChild);\n            }\n            // Reset nextInQueue for the next loop\n            nextInQueue = ko.virtualElements.firstChild(elementOrVirtualElement);\n        }\n\n        while (currentChild = nextInQueue) {\n            // Keep a record of the next child *before* applying bindings, in case the binding removes the current child from its position\n            nextInQueue = ko.virtualElements.nextSibling(currentChild);\n            applyBindingsToNodeAndDescendantsInternal(bindingContext, currentChild, bindingContextsMayDifferFromDomParentElement);\n        }\n    }\n\n    function applyBindingsToNodeAndDescendantsInternal (bindingContext, nodeVerified, bindingContextMayDifferFromDomParentElement) {\n        var shouldBindDescendants = true;\n\n        // Perf optimisation: Apply bindings only if...\n        // (1) We need to store the binding context on this node (because it may differ from the DOM parent node's binding context)\n        //     Note that we can't store binding contexts on non-elements (e.g., text nodes), as IE doesn't allow expando properties for those\n        // (2) It might have bindings (e.g., it has a data-bind attribute, or it's a marker for a containerless template)\n        var isElement = (nodeVerified.nodeType === 1);\n        if (isElement) // Workaround IE <= 8 HTML parsing weirdness\n            ko.virtualElements.normaliseVirtualElementDomStructure(nodeVerified);\n\n        var shouldApplyBindings = (isElement && bindingContextMayDifferFromDomParentElement)             // Case (1)\n                               || ko.bindingProvider['instance']['nodeHasBindings'](nodeVerified);       // Case (2)\n        if (shouldApplyBindings)\n            shouldBindDescendants = applyBindingsToNodeInternal(nodeVerified, null, bindingContext, bindingContextMayDifferFromDomParentElement)['shouldBindDescendants'];\n\n        if (shouldBindDescendants && !bindingDoesNotRecurseIntoElementTypes[ko.utils.tagNameLower(nodeVerified)]) {\n            // We're recursing automatically into (real or virtual) child nodes without changing binding contexts. So,\n            //  * For children of a *real* element, the binding context is certainly the same as on their DOM .parentNode,\n            //    hence bindingContextsMayDifferFromDomParentElement is false\n            //  * For children of a *virtual* element, we can't be sure. Evaluating .parentNode on those children may\n            //    skip over any number of intermediate virtual elements, any of which might define a custom binding context,\n            //    hence bindingContextsMayDifferFromDomParentElement is true\n            applyBindingsToDescendantsInternal(bindingContext, nodeVerified, /* bindingContextsMayDifferFromDomParentElement: */ !isElement);\n        }\n    }\n\n    var boundElementDomDataKey = ko.utils.domData.nextKey();\n\n\n    function topologicalSortBindings(bindings) {\n        // Depth-first sort\n        var result = [],                // The list of key/handler pairs that we will return\n            bindingsConsidered = {},    // A temporary record of which bindings are already in 'result'\n            cyclicDependencyStack = []; // Keeps track of a depth-search so that, if there's a cycle, we know which bindings caused it\n        ko.utils.objectForEach(bindings, function pushBinding(bindingKey) {\n            if (!bindingsConsidered[bindingKey]) {\n                var binding = ko['getBindingHandler'](bindingKey);\n                if (binding) {\n                    // First add dependencies (if any) of the current binding\n                    if (binding['after']) {\n                        cyclicDependencyStack.push(bindingKey);\n                        ko.utils.arrayForEach(binding['after'], function(bindingDependencyKey) {\n                            if (bindings[bindingDependencyKey]) {\n                                if (ko.utils.arrayIndexOf(cyclicDependencyStack, bindingDependencyKey) !== -1) {\n                                    throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \" + cyclicDependencyStack.join(\", \"));\n                                } else {\n                                    pushBinding(bindingDependencyKey);\n                                }\n                            }\n                        });\n                        cyclicDependencyStack.pop();\n                    }\n                    // Next add the current binding\n                    result.push({ key: bindingKey, handler: binding });\n                }\n                bindingsConsidered[bindingKey] = true;\n            }\n        });\n\n        return result;\n    }\n\n    function applyBindingsToNodeInternal(node, sourceBindings, bindingContext, bindingContextMayDifferFromDomParentElement) {\n        // Prevent multiple applyBindings calls for the same node, except when a binding value is specified\n        var alreadyBound = ko.utils.domData.get(node, boundElementDomDataKey);\n        if (!sourceBindings) {\n            if (alreadyBound) {\n                throw Error(\"You cannot apply bindings multiple times to the same element.\");\n            }\n            ko.utils.domData.set(node, boundElementDomDataKey, true);\n        }\n\n        // Optimization: Don't store the binding context on this node if it's definitely the same as on node.parentNode, because\n        // we can easily recover it just by scanning up the node's ancestors in the DOM\n        // (note: here, parent node means \"real DOM parent\" not \"virtual parent\", as there's no O(1) way to find the virtual parent)\n        if (!alreadyBound && bindingContextMayDifferFromDomParentElement)\n            ko.storedBindingContextForNode(node, bindingContext);\n\n        // Use bindings if given, otherwise fall back on asking the bindings provider to give us some bindings\n        var bindings;\n        if (sourceBindings && typeof sourceBindings !== 'function') {\n            bindings = sourceBindings;\n        } else {\n            var provider = ko.bindingProvider['instance'],\n                getBindings = provider['getBindingAccessors'] || getBindingsAndMakeAccessors;\n\n            if (sourceBindings || bindingContext._subscribable) {\n                // When an obsevable view model is used, the binding context will expose an observable _subscribable value.\n                // Get the binding from the provider within a computed observable so that we can update the bindings whenever\n                // the binding context is updated.\n                var bindingsUpdater = ko.dependentObservable(\n                    function() {\n                        bindings = sourceBindings ? sourceBindings(bindingContext, node) : getBindings.call(provider, node, bindingContext);\n                        // Register a dependency on the binding context\n                        if (bindings && bindingContext._subscribable)\n                            bindingContext._subscribable();\n                        return bindings;\n                    },\n                    null, { disposeWhenNodeIsRemoved: node }\n                );\n\n                if (!bindings || !bindingsUpdater.isActive())\n                    bindingsUpdater = null;\n            } else {\n                bindings = ko.dependencyDetection.ignore(getBindings, provider, [node, bindingContext]);\n            }\n        }\n\n        var bindingHandlerThatControlsDescendantBindings;\n        if (bindings) {\n            // Return the value accessor for a given binding. When bindings are static (won't be updated because of a binding\n            // context update), just return the value accessor from the binding. Otherwise, return a function that always gets\n            // the latest binding value and registers a dependency on the binding updater.\n            var getValueAccessor = bindingsUpdater\n                ? function(bindingKey) {\n                    return function() {\n                        return evaluateValueAccessor(bindingsUpdater()[bindingKey]);\n                    };\n                } : function(bindingKey) {\n                    return bindings[bindingKey];\n                };\n\n            // Use of allBindings as a function is maintained for backwards compatibility, but its use is deprecated\n            function allBindings() {\n                return ko.utils.objectMap(bindingsUpdater ? bindingsUpdater() : bindings, evaluateValueAccessor);\n            }\n            // The following is the 3.x allBindings API\n            allBindings['get'] = function(key) {\n                return bindings[key] && evaluateValueAccessor(getValueAccessor(key));\n            };\n            allBindings['has'] = function(key) {\n                return key in bindings;\n            };\n\n            // First put the bindings into the right order\n            var orderedBindings = topologicalSortBindings(bindings);\n\n            // Go through the sorted bindings, calling init and update for each\n            ko.utils.arrayForEach(orderedBindings, function(bindingKeyAndHandler) {\n                // Note that topologicalSortBindings has already filtered out any nonexistent binding handlers,\n                // so bindingKeyAndHandler.handler will always be nonnull.\n                var handlerInitFn = bindingKeyAndHandler.handler[\"init\"],\n                    handlerUpdateFn = bindingKeyAndHandler.handler[\"update\"],\n                    bindingKey = bindingKeyAndHandler.key;\n\n                if (node.nodeType === 8) {\n                    validateThatBindingIsAllowedForVirtualElements(bindingKey);\n                }\n\n                try {\n                    // Run init, ignoring any dependencies\n                    if (typeof handlerInitFn == \"function\") {\n                        ko.dependencyDetection.ignore(function() {\n                            var initResult = handlerInitFn(node, getValueAccessor(bindingKey), allBindings, bindingContext['$data'], bindingContext);\n\n                            // If this binding handler claims to control descendant bindings, make a note of this\n                            if (initResult && initResult['controlsDescendantBindings']) {\n                                if (bindingHandlerThatControlsDescendantBindings !== undefined)\n                                    throw new Error(\"Multiple bindings (\" + bindingHandlerThatControlsDescendantBindings + \" and \" + bindingKey + \") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");\n                                bindingHandlerThatControlsDescendantBindings = bindingKey;\n                            }\n                        });\n                    }\n\n                    // Run update in its own computed wrapper\n                    if (typeof handlerUpdateFn == \"function\") {\n                        ko.dependentObservable(\n                            function() {\n                                handlerUpdateFn(node, getValueAccessor(bindingKey), allBindings, bindingContext['$data'], bindingContext);\n                            },\n                            null,\n                            { disposeWhenNodeIsRemoved: node }\n                        );\n                    }\n                } catch (ex) {\n                    ex.message = \"Unable to process binding \\\"\" + bindingKey + \": \" + bindings[bindingKey] + \"\\\"\\nMessage: \" + ex.message;\n                    throw ex;\n                }\n            });\n        }\n\n        return {\n            'shouldBindDescendants': bindingHandlerThatControlsDescendantBindings === undefined\n        };\n    };\n\n    var storedBindingContextDomDataKey = ko.utils.domData.nextKey();\n    ko.storedBindingContextForNode = function (node, bindingContext) {\n        if (arguments.length == 2) {\n            ko.utils.domData.set(node, storedBindingContextDomDataKey, bindingContext);\n            if (bindingContext._subscribable)\n                bindingContext._subscribable._addNode(node);\n        } else {\n            return ko.utils.domData.get(node, storedBindingContextDomDataKey);\n        }\n    }\n\n    function getBindingContext(viewModelOrBindingContext) {\n        return viewModelOrBindingContext && (viewModelOrBindingContext instanceof ko.bindingContext)\n            ? viewModelOrBindingContext\n            : new ko.bindingContext(viewModelOrBindingContext);\n    }\n\n    ko.applyBindingAccessorsToNode = function (node, bindings, viewModelOrBindingContext) {\n        if (node.nodeType === 1) // If it's an element, workaround IE <= 8 HTML parsing weirdness\n            ko.virtualElements.normaliseVirtualElementDomStructure(node);\n        return applyBindingsToNodeInternal(node, bindings, getBindingContext(viewModelOrBindingContext), true);\n    };\n\n    ko.applyBindingsToNode = function (node, bindings, viewModelOrBindingContext) {\n        var context = getBindingContext(viewModelOrBindingContext);\n        return ko.applyBindingAccessorsToNode(node, makeBindingAccessors(bindings, context, node), context);\n    };\n\n    ko.applyBindingsToDescendants = function(viewModelOrBindingContext, rootNode) {\n        if (rootNode.nodeType === 1 || rootNode.nodeType === 8)\n            applyBindingsToDescendantsInternal(getBindingContext(viewModelOrBindingContext), rootNode, true);\n    };\n\n    ko.applyBindings = function (viewModelOrBindingContext, rootNode) {\n        if (rootNode && (rootNode.nodeType !== 1) && (rootNode.nodeType !== 8))\n            throw new Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");\n        rootNode = rootNode || window.document.body; // Make \"rootNode\" parameter optional\n\n        applyBindingsToNodeAndDescendantsInternal(getBindingContext(viewModelOrBindingContext), rootNode, true);\n    };\n\n    // Retrieving binding context from arbitrary nodes\n    ko.contextFor = function(node) {\n        // We can only do something meaningful for elements and comment nodes (in particular, not text nodes, as IE can't store domdata for them)\n        switch (node.nodeType) {\n            case 1:\n            case 8:\n                var context = ko.storedBindingContextForNode(node);\n                if (context) return context;\n                if (node.parentNode) return ko.contextFor(node.parentNode);\n                break;\n        }\n        return undefined;\n    };\n    ko.dataFor = function(node) {\n        var context = ko.contextFor(node);\n        return context ? context['$data'] : undefined;\n    };\n\n    ko.exportSymbol('bindingHandlers', ko.bindingHandlers);\n    ko.exportSymbol('applyBindings', ko.applyBindings);\n    ko.exportSymbol('applyBindingsToDescendants', ko.applyBindingsToDescendants);\n    ko.exportSymbol('applyBindingAccessorsToNode', ko.applyBindingAccessorsToNode);\n    ko.exportSymbol('applyBindingsToNode', ko.applyBindingsToNode);\n    ko.exportSymbol('contextFor', ko.contextFor);\n    ko.exportSymbol('dataFor', ko.dataFor);\n})();\nvar attrHtmlToJavascriptMap = { 'class': 'className', 'for': 'htmlFor' };\nko.bindingHandlers['attr'] = {\n    'update': function(element, valueAccessor, allBindings) {\n        var value = ko.utils.unwrapObservable(valueAccessor()) || {};\n        ko.utils.objectForEach(value, function(attrName, attrValue) {\n            attrValue = ko.utils.unwrapObservable(attrValue);\n\n            // To cover cases like \"attr: { checked:someProp }\", we want to remove the attribute entirely\n            // when someProp is a \"no value\"-like value (strictly null, false, or undefined)\n            // (because the absence of the \"checked\" attr is how to mark an element as not checked, etc.)\n            var toRemove = (attrValue === false) || (attrValue === null) || (attrValue === undefined);\n            if (toRemove)\n                element.removeAttribute(attrName);\n\n            // In IE <= 7 and IE8 Quirks Mode, you have to use the Javascript property name instead of the\n            // HTML attribute name for certain attributes. IE8 Standards Mode supports the correct behavior,\n            // but instead of figuring out the mode, we'll just set the attribute through the Javascript\n            // property for IE <= 8.\n            if (ko.utils.ieVersion <= 8 && attrName in attrHtmlToJavascriptMap) {\n                attrName = attrHtmlToJavascriptMap[attrName];\n                if (toRemove)\n                    element.removeAttribute(attrName);\n                else\n                    element[attrName] = attrValue;\n            } else if (!toRemove) {\n                element.setAttribute(attrName, attrValue.toString());\n            }\n\n            // Treat \"name\" specially - although you can think of it as an attribute, it also needs\n            // special handling on older versions of IE (https://github.com/SteveSanderson/knockout/pull/333)\n            // Deliberately being case-sensitive here because XHTML would regard \"Name\" as a different thing\n            // entirely, and there's no strong reason to allow for such casing in HTML.\n            if (attrName === \"name\") {\n                ko.utils.setElementName(element, toRemove ? \"\" : attrValue.toString());\n            }\n        });\n    }\n};\n(function() {\n\nko.bindingHandlers['checked'] = {\n    'after': ['value', 'attr'],\n    'init': function (element, valueAccessor, allBindings) {\n        function checkedValue() {\n            return allBindings['has']('checkedValue')\n                ? ko.utils.unwrapObservable(allBindings.get('checkedValue'))\n                : element.value;\n        }\n\n        function updateModel() {\n            // This updates the model value from the view value.\n            // It runs in response to DOM events (click) and changes in checkedValue.\n            var isChecked = element.checked,\n                elemValue = useCheckedValue ? checkedValue() : isChecked;\n\n            // When we're first setting up this computed, don't change any model state.\n            if (!shouldSet) {\n                return;\n            }\n\n            // We can ignore unchecked radio buttons, because some other radio\n            // button will be getting checked, and that one can take care of updating state.\n            if (isRadio && !isChecked) {\n                return;\n            }\n\n            var modelValue = ko.dependencyDetection.ignore(valueAccessor);\n            if (isValueArray) {\n                if (oldElemValue !== elemValue) {\n                    // When we're responding to the checkedValue changing, and the element is\n                    // currently checked, replace the old elem value with the new elem value\n                    // in the model array.\n                    if (isChecked) {\n                        ko.utils.addOrRemoveItem(modelValue, elemValue, true);\n                        ko.utils.addOrRemoveItem(modelValue, oldElemValue, false);\n                    }\n\n                    oldElemValue = elemValue;\n                } else {\n                    // When we're responding to the user having checked/unchecked a checkbox,\n                    // add/remove the element value to the model array.\n                    ko.utils.addOrRemoveItem(modelValue, elemValue, isChecked);\n                }\n            } else {\n                ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'checked', elemValue, true);\n            }\n        };\n\n        function updateView() {\n            // This updates the view value from the model value.\n            // It runs in response to changes in the bound (checked) value.\n            var modelValue = ko.utils.unwrapObservable(valueAccessor());\n\n            if (isValueArray) {\n                // When a checkbox is bound to an array, being checked represents its value being present in that array\n                element.checked = ko.utils.arrayIndexOf(modelValue, checkedValue()) >= 0;\n            } else if (isCheckbox) {\n                // When a checkbox is bound to any other value (not an array), being checked represents the value being trueish\n                element.checked = modelValue;\n            } else {\n                // For radio buttons, being checked means that the radio button's value corresponds to the model value\n                element.checked = (checkedValue() === modelValue);\n            }\n        };\n\n        var isCheckbox = element.type == \"checkbox\",\n            isRadio = element.type == \"radio\";\n\n        // Only bind to check boxes and radio buttons\n        if (!isCheckbox && !isRadio) {\n            return;\n        }\n\n        var isValueArray = isCheckbox && (ko.utils.unwrapObservable(valueAccessor()) instanceof Array),\n            oldElemValue = isValueArray ? checkedValue() : undefined,\n            useCheckedValue = isRadio || isValueArray,\n            shouldSet = false;\n\n        // IE 6 won't allow radio buttons to be selected unless they have a name\n        if (isRadio && !element.name)\n            ko.bindingHandlers['uniqueName']['init'](element, function() { return true });\n\n        // Set up two computeds to update the binding:\n\n        // The first responds to changes in the checkedValue value and to element clicks\n        ko.dependentObservable(updateModel, null, { disposeWhenNodeIsRemoved: element });\n        ko.utils.registerEventHandler(element, \"click\", updateModel);\n\n        // The second responds to changes in the model value (the one associated with the checked binding)\n        ko.dependentObservable(updateView, null, { disposeWhenNodeIsRemoved: element });\n\n        shouldSet = true;\n    }\n};\nko.expressionRewriting.twoWayBindings['checked'] = true;\n\nko.bindingHandlers['checkedValue'] = {\n    'update': function (element, valueAccessor) {\n        element.value = ko.utils.unwrapObservable(valueAccessor());\n    }\n};\n\n})();var classesWrittenByBindingKey = '__ko__cssValue';\nko.bindingHandlers['css'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (typeof value == \"object\") {\n            ko.utils.objectForEach(value, function(className, shouldHaveClass) {\n                shouldHaveClass = ko.utils.unwrapObservable(shouldHaveClass);\n                ko.utils.toggleDomNodeCssClass(element, className, shouldHaveClass);\n            });\n        } else {\n            value = String(value || ''); // Make sure we don't try to store or set a non-string value\n            ko.utils.toggleDomNodeCssClass(element, element[classesWrittenByBindingKey], false);\n            element[classesWrittenByBindingKey] = value;\n            ko.utils.toggleDomNodeCssClass(element, value, true);\n        }\n    }\n};\nko.bindingHandlers['enable'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (value && element.disabled)\n            element.removeAttribute(\"disabled\");\n        else if ((!value) && (!element.disabled))\n            element.disabled = true;\n    }\n};\n\nko.bindingHandlers['disable'] = {\n    'update': function (element, valueAccessor) {\n        ko.bindingHandlers['enable']['update'](element, function() { return !ko.utils.unwrapObservable(valueAccessor()) });\n    }\n};\n// For certain common events (currently just 'click'), allow a simplified data-binding syntax\n// e.g. click:handler instead of the usual full-length event:{click:handler}\nfunction makeEventHandlerShortcut(eventName) {\n    ko.bindingHandlers[eventName] = {\n        'init': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var newValueAccessor = function () {\n                var result = {};\n                result[eventName] = valueAccessor();\n                return result;\n            };\n            return ko.bindingHandlers['event']['init'].call(this, element, newValueAccessor, allBindings, viewModel, bindingContext);\n        }\n    }\n}\n\nko.bindingHandlers['event'] = {\n    'init' : function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var eventsToHandle = valueAccessor() || {};\n        ko.utils.objectForEach(eventsToHandle, function(eventName) {\n            if (typeof eventName == \"string\") {\n                ko.utils.registerEventHandler(element, eventName, function (event) {\n                    var handlerReturnValue;\n                    var handlerFunction = valueAccessor()[eventName];\n                    if (!handlerFunction)\n                        return;\n\n                    try {\n                        // Take all the event args, and prefix with the viewmodel\n                        var argsForHandler = ko.utils.makeArray(arguments);\n                        viewModel = bindingContext['$data'];\n                        argsForHandler.unshift(viewModel);\n                        handlerReturnValue = handlerFunction.apply(viewModel, argsForHandler);\n                    } finally {\n                        if (handlerReturnValue !== true) { // Normally we want to prevent default action. Developer can override this be explicitly returning true.\n                            if (event.preventDefault)\n                                event.preventDefault();\n                            else\n                                event.returnValue = false;\n                        }\n                    }\n\n                    var bubble = allBindings.get(eventName + 'Bubble') !== false;\n                    if (!bubble) {\n                        event.cancelBubble = true;\n                        if (event.stopPropagation)\n                            event.stopPropagation();\n                    }\n                });\n            }\n        });\n    }\n};\n// \"foreach: someExpression\" is equivalent to \"template: { foreach: someExpression }\"\n// \"foreach: { data: someExpression, afterAdd: myfn }\" is equivalent to \"template: { foreach: someExpression, afterAdd: myfn }\"\nko.bindingHandlers['foreach'] = {\n    makeTemplateValueAccessor: function(valueAccessor) {\n        return function() {\n            var modelValue = valueAccessor(),\n                unwrappedValue = ko.utils.peekObservable(modelValue);    // Unwrap without setting a dependency here\n\n            // If unwrappedValue is the array, pass in the wrapped value on its own\n            // The value will be unwrapped and tracked within the template binding\n            // (See https://github.com/SteveSanderson/knockout/issues/523)\n            if ((!unwrappedValue) || typeof unwrappedValue.length == \"number\")\n                return { 'foreach': modelValue, 'templateEngine': ko.nativeTemplateEngine.instance };\n\n            // If unwrappedValue.data is the array, preserve all relevant options and unwrap again value so we get updates\n            ko.utils.unwrapObservable(modelValue);\n            return {\n                'foreach': unwrappedValue['data'],\n                'as': unwrappedValue['as'],\n                'includeDestroyed': unwrappedValue['includeDestroyed'],\n                'afterAdd': unwrappedValue['afterAdd'],\n                'beforeRemove': unwrappedValue['beforeRemove'],\n                'afterRender': unwrappedValue['afterRender'],\n                'beforeMove': unwrappedValue['beforeMove'],\n                'afterMove': unwrappedValue['afterMove'],\n                'templateEngine': ko.nativeTemplateEngine.instance\n            };\n        };\n    },\n    'init': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n        return ko.bindingHandlers['template']['init'](element, ko.bindingHandlers['foreach'].makeTemplateValueAccessor(valueAccessor));\n    },\n    'update': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n        return ko.bindingHandlers['template']['update'](element, ko.bindingHandlers['foreach'].makeTemplateValueAccessor(valueAccessor), allBindings, viewModel, bindingContext);\n    }\n};\nko.expressionRewriting.bindingRewriteValidators['foreach'] = false; // Can't rewrite control flow bindings\nko.virtualElements.allowedBindings['foreach'] = true;\nvar hasfocusUpdatingProperty = '__ko_hasfocusUpdating';\nvar hasfocusLastValue = '__ko_hasfocusLastValue';\nko.bindingHandlers['hasfocus'] = {\n    'init': function(element, valueAccessor, allBindings) {\n        var handleElementFocusChange = function(isFocused) {\n            // Where possible, ignore which event was raised and determine focus state using activeElement,\n            // as this avoids phantom focus/blur events raised when changing tabs in modern browsers.\n            // However, not all KO-targeted browsers (Firefox 2) support activeElement. For those browsers,\n            // prevent a loss of focus when changing tabs/windows by setting a flag that prevents hasfocus\n            // from calling 'blur()' on the element when it loses focus.\n            // Discussion at https://github.com/SteveSanderson/knockout/pull/352\n            element[hasfocusUpdatingProperty] = true;\n            var ownerDoc = element.ownerDocument;\n            if (\"activeElement\" in ownerDoc) {\n                var active;\n                try {\n                    active = ownerDoc.activeElement;\n                } catch(e) {\n                    // IE9 throws if you access activeElement during page load (see issue #703)\n                    active = ownerDoc.body;\n                }\n                isFocused = (active === element);\n            }\n            var modelValue = valueAccessor();\n            ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'hasfocus', isFocused, true);\n\n            //cache the latest value, so we can avoid unnecessarily calling focus/blur in the update function\n            element[hasfocusLastValue] = isFocused;\n            element[hasfocusUpdatingProperty] = false;\n        };\n        var handleElementFocusIn = handleElementFocusChange.bind(null, true);\n        var handleElementFocusOut = handleElementFocusChange.bind(null, false);\n\n        ko.utils.registerEventHandler(element, \"focus\", handleElementFocusIn);\n        ko.utils.registerEventHandler(element, \"focusin\", handleElementFocusIn); // For IE\n        ko.utils.registerEventHandler(element, \"blur\",  handleElementFocusOut);\n        ko.utils.registerEventHandler(element, \"focusout\",  handleElementFocusOut); // For IE\n    },\n    'update': function(element, valueAccessor) {\n        var value = !!ko.utils.unwrapObservable(valueAccessor()); //force boolean to compare with last value\n        if (!element[hasfocusUpdatingProperty] && element[hasfocusLastValue] !== value) {\n            value ? element.focus() : element.blur();\n            ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, value ? \"focusin\" : \"focusout\"]); // For IE, which doesn't reliably fire \"focus\" or \"blur\" events synchronously\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['hasfocus'] = true;\n\nko.bindingHandlers['hasFocus'] = ko.bindingHandlers['hasfocus']; // Make \"hasFocus\" an alias\nko.expressionRewriting.twoWayBindings['hasFocus'] = true;\nko.bindingHandlers['html'] = {\n    'init': function() {\n        // Prevent binding on the dynamically-injected HTML (as developers are unlikely to expect that, and it has security implications)\n        return { 'controlsDescendantBindings': true };\n    },\n    'update': function (element, valueAccessor) {\n        // setHtml will unwrap the value if needed\n        ko.utils.setHtml(element, valueAccessor());\n    }\n};\nvar withIfDomDataKey = ko.utils.domData.nextKey();\n// Makes a binding like with or if\nfunction makeWithIfBinding(bindingKey, isWith, isNot, makeContextCallback) {\n    ko.bindingHandlers[bindingKey] = {\n        'init': function(element) {\n            ko.utils.domData.set(element, withIfDomDataKey, {});\n            return { 'controlsDescendantBindings': true };\n        },\n        'update': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var withIfData = ko.utils.domData.get(element, withIfDomDataKey),\n                dataValue = ko.utils.unwrapObservable(valueAccessor()),\n                shouldDisplay = !isNot !== !dataValue, // equivalent to isNot ? !dataValue : !!dataValue\n                isFirstRender = !withIfData.savedNodes,\n                needsRefresh = isFirstRender || isWith || (shouldDisplay !== withIfData.didDisplayOnLastUpdate);\n\n            if (needsRefresh) {\n                if (isFirstRender) {\n                    withIfData.savedNodes = ko.utils.cloneNodes(ko.virtualElements.childNodes(element), true /* shouldCleanNodes */);\n                }\n\n                if (shouldDisplay) {\n                    if (!isFirstRender) {\n                        ko.virtualElements.setDomNodeChildren(element, ko.utils.cloneNodes(withIfData.savedNodes));\n                    }\n                    ko.applyBindingsToDescendants(makeContextCallback ? makeContextCallback(bindingContext, dataValue) : bindingContext, element);\n                } else {\n                    ko.virtualElements.emptyNode(element);\n                }\n\n                withIfData.didDisplayOnLastUpdate = shouldDisplay;\n            }\n        }\n    };\n    ko.expressionRewriting.bindingRewriteValidators[bindingKey] = false; // Can't rewrite control flow bindings\n    ko.virtualElements.allowedBindings[bindingKey] = true;\n}\n\n// Construct the actual binding handlers\nmakeWithIfBinding('if');\nmakeWithIfBinding('ifnot', false /* isWith */, true /* isNot */);\nmakeWithIfBinding('with', true /* isWith */, false /* isNot */,\n    function(bindingContext, dataValue) {\n        return bindingContext['createChildContext'](dataValue);\n    }\n);\nko.bindingHandlers['options'] = {\n    'init': function(element) {\n        if (ko.utils.tagNameLower(element) !== \"select\")\n            throw new Error(\"options binding applies only to SELECT elements\");\n\n        // Remove all existing <option>s.\n        while (element.length > 0) {\n            element.remove(0);\n        }\n\n        // Ensures that the binding processor doesn't try to bind the options\n        return { 'controlsDescendantBindings': true };\n    },\n    'update': function (element, valueAccessor, allBindings) {\n        function selectedOptions() {\n            return ko.utils.arrayFilter(element.options, function (node) { return node.selected; });\n        }\n\n        var selectWasPreviouslyEmpty = element.length == 0;\n        var previousScrollTop = (!selectWasPreviouslyEmpty && element.multiple) ? element.scrollTop : null;\n\n        var unwrappedArray = ko.utils.unwrapObservable(valueAccessor());\n        var includeDestroyed = allBindings.get('optionsIncludeDestroyed');\n        var captionPlaceholder = {};\n        var captionValue;\n        var previousSelectedValues;\n        if (element.multiple) {\n            previousSelectedValues = ko.utils.arrayMap(selectedOptions(), ko.selectExtensions.readValue);\n        } else {\n            previousSelectedValues = element.selectedIndex >= 0 ? [ ko.selectExtensions.readValue(element.options[element.selectedIndex]) ] : [];\n        }\n\n        if (unwrappedArray) {\n            if (typeof unwrappedArray.length == \"undefined\") // Coerce single value into array\n                unwrappedArray = [unwrappedArray];\n\n            // Filter out any entries marked as destroyed\n            var filteredArray = ko.utils.arrayFilter(unwrappedArray, function(item) {\n                return includeDestroyed || item === undefined || item === null || !ko.utils.unwrapObservable(item['_destroy']);\n            });\n\n            // If caption is included, add it to the array\n            if (allBindings['has']('optionsCaption')) {\n                captionValue = ko.utils.unwrapObservable(allBindings.get('optionsCaption'));\n                // If caption value is null or undefined, don't show a caption\n                if (captionValue !== null && captionValue !== undefined) {\n                    filteredArray.unshift(captionPlaceholder);\n                }\n            }\n        } else {\n            // If a falsy value is provided (e.g. null), we'll simply empty the select element\n            unwrappedArray = [];\n        }\n\n        function applyToObject(object, predicate, defaultValue) {\n            var predicateType = typeof predicate;\n            if (predicateType == \"function\")    // Given a function; run it against the data value\n                return predicate(object);\n            else if (predicateType == \"string\") // Given a string; treat it as a property name on the data value\n                return object[predicate];\n            else                                // Given no optionsText arg; use the data value itself\n                return defaultValue;\n        }\n\n        // The following functions can run at two different times:\n        // The first is when the whole array is being updated directly from this binding handler.\n        // The second is when an observable value for a specific array entry is updated.\n        // oldOptions will be empty in the first case, but will be filled with the previously generated option in the second.\n        var itemUpdate = false;\n        function optionForArrayItem(arrayEntry, index, oldOptions) {\n            if (oldOptions.length) {\n                previousSelectedValues = oldOptions[0].selected ? [ ko.selectExtensions.readValue(oldOptions[0]) ] : [];\n                itemUpdate = true;\n            }\n            var option = document.createElement(\"option\");\n            if (arrayEntry === captionPlaceholder) {\n                ko.utils.setTextContent(option, allBindings.get('optionsCaption'));\n                ko.selectExtensions.writeValue(option, undefined);\n            } else {\n                // Apply a value to the option element\n                var optionValue = applyToObject(arrayEntry, allBindings.get('optionsValue'), arrayEntry);\n                ko.selectExtensions.writeValue(option, ko.utils.unwrapObservable(optionValue));\n\n                // Apply some text to the option element\n                var optionText = applyToObject(arrayEntry, allBindings.get('optionsText'), optionValue);\n                ko.utils.setTextContent(option, optionText);\n            }\n            return [option];\n        }\n\n        function setSelectionCallback(arrayEntry, newOptions) {\n            // IE6 doesn't like us to assign selection to OPTION nodes before they're added to the document.\n            // That's why we first added them without selection. Now it's time to set the selection.\n            if (previousSelectedValues.length) {\n                var isSelected = ko.utils.arrayIndexOf(previousSelectedValues, ko.selectExtensions.readValue(newOptions[0])) >= 0;\n                ko.utils.setOptionNodeSelectionState(newOptions[0], isSelected);\n\n                // If this option was changed from being selected during a single-item update, notify the change\n                if (itemUpdate && !isSelected)\n                    ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, \"change\"]);\n            }\n        }\n\n        var callback = setSelectionCallback;\n        if (allBindings['has']('optionsAfterRender')) {\n            callback = function(arrayEntry, newOptions) {\n                setSelectionCallback(arrayEntry, newOptions);\n                ko.dependencyDetection.ignore(allBindings.get('optionsAfterRender'), null, [newOptions[0], arrayEntry !== captionPlaceholder ? arrayEntry : undefined]);\n            }\n        }\n\n        ko.utils.setDomNodeChildrenFromArrayMapping(element, filteredArray, optionForArrayItem, null, callback);\n\n        // Determine if the selection has changed as a result of updating the options list\n        var selectionChanged;\n        if (element.multiple) {\n            // For a multiple-select box, compare the new selection count to the previous one\n            // But if nothing was selected before, the selection can't have changed\n            selectionChanged = previousSelectedValues.length && selectedOptions().length < previousSelectedValues.length;\n        } else {\n            // For a single-select box, compare the current value to the previous value\n            // But if nothing was selected before or nothing is selected now, just look for a change in selection\n            selectionChanged = (previousSelectedValues.length && element.selectedIndex >= 0)\n                ? (ko.selectExtensions.readValue(element.options[element.selectedIndex]) !== previousSelectedValues[0])\n                : (previousSelectedValues.length || element.selectedIndex >= 0);\n        }\n\n        // Ensure consistency between model value and selected option.\n        // If the dropdown was changed so that selection is no longer the same,\n        // notify the value or selectedOptions binding.\n        if (selectionChanged)\n            ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, \"change\"]);\n\n        // Workaround for IE bug\n        ko.utils.ensureSelectElementIsRenderedCorrectly(element);\n\n        if (previousScrollTop && Math.abs(previousScrollTop - element.scrollTop) > 20)\n            element.scrollTop = previousScrollTop;\n    }\n};\nko.bindingHandlers['options'].optionValueDomDataKey = ko.utils.domData.nextKey();\nko.bindingHandlers['selectedOptions'] = {\n    'after': ['options', 'foreach'],\n    'init': function (element, valueAccessor, allBindings) {\n        ko.utils.registerEventHandler(element, \"change\", function () {\n            var value = valueAccessor(), valueToWrite = [];\n            ko.utils.arrayForEach(element.getElementsByTagName(\"option\"), function(node) {\n                if (node.selected)\n                    valueToWrite.push(ko.selectExtensions.readValue(node));\n            });\n            ko.expressionRewriting.writeValueToProperty(value, allBindings, 'selectedOptions', valueToWrite);\n        });\n    },\n    'update': function (element, valueAccessor) {\n        if (ko.utils.tagNameLower(element) != \"select\")\n            throw new Error(\"values binding applies only to SELECT elements\");\n\n        var newValue = ko.utils.unwrapObservable(valueAccessor());\n        if (newValue && typeof newValue.length == \"number\") {\n            ko.utils.arrayForEach(element.getElementsByTagName(\"option\"), function(node) {\n                var isSelected = ko.utils.arrayIndexOf(newValue, ko.selectExtensions.readValue(node)) >= 0;\n                ko.utils.setOptionNodeSelectionState(node, isSelected);\n            });\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['selectedOptions'] = true;\nko.bindingHandlers['style'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor() || {});\n        ko.utils.objectForEach(value, function(styleName, styleValue) {\n            styleValue = ko.utils.unwrapObservable(styleValue);\n            element.style[styleName] = styleValue || \"\"; // Empty string removes the value, whereas null/undefined have no effect\n        });\n    }\n};\nko.bindingHandlers['submit'] = {\n    'init': function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        if (typeof valueAccessor() != \"function\")\n            throw new Error(\"The value for a submit binding must be a function\");\n        ko.utils.registerEventHandler(element, \"submit\", function (event) {\n            var handlerReturnValue;\n            var value = valueAccessor();\n            try { handlerReturnValue = value.call(bindingContext['$data'], element); }\n            finally {\n                if (handlerReturnValue !== true) { // Normally we want to prevent default action. Developer can override this be explicitly returning true.\n                    if (event.preventDefault)\n                        event.preventDefault();\n                    else\n                        event.returnValue = false;\n                }\n            }\n        });\n    }\n};\nko.bindingHandlers['text'] = {\n\t'init': function() {\n\t\t// Prevent binding on the dynamically-injected text node (as developers are unlikely to expect that, and it has security implications).\n\t\t// It should also make things faster, as we no longer have to consider whether the text node might be bindable.\n        return { 'controlsDescendantBindings': true };\n\t},\n    'update': function (element, valueAccessor) {\n        ko.utils.setTextContent(element, valueAccessor());\n    }\n};\nko.virtualElements.allowedBindings['text'] = true;\nko.bindingHandlers['uniqueName'] = {\n    'init': function (element, valueAccessor) {\n        if (valueAccessor()) {\n            var name = \"ko_unique_\" + (++ko.bindingHandlers['uniqueName'].currentIndex);\n            ko.utils.setElementName(element, name);\n        }\n    }\n};\nko.bindingHandlers['uniqueName'].currentIndex = 0;\nko.bindingHandlers['value'] = {\n    'after': ['options', 'foreach'],\n    'init': function (element, valueAccessor, allBindings) {\n        // Always catch \"change\" event; possibly other events too if asked\n        var eventsToCatch = [\"change\"];\n        var requestedEventsToCatch = allBindings.get(\"valueUpdate\");\n        var propertyChangedFired = false;\n        if (requestedEventsToCatch) {\n            if (typeof requestedEventsToCatch == \"string\") // Allow both individual event names, and arrays of event names\n                requestedEventsToCatch = [requestedEventsToCatch];\n            ko.utils.arrayPushAll(eventsToCatch, requestedEventsToCatch);\n            eventsToCatch = ko.utils.arrayGetDistinctValues(eventsToCatch);\n        }\n\n        var valueUpdateHandler = function() {\n            propertyChangedFired = false;\n            var modelValue = valueAccessor();\n            var elementValue = ko.selectExtensions.readValue(element);\n            ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'value', elementValue);\n        }\n\n        // Workaround for https://github.com/SteveSanderson/knockout/issues/122\n        // IE doesn't fire \"change\" events on textboxes if the user selects a value from its autocomplete list\n        var ieAutoCompleteHackNeeded = ko.utils.ieVersion && element.tagName.toLowerCase() == \"input\" && element.type == \"text\"\n                                       && element.autocomplete != \"off\" && (!element.form || element.form.autocomplete != \"off\");\n        if (ieAutoCompleteHackNeeded && ko.utils.arrayIndexOf(eventsToCatch, \"propertychange\") == -1) {\n            ko.utils.registerEventHandler(element, \"propertychange\", function () { propertyChangedFired = true });\n            ko.utils.registerEventHandler(element, \"blur\", function() {\n                if (propertyChangedFired) {\n                    valueUpdateHandler();\n                }\n            });\n        }\n\n        ko.utils.arrayForEach(eventsToCatch, function(eventName) {\n            // The syntax \"after<eventname>\" means \"run the handler asynchronously after the event\"\n            // This is useful, for example, to catch \"keydown\" events after the browser has updated the control\n            // (otherwise, ko.selectExtensions.readValue(this) will receive the control's value *before* the key event)\n            var handler = valueUpdateHandler;\n            if (ko.utils.stringStartsWith(eventName, \"after\")) {\n                handler = function() { setTimeout(valueUpdateHandler, 0) };\n                eventName = eventName.substring(\"after\".length);\n            }\n            ko.utils.registerEventHandler(element, eventName, handler);\n        });\n    },\n    'update': function (element, valueAccessor) {\n        var valueIsSelectOption = ko.utils.tagNameLower(element) === \"select\";\n        var newValue = ko.utils.unwrapObservable(valueAccessor());\n        var elementValue = ko.selectExtensions.readValue(element);\n        var valueHasChanged = (newValue !== elementValue);\n\n        if (valueHasChanged) {\n            var applyValueAction = function () { ko.selectExtensions.writeValue(element, newValue); };\n            applyValueAction();\n\n            if (valueIsSelectOption) {\n                if (newValue !== ko.selectExtensions.readValue(element)) {\n                    // If you try to set a model value that can't be represented in an already-populated dropdown, reject that change,\n                    // because you're not allowed to have a model value that disagrees with a visible UI selection.\n                    ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, \"change\"]);\n                } else {\n                    // Workaround for IE6 bug: It won't reliably apply values to SELECT nodes during the same execution thread\n                    // right after you've changed the set of OPTION nodes on it. So for that node type, we'll schedule a second thread\n                    // to apply the value as well.\n                    setTimeout(applyValueAction, 0);\n                }\n            }\n        }\n    }\n};\nko.expressionRewriting.twoWayBindings['value'] = true;\nko.bindingHandlers['visible'] = {\n    'update': function (element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        var isCurrentlyVisible = !(element.style.display == \"none\");\n        if (value && !isCurrentlyVisible)\n            element.style.display = \"\";\n        else if ((!value) && isCurrentlyVisible)\n            element.style.display = \"none\";\n    }\n};\n// 'click' is just a shorthand for the usual full-length event:{click:handler}\nmakeEventHandlerShortcut('click');\n// If you want to make a custom template engine,\n//\n// [1] Inherit from this class (like ko.nativeTemplateEngine does)\n// [2] Override 'renderTemplateSource', supplying a function with this signature:\n//\n//        function (templateSource, bindingContext, options) {\n//            // - templateSource.text() is the text of the template you should render\n//            // - bindingContext.$data is the data you should pass into the template\n//            //   - you might also want to make bindingContext.$parent, bindingContext.$parents,\n//            //     and bindingContext.$root available in the template too\n//            // - options gives you access to any other properties set on \"data-bind: { template: options }\"\n//            //\n//            // Return value: an array of DOM nodes\n//        }\n//\n// [3] Override 'createJavaScriptEvaluatorBlock', supplying a function with this signature:\n//\n//        function (script) {\n//            // Return value: Whatever syntax means \"Evaluate the JavaScript statement 'script' and output the result\"\n//            //               For example, the jquery.tmpl template engine converts 'someScript' to '${ someScript }'\n//        }\n//\n//     This is only necessary if you want to allow data-bind attributes to reference arbitrary template variables.\n//     If you don't want to allow that, you can set the property 'allowTemplateRewriting' to false (like ko.nativeTemplateEngine does)\n//     and then you don't need to override 'createJavaScriptEvaluatorBlock'.\n\nko.templateEngine = function () { };\n\nko.templateEngine.prototype['renderTemplateSource'] = function (templateSource, bindingContext, options) {\n    throw new Error(\"Override renderTemplateSource\");\n};\n\nko.templateEngine.prototype['createJavaScriptEvaluatorBlock'] = function (script) {\n    throw new Error(\"Override createJavaScriptEvaluatorBlock\");\n};\n\nko.templateEngine.prototype['makeTemplateSource'] = function(template, templateDocument) {\n    // Named template\n    if (typeof template == \"string\") {\n        templateDocument = templateDocument || document;\n        var elem = templateDocument.getElementById(template);\n        if (!elem)\n            throw new Error(\"Cannot find template with ID \" + template);\n        return new ko.templateSources.domElement(elem);\n    } else if ((template.nodeType == 1) || (template.nodeType == 8)) {\n        // Anonymous template\n        return new ko.templateSources.anonymousTemplate(template);\n    } else\n        throw new Error(\"Unknown template type: \" + template);\n};\n\nko.templateEngine.prototype['renderTemplate'] = function (template, bindingContext, options, templateDocument) {\n    var templateSource = this['makeTemplateSource'](template, templateDocument);\n    return this['renderTemplateSource'](templateSource, bindingContext, options);\n};\n\nko.templateEngine.prototype['isTemplateRewritten'] = function (template, templateDocument) {\n    // Skip rewriting if requested\n    if (this['allowTemplateRewriting'] === false)\n        return true;\n    return this['makeTemplateSource'](template, templateDocument)['data'](\"isRewritten\");\n};\n\nko.templateEngine.prototype['rewriteTemplate'] = function (template, rewriterCallback, templateDocument) {\n    var templateSource = this['makeTemplateSource'](template, templateDocument);\n    var rewritten = rewriterCallback(templateSource['text']());\n    templateSource['text'](rewritten);\n    templateSource['data'](\"isRewritten\", true);\n};\n\nko.exportSymbol('templateEngine', ko.templateEngine);\n\nko.templateRewriting = (function () {\n    var memoizeDataBindingAttributeSyntaxRegex = /(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi;\n    var memoizeVirtualContainerBindingSyntaxRegex = /<!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*-->/g;\n\n    function validateDataBindValuesForRewriting(keyValueArray) {\n        var allValidators = ko.expressionRewriting.bindingRewriteValidators;\n        for (var i = 0; i < keyValueArray.length; i++) {\n            var key = keyValueArray[i]['key'];\n            if (allValidators.hasOwnProperty(key)) {\n                var validator = allValidators[key];\n\n                if (typeof validator === \"function\") {\n                    var possibleErrorMessage = validator(keyValueArray[i]['value']);\n                    if (possibleErrorMessage)\n                        throw new Error(possibleErrorMessage);\n                } else if (!validator) {\n                    throw new Error(\"This template engine does not support the '\" + key + \"' binding within its templates\");\n                }\n            }\n        }\n    }\n\n    function constructMemoizedTagReplacement(dataBindAttributeValue, tagToRetain, nodeName, templateEngine) {\n        var dataBindKeyValueArray = ko.expressionRewriting.parseObjectLiteral(dataBindAttributeValue);\n        validateDataBindValuesForRewriting(dataBindKeyValueArray);\n        var rewrittenDataBindAttributeValue = ko.expressionRewriting.preProcessBindings(dataBindKeyValueArray, {'valueAccessors':true});\n\n        // For no obvious reason, Opera fails to evaluate rewrittenDataBindAttributeValue unless it's wrapped in an additional\n        // anonymous function, even though Opera's built-in debugger can evaluate it anyway. No other browser requires this\n        // extra indirection.\n        var applyBindingsToNextSiblingScript =\n            \"ko.__tr_ambtns(function($context,$element){return(function(){return{ \" + rewrittenDataBindAttributeValue + \" } })()},'\" + nodeName.toLowerCase() + \"')\";\n        return templateEngine['createJavaScriptEvaluatorBlock'](applyBindingsToNextSiblingScript) + tagToRetain;\n    }\n\n    return {\n        ensureTemplateIsRewritten: function (template, templateEngine, templateDocument) {\n            if (!templateEngine['isTemplateRewritten'](template, templateDocument))\n                templateEngine['rewriteTemplate'](template, function (htmlString) {\n                    return ko.templateRewriting.memoizeBindingAttributeSyntax(htmlString, templateEngine);\n                }, templateDocument);\n        },\n\n        memoizeBindingAttributeSyntax: function (htmlString, templateEngine) {\n            return htmlString.replace(memoizeDataBindingAttributeSyntaxRegex, function () {\n                return constructMemoizedTagReplacement(/* dataBindAttributeValue: */ arguments[4], /* tagToRetain: */ arguments[1], /* nodeName: */ arguments[2], templateEngine);\n            }).replace(memoizeVirtualContainerBindingSyntaxRegex, function() {\n                return constructMemoizedTagReplacement(/* dataBindAttributeValue: */ arguments[1], /* tagToRetain: */ \"<!-- ko -->\", /* nodeName: */ \"#comment\", templateEngine);\n            });\n        },\n\n        applyMemoizedBindingsToNextSibling: function (bindings, nodeName) {\n            return ko.memoization.memoize(function (domNode, bindingContext) {\n                var nodeToBind = domNode.nextSibling;\n                if (nodeToBind && nodeToBind.nodeName.toLowerCase() === nodeName) {\n                    ko.applyBindingAccessorsToNode(nodeToBind, bindings, bindingContext);\n                }\n            });\n        }\n    }\n})();\n\n\n// Exported only because it has to be referenced by string lookup from within rewritten template\nko.exportSymbol('__tr_ambtns', ko.templateRewriting.applyMemoizedBindingsToNextSibling);\n(function() {\n    // A template source represents a read/write way of accessing a template. This is to eliminate the need for template loading/saving\n    // logic to be duplicated in every template engine (and means they can all work with anonymous templates, etc.)\n    //\n    // Two are provided by default:\n    //  1. ko.templateSources.domElement       - reads/writes the text content of an arbitrary DOM element\n    //  2. ko.templateSources.anonymousElement - uses ko.utils.domData to read/write text *associated* with the DOM element, but\n    //                                           without reading/writing the actual element text content, since it will be overwritten\n    //                                           with the rendered template output.\n    // You can implement your own template source if you want to fetch/store templates somewhere other than in DOM elements.\n    // Template sources need to have the following functions:\n    //   text() \t\t\t- returns the template text from your storage location\n    //   text(value)\t\t- writes the supplied template text to your storage location\n    //   data(key)\t\t\t- reads values stored using data(key, value) - see below\n    //   data(key, value)\t- associates \"value\" with this template and the key \"key\". Is used to store information like \"isRewritten\".\n    //\n    // Optionally, template sources can also have the following functions:\n    //   nodes()            - returns a DOM element containing the nodes of this template, where available\n    //   nodes(value)       - writes the given DOM element to your storage location\n    // If a DOM element is available for a given template source, template engines are encouraged to use it in preference over text()\n    // for improved speed. However, all templateSources must supply text() even if they don't supply nodes().\n    //\n    // Once you've implemented a templateSource, make your template engine use it by subclassing whatever template engine you were\n    // using and overriding \"makeTemplateSource\" to return an instance of your custom template source.\n\n    ko.templateSources = {};\n\n    // ---- ko.templateSources.domElement -----\n\n    ko.templateSources.domElement = function(element) {\n        this.domElement = element;\n    }\n\n    ko.templateSources.domElement.prototype['text'] = function(/* valueToWrite */) {\n        var tagNameLower = ko.utils.tagNameLower(this.domElement),\n            elemContentsProperty = tagNameLower === \"script\" ? \"text\"\n                                 : tagNameLower === \"textarea\" ? \"value\"\n                                 : \"innerHTML\";\n\n        if (arguments.length == 0) {\n            return this.domElement[elemContentsProperty];\n        } else {\n            var valueToWrite = arguments[0];\n            if (elemContentsProperty === \"innerHTML\")\n                ko.utils.setHtml(this.domElement, valueToWrite);\n            else\n                this.domElement[elemContentsProperty] = valueToWrite;\n        }\n    };\n\n    var dataDomDataPrefix = ko.utils.domData.nextKey() + \"_\";\n    ko.templateSources.domElement.prototype['data'] = function(key /*, valueToWrite */) {\n        if (arguments.length === 1) {\n            return ko.utils.domData.get(this.domElement, dataDomDataPrefix + key);\n        } else {\n            ko.utils.domData.set(this.domElement, dataDomDataPrefix + key, arguments[1]);\n        }\n    };\n\n    // ---- ko.templateSources.anonymousTemplate -----\n    // Anonymous templates are normally saved/retrieved as DOM nodes through \"nodes\".\n    // For compatibility, you can also read \"text\"; it will be serialized from the nodes on demand.\n    // Writing to \"text\" is still supported, but then the template data will not be available as DOM nodes.\n\n    var anonymousTemplatesDomDataKey = ko.utils.domData.nextKey();\n    ko.templateSources.anonymousTemplate = function(element) {\n        this.domElement = element;\n    }\n    ko.templateSources.anonymousTemplate.prototype = new ko.templateSources.domElement();\n    ko.templateSources.anonymousTemplate.prototype.constructor = ko.templateSources.anonymousTemplate;\n    ko.templateSources.anonymousTemplate.prototype['text'] = function(/* valueToWrite */) {\n        if (arguments.length == 0) {\n            var templateData = ko.utils.domData.get(this.domElement, anonymousTemplatesDomDataKey) || {};\n            if (templateData.textData === undefined && templateData.containerData)\n                templateData.textData = templateData.containerData.innerHTML;\n            return templateData.textData;\n        } else {\n            var valueToWrite = arguments[0];\n            ko.utils.domData.set(this.domElement, anonymousTemplatesDomDataKey, {textData: valueToWrite});\n        }\n    };\n    ko.templateSources.domElement.prototype['nodes'] = function(/* valueToWrite */) {\n        if (arguments.length == 0) {\n            var templateData = ko.utils.domData.get(this.domElement, anonymousTemplatesDomDataKey) || {};\n            return templateData.containerData;\n        } else {\n            var valueToWrite = arguments[0];\n            ko.utils.domData.set(this.domElement, anonymousTemplatesDomDataKey, {containerData: valueToWrite});\n        }\n    };\n\n    ko.exportSymbol('templateSources', ko.templateSources);\n    ko.exportSymbol('templateSources.domElement', ko.templateSources.domElement);\n    ko.exportSymbol('templateSources.anonymousTemplate', ko.templateSources.anonymousTemplate);\n})();\n(function () {\n    var _templateEngine;\n    ko.setTemplateEngine = function (templateEngine) {\n        if ((templateEngine != undefined) && !(templateEngine instanceof ko.templateEngine))\n            throw new Error(\"templateEngine must inherit from ko.templateEngine\");\n        _templateEngine = templateEngine;\n    }\n\n    function invokeForEachNodeInContinuousRange(firstNode, lastNode, action) {\n        var node, nextInQueue = firstNode, firstOutOfRangeNode = ko.virtualElements.nextSibling(lastNode);\n        while (nextInQueue && ((node = nextInQueue) !== firstOutOfRangeNode)) {\n            nextInQueue = ko.virtualElements.nextSibling(node);\n            action(node, nextInQueue);\n        }\n    }\n\n    function activateBindingsOnContinuousNodeArray(continuousNodeArray, bindingContext) {\n        // To be used on any nodes that have been rendered by a template and have been inserted into some parent element\n        // Walks through continuousNodeArray (which *must* be continuous, i.e., an uninterrupted sequence of sibling nodes, because\n        // the algorithm for walking them relies on this), and for each top-level item in the virtual-element sense,\n        // (1) Does a regular \"applyBindings\" to associate bindingContext with this node and to activate any non-memoized bindings\n        // (2) Unmemoizes any memos in the DOM subtree (e.g., to activate bindings that had been memoized during template rewriting)\n\n        if (continuousNodeArray.length) {\n            var firstNode = continuousNodeArray[0],\n                lastNode = continuousNodeArray[continuousNodeArray.length - 1],\n                parentNode = firstNode.parentNode,\n                provider = ko.bindingProvider['instance'],\n                preprocessNode = provider['preprocessNode'];\n\n            if (preprocessNode) {\n                invokeForEachNodeInContinuousRange(firstNode, lastNode, function(node, nextNodeInRange) {\n                    var nodePreviousSibling = node.previousSibling;\n                    var newNodes = preprocessNode.call(provider, node);\n                    if (newNodes) {\n                        if (node === firstNode)\n                            firstNode = newNodes[0] || nextNodeInRange;\n                        if (node === lastNode)\n                            lastNode = newNodes[newNodes.length - 1] || nodePreviousSibling;\n                    }\n                });\n\n                // Because preprocessNode can change the nodes, including the first and last nodes, update continuousNodeArray to match.\n                // We need the full set, including inner nodes, because the unmemoize step might remove the first node (and so the real\n                // first node needs to be in the array).\n                continuousNodeArray.length = 0;\n                if (!firstNode) { // preprocessNode might have removed all the nodes, in which case there's nothing left to do\n                    return;\n                }\n                if (firstNode === lastNode) {\n                    continuousNodeArray.push(firstNode);\n                } else {\n                    continuousNodeArray.push(firstNode, lastNode);\n                    ko.utils.fixUpContinuousNodeArray(continuousNodeArray, parentNode);\n                }\n            }\n\n            // Need to applyBindings *before* unmemoziation, because unmemoization might introduce extra nodes (that we don't want to re-bind)\n            // whereas a regular applyBindings won't introduce new memoized nodes\n            invokeForEachNodeInContinuousRange(firstNode, lastNode, function(node) {\n                if (node.nodeType === 1 || node.nodeType === 8)\n                    ko.applyBindings(bindingContext, node);\n            });\n            invokeForEachNodeInContinuousRange(firstNode, lastNode, function(node) {\n                if (node.nodeType === 1 || node.nodeType === 8)\n                    ko.memoization.unmemoizeDomNodeAndDescendants(node, [bindingContext]);\n            });\n\n            // Make sure any changes done by applyBindings or unmemoize are reflected in the array\n            ko.utils.fixUpContinuousNodeArray(continuousNodeArray, parentNode);\n        }\n    }\n\n    function getFirstNodeFromPossibleArray(nodeOrNodeArray) {\n        return nodeOrNodeArray.nodeType ? nodeOrNodeArray\n                                        : nodeOrNodeArray.length > 0 ? nodeOrNodeArray[0]\n                                        : null;\n    }\n\n    function executeTemplate(targetNodeOrNodeArray, renderMode, template, bindingContext, options) {\n        options = options || {};\n        var firstTargetNode = targetNodeOrNodeArray && getFirstNodeFromPossibleArray(targetNodeOrNodeArray);\n        var templateDocument = firstTargetNode && firstTargetNode.ownerDocument;\n        var templateEngineToUse = (options['templateEngine'] || _templateEngine);\n        ko.templateRewriting.ensureTemplateIsRewritten(template, templateEngineToUse, templateDocument);\n        var renderedNodesArray = templateEngineToUse['renderTemplate'](template, bindingContext, options, templateDocument);\n\n        // Loosely check result is an array of DOM nodes\n        if ((typeof renderedNodesArray.length != \"number\") || (renderedNodesArray.length > 0 && typeof renderedNodesArray[0].nodeType != \"number\"))\n            throw new Error(\"Template engine must return an array of DOM nodes\");\n\n        var haveAddedNodesToParent = false;\n        switch (renderMode) {\n            case \"replaceChildren\":\n                ko.virtualElements.setDomNodeChildren(targetNodeOrNodeArray, renderedNodesArray);\n                haveAddedNodesToParent = true;\n                break;\n            case \"replaceNode\":\n                ko.utils.replaceDomNodes(targetNodeOrNodeArray, renderedNodesArray);\n                haveAddedNodesToParent = true;\n                break;\n            case \"ignoreTargetNode\": break;\n            default:\n                throw new Error(\"Unknown renderMode: \" + renderMode);\n        }\n\n        if (haveAddedNodesToParent) {\n            activateBindingsOnContinuousNodeArray(renderedNodesArray, bindingContext);\n            if (options['afterRender'])\n                ko.dependencyDetection.ignore(options['afterRender'], null, [renderedNodesArray, bindingContext['$data']]);\n        }\n\n        return renderedNodesArray;\n    }\n\n    ko.renderTemplate = function (template, dataOrBindingContext, options, targetNodeOrNodeArray, renderMode) {\n        options = options || {};\n        if ((options['templateEngine'] || _templateEngine) == undefined)\n            throw new Error(\"Set a template engine before calling renderTemplate\");\n        renderMode = renderMode || \"replaceChildren\";\n\n        if (targetNodeOrNodeArray) {\n            var firstTargetNode = getFirstNodeFromPossibleArray(targetNodeOrNodeArray);\n\n            var whenToDispose = function () { return (!firstTargetNode) || !ko.utils.domNodeIsAttachedToDocument(firstTargetNode); }; // Passive disposal (on next evaluation)\n            var activelyDisposeWhenNodeIsRemoved = (firstTargetNode && renderMode == \"replaceNode\") ? firstTargetNode.parentNode : firstTargetNode;\n\n            return ko.dependentObservable( // So the DOM is automatically updated when any dependency changes\n                function () {\n                    // Ensure we've got a proper binding context to work with\n                    var bindingContext = (dataOrBindingContext && (dataOrBindingContext instanceof ko.bindingContext))\n                        ? dataOrBindingContext\n                        : new ko.bindingContext(ko.utils.unwrapObservable(dataOrBindingContext));\n\n                    // Support selecting template as a function of the data being rendered\n                    var templateName = typeof(template) == 'function' ? template(bindingContext['$data'], bindingContext) : template;\n\n                    var renderedNodesArray = executeTemplate(targetNodeOrNodeArray, renderMode, templateName, bindingContext, options);\n                    if (renderMode == \"replaceNode\") {\n                        targetNodeOrNodeArray = renderedNodesArray;\n                        firstTargetNode = getFirstNodeFromPossibleArray(targetNodeOrNodeArray);\n                    }\n                },\n                null,\n                { disposeWhen: whenToDispose, disposeWhenNodeIsRemoved: activelyDisposeWhenNodeIsRemoved }\n            );\n        } else {\n            // We don't yet have a DOM node to evaluate, so use a memo and render the template later when there is a DOM node\n            return ko.memoization.memoize(function (domNode) {\n                ko.renderTemplate(template, dataOrBindingContext, options, domNode, \"replaceNode\");\n            });\n        }\n    };\n\n    ko.renderTemplateForEach = function (template, arrayOrObservableArray, options, targetNode, parentBindingContext) {\n        // Since setDomNodeChildrenFromArrayMapping always calls executeTemplateForArrayItem and then\n        // activateBindingsCallback for added items, we can store the binding context in the former to use in the latter.\n        var arrayItemContext;\n\n        // This will be called by setDomNodeChildrenFromArrayMapping to get the nodes to add to targetNode\n        var executeTemplateForArrayItem = function (arrayValue, index) {\n            // Support selecting template as a function of the data being rendered\n            arrayItemContext = parentBindingContext['createChildContext'](arrayValue, options['as'], function(context) {\n                context['$index'] = index;\n            });\n            var templateName = typeof(template) == 'function' ? template(arrayValue, arrayItemContext) : template;\n            return executeTemplate(null, \"ignoreTargetNode\", templateName, arrayItemContext, options);\n        }\n\n        // This will be called whenever setDomNodeChildrenFromArrayMapping has added nodes to targetNode\n        var activateBindingsCallback = function(arrayValue, addedNodesArray, index) {\n            activateBindingsOnContinuousNodeArray(addedNodesArray, arrayItemContext);\n            if (options['afterRender'])\n                options['afterRender'](addedNodesArray, arrayValue);\n        };\n\n        return ko.dependentObservable(function () {\n            var unwrappedArray = ko.utils.unwrapObservable(arrayOrObservableArray) || [];\n            if (typeof unwrappedArray.length == \"undefined\") // Coerce single value into array\n                unwrappedArray = [unwrappedArray];\n\n            // Filter out any entries marked as destroyed\n            var filteredArray = ko.utils.arrayFilter(unwrappedArray, function(item) {\n                return options['includeDestroyed'] || item === undefined || item === null || !ko.utils.unwrapObservable(item['_destroy']);\n            });\n\n            // Call setDomNodeChildrenFromArrayMapping, ignoring any observables unwrapped within (most likely from a callback function).\n            // If the array items are observables, though, they will be unwrapped in executeTemplateForArrayItem and managed within setDomNodeChildrenFromArrayMapping.\n            ko.dependencyDetection.ignore(ko.utils.setDomNodeChildrenFromArrayMapping, null, [targetNode, filteredArray, executeTemplateForArrayItem, options, activateBindingsCallback]);\n\n        }, null, { disposeWhenNodeIsRemoved: targetNode });\n    };\n\n    var templateComputedDomDataKey = ko.utils.domData.nextKey();\n    function disposeOldComputedAndStoreNewOne(element, newComputed) {\n        var oldComputed = ko.utils.domData.get(element, templateComputedDomDataKey);\n        if (oldComputed && (typeof(oldComputed.dispose) == 'function'))\n            oldComputed.dispose();\n        ko.utils.domData.set(element, templateComputedDomDataKey, (newComputed && newComputed.isActive()) ? newComputed : undefined);\n    }\n\n    ko.bindingHandlers['template'] = {\n        'init': function(element, valueAccessor) {\n            // Support anonymous templates\n            var bindingValue = ko.utils.unwrapObservable(valueAccessor());\n            if (typeof bindingValue == \"string\" || bindingValue['name']) {\n                // It's a named template - clear the element\n                ko.virtualElements.emptyNode(element);\n            } else {\n                // It's an anonymous template - store the element contents, then clear the element\n                var templateNodes = ko.virtualElements.childNodes(element),\n                    container = ko.utils.moveCleanedNodesToContainerElement(templateNodes); // This also removes the nodes from their current parent\n                new ko.templateSources.anonymousTemplate(element)['nodes'](container);\n            }\n            return { 'controlsDescendantBindings': true };\n        },\n        'update': function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n            var templateName = ko.utils.unwrapObservable(valueAccessor()),\n                options = {},\n                shouldDisplay = true,\n                dataValue,\n                templateComputed = null;\n\n            if (typeof templateName != \"string\") {\n                options = templateName;\n                templateName = ko.utils.unwrapObservable(options['name']);\n\n                // Support \"if\"/\"ifnot\" conditions\n                if ('if' in options)\n                    shouldDisplay = ko.utils.unwrapObservable(options['if']);\n                if (shouldDisplay && 'ifnot' in options)\n                    shouldDisplay = !ko.utils.unwrapObservable(options['ifnot']);\n\n                dataValue = ko.utils.unwrapObservable(options['data']);\n            }\n\n            if ('foreach' in options) {\n                // Render once for each data point (treating data set as empty if shouldDisplay==false)\n                var dataArray = (shouldDisplay && options['foreach']) || [];\n                templateComputed = ko.renderTemplateForEach(templateName || element, dataArray, options, element, bindingContext);\n            } else if (!shouldDisplay) {\n                ko.virtualElements.emptyNode(element);\n            } else {\n                // Render once for this single data point (or use the viewModel if no data was provided)\n                var innerBindingContext = ('data' in options) ?\n                    bindingContext['createChildContext'](dataValue, options['as']) :  // Given an explitit 'data' value, we create a child binding context for it\n                    bindingContext;                                                        // Given no explicit 'data' value, we retain the same binding context\n                templateComputed = ko.renderTemplate(templateName || element, innerBindingContext, options, element);\n            }\n\n            // It only makes sense to have a single template computed per element (otherwise which one should have its output displayed?)\n            disposeOldComputedAndStoreNewOne(element, templateComputed);\n        }\n    };\n\n    // Anonymous templates can't be rewritten. Give a nice error message if you try to do it.\n    ko.expressionRewriting.bindingRewriteValidators['template'] = function(bindingValue) {\n        var parsedBindingValue = ko.expressionRewriting.parseObjectLiteral(bindingValue);\n\n        if ((parsedBindingValue.length == 1) && parsedBindingValue[0]['unknown'])\n            return null; // It looks like a string literal, not an object literal, so treat it as a named template (which is allowed for rewriting)\n\n        if (ko.expressionRewriting.keyValueArrayContainsKey(parsedBindingValue, \"name\"))\n            return null; // Named templates can be rewritten, so return \"no error\"\n        return \"This template engine does not support anonymous templates nested within its templates\";\n    };\n\n    ko.virtualElements.allowedBindings['template'] = true;\n})();\n\nko.exportSymbol('setTemplateEngine', ko.setTemplateEngine);\nko.exportSymbol('renderTemplate', ko.renderTemplate);\n\nko.utils.compareArrays = (function () {\n    var statusNotInOld = 'added', statusNotInNew = 'deleted';\n\n    // Simple calculation based on Levenshtein distance.\n    function compareArrays(oldArray, newArray, options) {\n        // For backward compatibility, if the third arg is actually a bool, interpret\n        // it as the old parameter 'dontLimitMoves'. Newer code should use { dontLimitMoves: true }.\n        options = (typeof options === 'boolean') ? { 'dontLimitMoves': options } : (options || {});\n        oldArray = oldArray || [];\n        newArray = newArray || [];\n\n        if (oldArray.length <= newArray.length)\n            return compareSmallArrayToBigArray(oldArray, newArray, statusNotInOld, statusNotInNew, options);\n        else\n            return compareSmallArrayToBigArray(newArray, oldArray, statusNotInNew, statusNotInOld, options);\n    }\n\n    function compareSmallArrayToBigArray(smlArray, bigArray, statusNotInSml, statusNotInBig, options) {\n        var myMin = Math.min,\n            myMax = Math.max,\n            editDistanceMatrix = [],\n            smlIndex, smlIndexMax = smlArray.length,\n            bigIndex, bigIndexMax = bigArray.length,\n            compareRange = (bigIndexMax - smlIndexMax) || 1,\n            maxDistance = smlIndexMax + bigIndexMax + 1,\n            thisRow, lastRow,\n            bigIndexMaxForRow, bigIndexMinForRow;\n\n        for (smlIndex = 0; smlIndex <= smlIndexMax; smlIndex++) {\n            lastRow = thisRow;\n            editDistanceMatrix.push(thisRow = []);\n            bigIndexMaxForRow = myMin(bigIndexMax, smlIndex + compareRange);\n            bigIndexMinForRow = myMax(0, smlIndex - 1);\n            for (bigIndex = bigIndexMinForRow; bigIndex <= bigIndexMaxForRow; bigIndex++) {\n                if (!bigIndex)\n                    thisRow[bigIndex] = smlIndex + 1;\n                else if (!smlIndex)  // Top row - transform empty array into new array via additions\n                    thisRow[bigIndex] = bigIndex + 1;\n                else if (smlArray[smlIndex - 1] === bigArray[bigIndex - 1])\n                    thisRow[bigIndex] = lastRow[bigIndex - 1];                  // copy value (no edit)\n                else {\n                    var northDistance = lastRow[bigIndex] || maxDistance;       // not in big (deletion)\n                    var westDistance = thisRow[bigIndex - 1] || maxDistance;    // not in small (addition)\n                    thisRow[bigIndex] = myMin(northDistance, westDistance) + 1;\n                }\n            }\n        }\n\n        var editScript = [], meMinusOne, notInSml = [], notInBig = [];\n        for (smlIndex = smlIndexMax, bigIndex = bigIndexMax; smlIndex || bigIndex;) {\n            meMinusOne = editDistanceMatrix[smlIndex][bigIndex] - 1;\n            if (bigIndex && meMinusOne === editDistanceMatrix[smlIndex][bigIndex-1]) {\n                notInSml.push(editScript[editScript.length] = {     // added\n                    'status': statusNotInSml,\n                    'value': bigArray[--bigIndex],\n                    'index': bigIndex });\n            } else if (smlIndex && meMinusOne === editDistanceMatrix[smlIndex - 1][bigIndex]) {\n                notInBig.push(editScript[editScript.length] = {     // deleted\n                    'status': statusNotInBig,\n                    'value': smlArray[--smlIndex],\n                    'index': smlIndex });\n            } else {\n                --bigIndex;\n                --smlIndex;\n                if (!options['sparse']) {\n                    editScript.push({\n                        'status': \"retained\",\n                        'value': bigArray[bigIndex] });\n                }\n            }\n        }\n\n        if (notInSml.length && notInBig.length) {\n            // Set a limit on the number of consecutive non-matching comparisons; having it a multiple of\n            // smlIndexMax keeps the time complexity of this algorithm linear.\n            var limitFailedCompares = smlIndexMax * 10, failedCompares,\n                a, d, notInSmlItem, notInBigItem;\n            // Go through the items that have been added and deleted and try to find matches between them.\n            for (failedCompares = a = 0; (options['dontLimitMoves'] || failedCompares < limitFailedCompares) && (notInSmlItem = notInSml[a]); a++) {\n                for (d = 0; notInBigItem = notInBig[d]; d++) {\n                    if (notInSmlItem['value'] === notInBigItem['value']) {\n                        notInSmlItem['moved'] = notInBigItem['index'];\n                        notInBigItem['moved'] = notInSmlItem['index'];\n                        notInBig.splice(d,1);       // This item is marked as moved; so remove it from notInBig list\n                        failedCompares = d = 0;     // Reset failed compares count because we're checking for consecutive failures\n                        break;\n                    }\n                }\n                failedCompares += d;\n            }\n        }\n        return editScript.reverse();\n    }\n\n    return compareArrays;\n})();\n\nko.exportSymbol('utils.compareArrays', ko.utils.compareArrays);\n\n(function () {\n    // Objective:\n    // * Given an input array, a container DOM node, and a function from array elements to arrays of DOM nodes,\n    //   map the array elements to arrays of DOM nodes, concatenate together all these arrays, and use them to populate the container DOM node\n    // * Next time we're given the same combination of things (with the array possibly having mutated), update the container DOM node\n    //   so that its children is again the concatenation of the mappings of the array elements, but don't re-map any array elements that we\n    //   previously mapped - retain those nodes, and just insert/delete other ones\n\n    // \"callbackAfterAddingNodes\" will be invoked after any \"mapping\"-generated nodes are inserted into the container node\n    // You can use this, for example, to activate bindings on those nodes.\n\n    function mapNodeAndRefreshWhenChanged(containerNode, mapping, valueToMap, callbackAfterAddingNodes, index) {\n        // Map this array value inside a dependentObservable so we re-map when any dependency changes\n        var mappedNodes = [];\n        var dependentObservable = ko.dependentObservable(function() {\n            var newMappedNodes = mapping(valueToMap, index, ko.utils.fixUpContinuousNodeArray(mappedNodes, containerNode)) || [];\n\n            // On subsequent evaluations, just replace the previously-inserted DOM nodes\n            if (mappedNodes.length > 0) {\n                ko.utils.replaceDomNodes(mappedNodes, newMappedNodes);\n                if (callbackAfterAddingNodes)\n                    ko.dependencyDetection.ignore(callbackAfterAddingNodes, null, [valueToMap, newMappedNodes, index]);\n            }\n\n            // Replace the contents of the mappedNodes array, thereby updating the record\n            // of which nodes would be deleted if valueToMap was itself later removed\n            mappedNodes.splice(0, mappedNodes.length);\n            ko.utils.arrayPushAll(mappedNodes, newMappedNodes);\n        }, null, { disposeWhenNodeIsRemoved: containerNode, disposeWhen: function() { return !ko.utils.anyDomNodeIsAttachedToDocument(mappedNodes); } });\n        return { mappedNodes : mappedNodes, dependentObservable : (dependentObservable.isActive() ? dependentObservable : undefined) };\n    }\n\n    var lastMappingResultDomDataKey = ko.utils.domData.nextKey();\n\n    ko.utils.setDomNodeChildrenFromArrayMapping = function (domNode, array, mapping, options, callbackAfterAddingNodes) {\n        // Compare the provided array against the previous one\n        array = array || [];\n        options = options || {};\n        var isFirstExecution = ko.utils.domData.get(domNode, lastMappingResultDomDataKey) === undefined;\n        var lastMappingResult = ko.utils.domData.get(domNode, lastMappingResultDomDataKey) || [];\n        var lastArray = ko.utils.arrayMap(lastMappingResult, function (x) { return x.arrayEntry; });\n        var editScript = ko.utils.compareArrays(lastArray, array, options['dontLimitMoves']);\n\n        // Build the new mapping result\n        var newMappingResult = [];\n        var lastMappingResultIndex = 0;\n        var newMappingResultIndex = 0;\n\n        var nodesToDelete = [];\n        var itemsToProcess = [];\n        var itemsForBeforeRemoveCallbacks = [];\n        var itemsForMoveCallbacks = [];\n        var itemsForAfterAddCallbacks = [];\n        var mapData;\n\n        function itemMovedOrRetained(editScriptIndex, oldPosition) {\n            mapData = lastMappingResult[oldPosition];\n            if (newMappingResultIndex !== oldPosition)\n                itemsForMoveCallbacks[editScriptIndex] = mapData;\n            // Since updating the index might change the nodes, do so before calling fixUpContinuousNodeArray\n            mapData.indexObservable(newMappingResultIndex++);\n            ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes, domNode);\n            newMappingResult.push(mapData);\n            itemsToProcess.push(mapData);\n        }\n\n        function callCallback(callback, items) {\n            if (callback) {\n                for (var i = 0, n = items.length; i < n; i++) {\n                    if (items[i]) {\n                        ko.utils.arrayForEach(items[i].mappedNodes, function(node) {\n                            callback(node, i, items[i].arrayEntry);\n                        });\n                    }\n                }\n            }\n        }\n\n        for (var i = 0, editScriptItem, movedIndex; editScriptItem = editScript[i]; i++) {\n            movedIndex = editScriptItem['moved'];\n            switch (editScriptItem['status']) {\n                case \"deleted\":\n                    if (movedIndex === undefined) {\n                        mapData = lastMappingResult[lastMappingResultIndex];\n\n                        // Stop tracking changes to the mapping for these nodes\n                        if (mapData.dependentObservable)\n                            mapData.dependentObservable.dispose();\n\n                        // Queue these nodes for later removal\n                        nodesToDelete.push.apply(nodesToDelete, ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes, domNode));\n                        if (options['beforeRemove']) {\n                            itemsForBeforeRemoveCallbacks[i] = mapData;\n                            itemsToProcess.push(mapData);\n                        }\n                    }\n                    lastMappingResultIndex++;\n                    break;\n\n                case \"retained\":\n                    itemMovedOrRetained(i, lastMappingResultIndex++);\n                    break;\n\n                case \"added\":\n                    if (movedIndex !== undefined) {\n                        itemMovedOrRetained(i, movedIndex);\n                    } else {\n                        mapData = { arrayEntry: editScriptItem['value'], indexObservable: ko.observable(newMappingResultIndex++) };\n                        newMappingResult.push(mapData);\n                        itemsToProcess.push(mapData);\n                        if (!isFirstExecution)\n                            itemsForAfterAddCallbacks[i] = mapData;\n                    }\n                    break;\n            }\n        }\n\n        // Call beforeMove first before any changes have been made to the DOM\n        callCallback(options['beforeMove'], itemsForMoveCallbacks);\n\n        // Next remove nodes for deleted items (or just clean if there's a beforeRemove callback)\n        ko.utils.arrayForEach(nodesToDelete, options['beforeRemove'] ? ko.cleanNode : ko.removeNode);\n\n        // Next add/reorder the remaining items (will include deleted items if there's a beforeRemove callback)\n        for (var i = 0, nextNode = ko.virtualElements.firstChild(domNode), lastNode, node; mapData = itemsToProcess[i]; i++) {\n            // Get nodes for newly added items\n            if (!mapData.mappedNodes)\n                ko.utils.extend(mapData, mapNodeAndRefreshWhenChanged(domNode, mapping, mapData.arrayEntry, callbackAfterAddingNodes, mapData.indexObservable));\n\n            // Put nodes in the right place if they aren't there already\n            for (var j = 0; node = mapData.mappedNodes[j]; nextNode = node.nextSibling, lastNode = node, j++) {\n                if (node !== nextNode)\n                    ko.virtualElements.insertAfter(domNode, node, lastNode);\n            }\n\n            // Run the callbacks for newly added nodes (for example, to apply bindings, etc.)\n            if (!mapData.initialized && callbackAfterAddingNodes) {\n                callbackAfterAddingNodes(mapData.arrayEntry, mapData.mappedNodes, mapData.indexObservable);\n                mapData.initialized = true;\n            }\n        }\n\n        // If there's a beforeRemove callback, call it after reordering.\n        // Note that we assume that the beforeRemove callback will usually be used to remove the nodes using\n        // some sort of animation, which is why we first reorder the nodes that will be removed. If the\n        // callback instead removes the nodes right away, it would be more efficient to skip reordering them.\n        // Perhaps we'll make that change in the future if this scenario becomes more common.\n        callCallback(options['beforeRemove'], itemsForBeforeRemoveCallbacks);\n\n        // Finally call afterMove and afterAdd callbacks\n        callCallback(options['afterMove'], itemsForMoveCallbacks);\n        callCallback(options['afterAdd'], itemsForAfterAddCallbacks);\n\n        // Store a copy of the array items we just considered so we can difference it next time\n        ko.utils.domData.set(domNode, lastMappingResultDomDataKey, newMappingResult);\n    }\n})();\n\nko.exportSymbol('utils.setDomNodeChildrenFromArrayMapping', ko.utils.setDomNodeChildrenFromArrayMapping);\nko.nativeTemplateEngine = function () {\n    this['allowTemplateRewriting'] = false;\n}\n\nko.nativeTemplateEngine.prototype = new ko.templateEngine();\nko.nativeTemplateEngine.prototype.constructor = ko.nativeTemplateEngine;\nko.nativeTemplateEngine.prototype['renderTemplateSource'] = function (templateSource, bindingContext, options) {\n    var useNodesIfAvailable = !(ko.utils.ieVersion < 9), // IE<9 cloneNode doesn't work properly\n        templateNodesFunc = useNodesIfAvailable ? templateSource['nodes'] : null,\n        templateNodes = templateNodesFunc ? templateSource['nodes']() : null;\n\n    if (templateNodes) {\n        return ko.utils.makeArray(templateNodes.cloneNode(true).childNodes);\n    } else {\n        var templateText = templateSource['text']();\n        return ko.utils.parseHtmlFragment(templateText);\n    }\n};\n\nko.nativeTemplateEngine.instance = new ko.nativeTemplateEngine();\nko.setTemplateEngine(ko.nativeTemplateEngine.instance);\n\nko.exportSymbol('nativeTemplateEngine', ko.nativeTemplateEngine);\n(function() {\n    ko.jqueryTmplTemplateEngine = function () {\n        // Detect which version of jquery-tmpl you're using. Unfortunately jquery-tmpl\n        // doesn't expose a version number, so we have to infer it.\n        // Note that as of Knockout 1.3, we only support jQuery.tmpl 1.0.0pre and later,\n        // which KO internally refers to as version \"2\", so older versions are no longer detected.\n        var jQueryTmplVersion = this.jQueryTmplVersion = (function() {\n            if ((typeof(jQuery) == \"undefined\") || !(jQuery['tmpl']))\n                return 0;\n            // Since it exposes no official version number, we use our own numbering system. To be updated as jquery-tmpl evolves.\n            try {\n                if (jQuery['tmpl']['tag']['tmpl']['open'].toString().indexOf('__') >= 0) {\n                    // Since 1.0.0pre, custom tags should append markup to an array called \"__\"\n                    return 2; // Final version of jquery.tmpl\n                }\n            } catch(ex) { /* Apparently not the version we were looking for */ }\n\n            return 1; // Any older version that we don't support\n        })();\n\n        function ensureHasReferencedJQueryTemplates() {\n            if (jQueryTmplVersion < 2)\n                throw new Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");\n        }\n\n        function executeTemplate(compiledTemplate, data, jQueryTemplateOptions) {\n            return jQuery['tmpl'](compiledTemplate, data, jQueryTemplateOptions);\n        }\n\n        this['renderTemplateSource'] = function(templateSource, bindingContext, options) {\n            options = options || {};\n            ensureHasReferencedJQueryTemplates();\n\n            // Ensure we have stored a precompiled version of this template (don't want to reparse on every render)\n            var precompiled = templateSource['data']('precompiled');\n            if (!precompiled) {\n                var templateText = templateSource['text']() || \"\";\n                // Wrap in \"with($whatever.koBindingContext) { ... }\"\n                templateText = \"{{ko_with $item.koBindingContext}}\" + templateText + \"{{/ko_with}}\";\n\n                precompiled = jQuery['template'](null, templateText);\n                templateSource['data']('precompiled', precompiled);\n            }\n\n            var data = [bindingContext['$data']]; // Prewrap the data in an array to stop jquery.tmpl from trying to unwrap any arrays\n            var jQueryTemplateOptions = jQuery['extend']({ 'koBindingContext': bindingContext }, options['templateOptions']);\n\n            var resultNodes = executeTemplate(precompiled, data, jQueryTemplateOptions);\n            resultNodes['appendTo'](document.createElement(\"div\")); // Using \"appendTo\" forces jQuery/jQuery.tmpl to perform necessary cleanup work\n\n            jQuery['fragments'] = {}; // Clear jQuery's fragment cache to avoid a memory leak after a large number of template renders\n            return resultNodes;\n        };\n\n        this['createJavaScriptEvaluatorBlock'] = function(script) {\n            return \"{{ko_code ((function() { return \" + script + \" })()) }}\";\n        };\n\n        this['addTemplate'] = function(templateName, templateMarkup) {\n            document.write(\"<script type='text/html' id='\" + templateName + \"'>\" + templateMarkup + \"<\" + \"/script>\");\n        };\n\n        if (jQueryTmplVersion > 0) {\n            jQuery['tmpl']['tag']['ko_code'] = {\n                open: \"__.push($1 || '');\"\n            };\n            jQuery['tmpl']['tag']['ko_with'] = {\n                open: \"with($1) {\",\n                close: \"} \"\n            };\n        }\n    };\n\n    ko.jqueryTmplTemplateEngine.prototype = new ko.templateEngine();\n    ko.jqueryTmplTemplateEngine.prototype.constructor = ko.jqueryTmplTemplateEngine;\n\n    // Use this one by default *only if jquery.tmpl is referenced*\n    var jqueryTmplTemplateEngineInstance = new ko.jqueryTmplTemplateEngine();\n    if (jqueryTmplTemplateEngineInstance.jQueryTmplVersion > 0)\n        ko.setTemplateEngine(jqueryTmplTemplateEngineInstance);\n\n    ko.exportSymbol('jqueryTmplTemplateEngine', ko.jqueryTmplTemplateEngine);\n})();\n}));\n}());\n})();\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import ko from \"knockout\";\r\nimport KnockoutClassBindingProvider from \"../dist/knockout-classBindingProvider.min\";\r\n\r\nko.classBindingProvider = KnockoutClassBindingProvider;\r\n\r\ndescribe(\"knockout-classBindingProvider\", function() {\r\n  var instance;\r\n\r\n  beforeEach(function() {\r\n    instance = new KnockoutClassBindingProvider();\r\n  });\r\n\r\n  it(\"should create the binding provider\", function() {\r\n    expect(ko.classBindingProvider).toBeDefined();\r\n  });\r\n\r\n  describe(\"constructing a classBindingProvider\", function() {\r\n    it(\"should read the bindings object\", function() {\r\n      var bindings = {\r\n        one: {\r\n          text: \"test\"\r\n        }\r\n      };\r\n\r\n      instance = new ko.classBindingProvider(bindings);\r\n\r\n      expect(instance.bindings).toEqual(bindings);\r\n    });\r\n\r\n    it(\"should use a default attribute of 'data-class'\", function() {\r\n      expect(instance.attribute).toEqual(\"data-class\");\r\n    });\r\n\r\n    it(\"should use a default fallback value of false\", function() {\r\n      expect(instance.fallback).toBeFalsy();\r\n    });\r\n\r\n    it(\"should respect an override attribute\", function() {\r\n      instance = new ko.classBindingProvider({}, { attribute: \"data-test\" });\r\n      expect(instance.attribute).toEqual(\"data-test\");\r\n    });\r\n\r\n    it(\"should respect an override virtual attribute\", function() {\r\n      instance = new ko.classBindingProvider({}, { virtualAttribute: \"test\" });\r\n      expect(instance.virtualAttribute).toEqual(\"ko test:\");\r\n    });\r\n\r\n    it(\"should respect an override fallback value\", function() {\r\n      instance = new ko.classBindingProvider({}, { fallback: true });\r\n      expect(instance.fallback).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe(\"nodeHasBindings\", function() {\r\n    it(\"should identify elements with data-class\", function() {\r\n      var div = document.createElement(\"div\");\r\n      div.setAttribute(\"data-class\", \"one\");\r\n\r\n      expect(instance.nodeHasBindings(div)).toBeTruthy();\r\n    });\r\n\r\n    it(\"should not identify elements that do not have a data-class attribute\", function() {\r\n      var div = document.createElement(\"div\");\r\n      div.setAttribute(\"data-bind\", \"one\");\r\n\r\n      expect(instance.nodeHasBindings(div)).toBeFalsy();\r\n    });\r\n\r\n    it(\"should identify comments with ko class:\", function() {\r\n      var comment = document.createComment(\"ko class: one\");\r\n      expect(instance.nodeHasBindings(comment)).toBeTruthy();\r\n    });\r\n\r\n    it(\"should not identify comments that do not have ko class:\", function() {\r\n      var comment = document.createComment(\"ko with: one\");\r\n      expect(instance.nodeHasBindings(comment)).toBeFalsy();\r\n    });\r\n\r\n    it(\"should identify elements with a custom attribute name\", function() {\r\n      var div = document.createElement(\"div\");\r\n      div.className = \"one\";\r\n      instance.attribute = \"class\";\r\n\r\n      expect(instance.nodeHasBindings(div)).toBeTruthy();\r\n    });\r\n\r\n    it(\"should identify comments with a custom virtual attribute name\", function() {\r\n      var comment = document.createComment(\"ko test: one\");\r\n      instance.virtualAttribute = \"ko test:\";\r\n\r\n      expect(instance.nodeHasBindings(comment)).toBeTruthy();\r\n    });\r\n\r\n    it(\"should identify elements with data-bind attributes when fallback is true\", function() {\r\n      var div = document.createElement(\"div\");\r\n      div.setAttribute(\"data-bind\", \"text: one\");\r\n      instance.fallback = true;\r\n\r\n      expect(instance.nodeHasBindings(div)).toBeTruthy();\r\n    });\r\n  });\r\n\r\n  describe(\"getBindingAccessors\", function() {\r\n    describe(\"when using a single class\", function() {\r\n      describe(\"for elements\", function() {\r\n        var div;\r\n        beforeEach(function() {\r\n          div = document.createElement(\"div\");\r\n          div.setAttribute(\"data-class\", \"one\");\r\n        });\r\n\r\n        it(\"should return the appropriate bindings for an element\", function() {\r\n          instance.bindings.one = {\r\n            text: \"test\",\r\n            visible: true\r\n          };\r\n\r\n          expect(instance.getBindingAccessors(div).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(div).visible()).toEqual(true);\r\n        });\r\n\r\n        it(\"should execute the binding with the data as the value of 'this'\", function() {\r\n          var valueOfThis,\r\n            data = {};\r\n\r\n          instance.bindings.one = function(context) {\r\n            valueOfThis = this;\r\n          };\r\n\r\n          instance.getBindingAccessors(div, { $data: data });\r\n\r\n          expect(valueOfThis).toEqual(data);\r\n        });\r\n\r\n        it(\"should pass appropriate arguments when executing the binding\", function() {\r\n          var bindingSpy = jasmine.createSpy(\"binding\"),\r\n            context = { $data: {} };\r\n\r\n          instance.bindings.one = bindingSpy;\r\n\r\n          instance.getBindingAccessors(div, context);\r\n\r\n          expect(bindingSpy).toHaveBeenCalled();\r\n          expect(bindingSpy.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpy.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n        });\r\n\r\n        it(\"should ignore a class that does not exist in the bindings for an element\", function() {\r\n          expect(ko.toJSON(instance.getBindingAccessors(div))).toEqual(\"{}\");\r\n        });\r\n\r\n        it(\"should return the appropriate bindings when using a custom attribute\", function() {\r\n          instance.bindings.one = {\r\n            text: \"test\",\r\n            visible: true\r\n          };\r\n\r\n          instance.attribute = \"data-test\";\r\n\r\n          div = document.createElement(\"div\");\r\n          div.setAttribute(\"data-test\", \"one\");\r\n\r\n          expect(instance.getBindingAccessors(div).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(div).visible()).toEqual(true);\r\n        });\r\n      });\r\n\r\n      describe(\"for comments\", function() {\r\n        var comment;\r\n\r\n        beforeEach(function() {\r\n          comment = document.createComment(\"ko class: one\");\r\n        });\r\n\r\n        it(\"should return the appropriate bindings for a comment\", function() {\r\n          instance.bindings.one = {\r\n            text: \"test\",\r\n            visible: true\r\n          };\r\n\r\n          expect(instance.getBindingAccessors(comment).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(comment).visible()).toEqual(true);\r\n        });\r\n\r\n        it(\"should execute the binding with the data as the value of 'this'\", function() {\r\n          var valueOfThis,\r\n            data = {};\r\n\r\n          instance.bindings.one = function(context) {\r\n            valueOfThis = this;\r\n          };\r\n\r\n          instance.getBindingAccessors(comment, { $data: data });\r\n\r\n          expect(valueOfThis).toEqual(data);\r\n        });\r\n\r\n        it(\"should pass appropriate arguments when executing the binding\", function() {\r\n          var bindingSpy = jasmine.createSpy(\"binding\"),\r\n            context = { $data: {} };\r\n\r\n          instance.bindings.one = bindingSpy;\r\n\r\n          instance.getBindingAccessors(comment, context);\r\n\r\n          expect(bindingSpy).toHaveBeenCalled();\r\n          expect(bindingSpy.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpy.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n        });\r\n\r\n        it(\"should ignore a class that does not exist in the bindings for a comment\", function() {\r\n          expect(ko.toJSON(instance.getBindingAccessors(comment))).toEqual(\r\n            \"{}\"\r\n          );\r\n        });\r\n\r\n        it(\"should return the appropriate bindings when using a custom virtual attribute\", function() {\r\n          instance.bindings.one = {\r\n            text: \"test\",\r\n            visible: true\r\n          };\r\n\r\n          instance.virtualAttribute = \"ko test:\";\r\n          comment = document.createComment(\"ko test: one\");\r\n\r\n          expect(instance.getBindingAccessors(comment).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(comment).visible()).toEqual(true);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe(\"when using multiple classes\", function() {\r\n      describe(\"for elements\", function() {\r\n        var div;\r\n\r\n        beforeEach(function() {\r\n          div = document.createElement(\"div\");\r\n        });\r\n\r\n        it(\"should return the appropriate bindings\", function() {\r\n          div.setAttribute(\"data-class\", \"one two\");\r\n\r\n          instance.bindings = {\r\n            one: { text: \"test\" },\r\n            two: { visible: true }\r\n          };\r\n\r\n          expect(instance.getBindingAccessors(div).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(div).visible()).toEqual(true);\r\n        });\r\n\r\n        it(\"should execute the binding with the data as the value of 'this'\", function() {\r\n          var valueOfThisOne,\r\n            valueOfThisTwo,\r\n            data = {};\r\n\r\n          div.setAttribute(\"data-class\", \"one two\");\r\n\r\n          instance.bindings.one = function(context) {\r\n            valueOfThisOne = this;\r\n          };\r\n\r\n          instance.bindings.two = function(context) {\r\n            valueOfThisTwo = this;\r\n          };\r\n\r\n          instance.getBindingAccessors(div, { $data: data });\r\n\r\n          expect(valueOfThisOne).toEqual(data);\r\n          expect(valueOfThisTwo).toEqual(data);\r\n        });\r\n\r\n        it(\"should pass appropriate arguments when executing the binding\", function() {\r\n          var bindingSpyOne = jasmine.createSpy(\"bindingOne\"),\r\n            bindingSpyTwo = jasmine.createSpy(\"bindingTwo\"),\r\n            context = { $data: {} };\r\n\r\n          div.setAttribute(\"data-class\", \"one two\");\r\n\r\n          instance.bindings.one = bindingSpyOne;\r\n          instance.bindings.two = bindingSpyTwo;\r\n\r\n          instance.getBindingAccessors(div, context);\r\n\r\n          expect(bindingSpyOne).toHaveBeenCalled();\r\n          expect(bindingSpyOne.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyOne.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyOne.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n\r\n          expect(bindingSpyTwo).toHaveBeenCalled();\r\n          expect(bindingSpyTwo.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n        });\r\n\r\n        it(\"should ignore extra whitespace\", function() {\r\n          var bindingSpyOne = jasmine.createSpy(\"bindingOne\"),\r\n            bindingSpyTwo = jasmine.createSpy(\"bindingTwo\"),\r\n            context = { $data: {} };\r\n\r\n          div.setAttribute(\r\n            \"data-class\",\r\n            \"           one         two               \"\r\n          );\r\n\r\n          instance.bindings.one = bindingSpyOne;\r\n          instance.bindings.two = bindingSpyTwo;\r\n\r\n          instance.getBindingAccessors(div, context);\r\n\r\n          expect(bindingSpyOne).toHaveBeenCalled();\r\n          expect(bindingSpyOne.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyOne.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyOne.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n          expect(bindingSpyOne.mostRecentCall.args[1].length).toEqual(2);\r\n\r\n          expect(bindingSpyTwo).toHaveBeenCalled();\r\n          expect(bindingSpyTwo.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n          expect(bindingSpyTwo.mostRecentCall.args[1].length).toEqual(2);\r\n        });\r\n\r\n        it(\"should ignore a single class that does not exist from the list of classes for an element\", function() {\r\n          div.setAttribute(\"data-class\", \"one three\");\r\n\r\n          instance.bindings = {\r\n            one: { text: \"test\" },\r\n            two: { visible: true }\r\n          };\r\n\r\n          expect(instance.getBindingAccessors(div).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(div).visible).toBeUndefined;\r\n        });\r\n\r\n        it(\"should properly ignore a case where all bindings do not exist\", function() {\r\n          div.setAttribute(\"data-class\", \"three four\");\r\n\r\n          instance.bindings = { one: { text: \"test\" }, two: { visible: true } };\r\n          expect(ko.toJSON(instance.getBindingAccessors(div))).toEqual(\"{}\");\r\n        });\r\n      });\r\n\r\n      describe(\"for comments\", function() {\r\n        it(\"should return the appropriate bindings for a comment\", function() {\r\n          var comment = document.createComment(\"ko class: one two\");\r\n\r\n          instance.bindings = { one: { text: \"test\" }, two: { visible: true } };\r\n          expect(instance.getBindingAccessors(comment).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(comment).visible()).toEqual(true);\r\n        });\r\n\r\n        it(\"should execute the binding with the data as the value of 'this'\", function() {\r\n          var valueOfThisOne,\r\n            valueOfThisTwo,\r\n            data = {},\r\n            comment = document.createComment(\"ko class: one two\");\r\n\r\n          instance.bindings.one = function(context) {\r\n            valueOfThisOne = this;\r\n          };\r\n\r\n          instance.bindings.two = function(context) {\r\n            valueOfThisTwo = this;\r\n          };\r\n\r\n          instance.getBindingAccessors(comment, { $data: data });\r\n\r\n          expect(valueOfThisOne).toEqual(data);\r\n          expect(valueOfThisTwo).toEqual(data);\r\n        });\r\n\r\n        it(\"should pass appropriate arguments when executing the binding\", function() {\r\n          var bindingSpyOne = jasmine.createSpy(\"bindingOne\"),\r\n            bindingSpyTwo = jasmine.createSpy(\"bindingTwo\"),\r\n            context = { $data: {} },\r\n            comment = document.createComment(\"ko class: one two\");\r\n\r\n          instance.bindings.one = bindingSpyOne;\r\n          instance.bindings.two = bindingSpyTwo;\r\n\r\n          instance.getBindingAccessors(comment, context);\r\n\r\n          expect(bindingSpyOne).toHaveBeenCalled();\r\n          expect(bindingSpyOne.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyOne.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyOne.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n\r\n          expect(bindingSpyTwo).toHaveBeenCalled();\r\n          expect(bindingSpyTwo.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n        });\r\n\r\n        it(\"should ignore extra whitespace\", function() {\r\n          var bindingSpyOne = jasmine.createSpy(\"bindingOne\"),\r\n            bindingSpyTwo = jasmine.createSpy(\"bindingTwo\"),\r\n            context = { $data: {} },\r\n            comment = document.createComment(\r\n              \"ko class:             one            two              \"\r\n            );\r\n\r\n          instance.bindings.one = bindingSpyOne;\r\n          instance.bindings.two = bindingSpyTwo;\r\n\r\n          instance.getBindingAccessors(comment, context);\r\n\r\n          expect(bindingSpyOne).toHaveBeenCalled();\r\n          expect(bindingSpyOne.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyOne.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyOne.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n          expect(bindingSpyOne.mostRecentCall.args[1].length).toEqual(2);\r\n\r\n          expect(bindingSpyTwo).toHaveBeenCalled();\r\n          expect(bindingSpyTwo.mostRecentCall.args[0]).toEqual(context);\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][0]).toEqual(\"one\");\r\n          expect(bindingSpyTwo.mostRecentCall.args[1][1]).toEqual(\"two\");\r\n          expect(bindingSpyTwo.mostRecentCall.args[1].length).toEqual(2);\r\n        });\r\n\r\n        it(\"should ignore a single class that does not exist from the list of classes for an element\", function() {\r\n          var comment = document.createComment(\"ko class: one three\");\r\n\r\n          instance.bindings = {\r\n            one: { text: \"test\" },\r\n            two: { visible: true }\r\n          };\r\n\r\n          expect(instance.getBindingAccessors(comment).text()).toEqual(\"test\");\r\n          expect(instance.getBindingAccessors(comment).visible).toBeUndefined();\r\n        });\r\n\r\n        it(\"should properly ignore a case where all bindings do not exist\", function() {\r\n          var comment = document.createComment(\"ko class: three four\");\r\n\r\n          instance.bindings = { one: { text: \"test\" }, two: { visible: true } };\r\n          expect(ko.toJSON(instance.getBindingAccessors(comment))).toEqual(\r\n            \"{}\"\r\n          );\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n  describe(\"registerBindings\", function() {\r\n    beforeEach(function() {\r\n      instance.bindings = {\r\n        one: { text: \"test\" },\r\n        two: { visible: true }\r\n      };\r\n    });\r\n\r\n    it(\"should add bindings to the existing bindings\", function() {\r\n      instance.registerBindings({\r\n        three: {\r\n          enabled: false\r\n        },\r\n        four: {\r\n          css: {\r\n            active: true\r\n          }\r\n        }\r\n      });\r\n\r\n      expect(ko.toJSON(instance.bindings.one)).toEqual(\r\n        ko.toJSON({\r\n          text: \"test\"\r\n        })\r\n      );\r\n\r\n      expect(ko.toJSON(instance.bindings.two)).toEqual(\r\n        ko.toJSON({\r\n          visible: true\r\n        })\r\n      );\r\n\r\n      expect(ko.toJSON(instance.bindings.three)).toEqual(\r\n        ko.toJSON({\r\n          enabled: false\r\n        })\r\n      );\r\n\r\n      expect(ko.toJSON(instance.bindings.four)).toEqual(\r\n        ko.toJSON({\r\n          css: {\r\n            active: true\r\n          }\r\n        })\r\n      );\r\n    });\r\n  });\r\n\r\n  describe(\"default bindingRouter\", function() {\r\n    beforeEach(function() {\r\n      instance.bindings = {\r\n        one: {\r\n          two: {\r\n            three: {\r\n              text: \"match on sub properties\"\r\n            }\r\n          }\r\n        },\r\n        \"one.two.three.four\": {\r\n          text: \"match directly\"\r\n        }\r\n      };\r\n    });\r\n\r\n    it(\"should follow binding path and find the binding\", function() {\r\n      expect(\r\n        instance.bindingRouter(\"one.two.three\", instance.bindings).text\r\n      ).toEqual(\"match on sub properties\");\r\n    });\r\n\r\n    it(\"should match a property directly, even if it contains periods\", function() {\r\n      expect(\r\n        instance.bindingRouter(\"one.two.three.four\", instance.bindings).text\r\n      ).toEqual(\"match directly\");\r\n    });\r\n  });\r\n\r\n  describe(\"when Knockout uses this binding provider\", function() {\r\n    describe(\"with default settings\", function() {\r\n      beforeEach(function() {\r\n        ko.bindingProvider.instance = instance;\r\n      });\r\n\r\n      describe(\"for elements\", function() {\r\n        it(\"should execute the appropriate bindings\", function() {\r\n          var div = document.createElement(\"div\");\r\n\r\n          div.setAttribute(\"data-class\", \"one two three.sub\");\r\n\r\n          instance.bindings = {\r\n            one: { text: \"test\" },\r\n            two: { visible: true },\r\n            three: {\r\n              sub: {\r\n                attr: {\r\n                  title: \"title_test\"\r\n                }\r\n              }\r\n            }\r\n          };\r\n\r\n          ko.applyBindings({}, div);\r\n          expect(div.innerText || div.textContent).toEqual(\"test\");\r\n          expect(div.style.display).toBeFalsy();\r\n          expect(div.getAttribute(\"title\")).toEqual(\"title_test\");\r\n        });\r\n      });\r\n\r\n      describe(\"for comments\", function() {\r\n        it(\"should execute the appropriate bindings\", function() {\r\n          var data = { testing: \"test\" },\r\n            parent = document.createElement(\"div\"),\r\n            commentStart = document.createComment(\"ko class: one\"),\r\n            commentEnd = document.createComment(\"/ko\"),\r\n            child = document.createElement(\"div\");\r\n\r\n          parent.appendChild(commentStart);\r\n          parent.appendChild(child);\r\n          parent.appendChild(commentEnd);\r\n          child.setAttribute(\"data-class\", \"two\");\r\n\r\n          instance.bindings = {\r\n            one: { with: data },\r\n            two: function(context) {\r\n              return { text: this.testing };\r\n            }\r\n          };\r\n\r\n          ko.applyBindings({}, parent);\r\n\r\n          expect(\r\n            parent.childNodes[1].innerText || parent.childNodes[1].textContent\r\n          ).toEqual(\"test\");\r\n        });\r\n      });\r\n    });\r\n\r\n    describe(\"with fallback true, a custom attribute, and a custom virtual attribute\", function() {\r\n      beforeEach(function() {\r\n        ko.bindingProvider.instance = instance = new ko.classBindingProvider(\r\n          {},\r\n          {\r\n            attribute: \"data-klass\",\r\n            virtualAttribute: \"klass\",\r\n            fallback: true\r\n          }\r\n        );\r\n      });\r\n\r\n      describe(\"for elements\", function() {\r\n        it(\"should execute the appropriate bindings\", function() {\r\n          var div = document.createElement(\"div\");\r\n\r\n          div.setAttribute(\"data-klass\", \"one two\");\r\n\r\n          instance.bindings = {\r\n            one: { text: \"test\" },\r\n            two: { visible: true }\r\n          };\r\n\r\n          ko.applyBindings({}, div);\r\n\r\n          expect(div.innerText || div.textContent).toEqual(\"test\");\r\n          expect(div.style.display).toBeFalsy();\r\n        });\r\n\r\n        it(\"should fallback to respecting data-bind attributes\", function() {\r\n          var div = document.createElement(\"div\");\r\n\r\n          div.setAttribute(\"data-bind\", \"text: 'test', visible: true\");\r\n\r\n          ko.applyBindings({}, div);\r\n\r\n          expect(div.innerText || div.textContent).toEqual(\"test\");\r\n          expect(div.style.display).toBeFalsy();\r\n        });\r\n      });\r\n\r\n      describe(\"for comments\", function() {\r\n        it(\"should execute the appropriate bindings\", function() {\r\n          var parent = document.createElement(\"div\"),\r\n            commentStart = document.createComment(\"ko klass: data\"),\r\n            commentEnd = document.createComment(\"/ko\"),\r\n            child = document.createElement(\"div\"),\r\n            childFallback = document.createElement(\"div\");\r\n\r\n          instance.bindings = {\r\n            data: function() {\r\n              return { with: this.data };\r\n            },\r\n            one: function() {\r\n              return {\r\n                text: this.testing\r\n              };\r\n            },\r\n            two: { visible: true }\r\n          };\r\n\r\n          parent.appendChild(commentStart);\r\n          parent.appendChild(child);\r\n          parent.appendChild(childFallback);\r\n          parent.appendChild(commentEnd);\r\n\r\n          child.setAttribute(\"data-klass\", \"one two\");\r\n          childFallback.setAttribute(\"data-bind\", \"text: testing\");\r\n\r\n          ko.applyBindings(\r\n            {\r\n              data: {\r\n                testing: \"test\"\r\n              }\r\n            },\r\n            parent\r\n          );\r\n\r\n          expect(\r\n            parent.childNodes[1].innerText || parent.childNodes[1].textContent\r\n          ).toEqual(\"test\");\r\n          expect(parent.childNodes[1].style.display).toBeFalsy();\r\n          expect(\r\n            parent.childNodes[2].innerText || parent.childNodes[2].textContent\r\n          ).toEqual(\"test\");\r\n        });\r\n\r\n        it(\"should fallback to the appropriate bindings\", function() {\r\n          var parent = document.createElement(\"div\"),\r\n            commentStart = document.createComment(\"ko with: data\"),\r\n            commentEnd = document.createComment(\"/ko\"),\r\n            child = document.createElement(\"div\"),\r\n            childFallback = document.createElement(\"div\");\r\n\r\n          instance.bindings = {\r\n            one: function() {\r\n              return {\r\n                text: this.testing\r\n              };\r\n            },\r\n            two: { visible: true }\r\n          };\r\n\r\n          parent.appendChild(commentStart);\r\n          parent.appendChild(child);\r\n          parent.appendChild(childFallback);\r\n          parent.appendChild(commentEnd);\r\n\r\n          child.setAttribute(\"data-klass\", \"one two\");\r\n          childFallback.setAttribute(\"data-bind\", \"text: testing\");\r\n\r\n          ko.applyBindings(\r\n            {\r\n              data: {\r\n                testing: \"test\"\r\n              }\r\n            },\r\n            parent\r\n          );\r\n\r\n          expect(\r\n            parent.childNodes[1].innerText || parent.childNodes[1].textContent\r\n          ).toEqual(\"test\");\r\n          expect(parent.childNodes[1].style.display).toBeFalsy();\r\n          expect(\r\n            parent.childNodes[2].innerText || parent.childNodes[2].textContent\r\n          ).toEqual(\"test\");\r\n        });\r\n      });\r\n    });\r\n\r\n    describe(\"with a custom binding router\", function() {\r\n      var router, bindings;\r\n      beforeEach(function() {\r\n        router = function(className, bindings) {\r\n          return { text: className };\r\n        };\r\n\r\n        bindings = {};\r\n\r\n        ko.bindingProvider.instance = instance = new ko.classBindingProvider(\r\n          bindings,\r\n          {\r\n            bindingRouter: router\r\n          }\r\n        );\r\n      });\r\n\r\n      it(\"should call a custom binding router with the correct arguments\", function() {\r\n        var div = document.createElement(\"div\");\r\n\r\n        spyOn(instance, \"bindingRouter\");\r\n\r\n        div.setAttribute(\"data-class\", \"one\");\r\n\r\n        ko.applyBindings({}, div);\r\n\r\n        expect(instance.bindingRouter).toHaveBeenCalledWith(\"one\", bindings);\r\n      });\r\n\r\n      it(\"should use the return value of the custom binding router as the binding\", function() {\r\n        var div = document.createElement(\"div\");\r\n\r\n        div.setAttribute(\"data-class\", \"one\");\r\n\r\n        ko.applyBindings({}, div);\r\n\r\n        expect(div.innerText || div.textContent).toEqual(\"one\");\r\n      });\r\n    });\r\n  });\r\n});\r\n"],"sourceRoot":""}